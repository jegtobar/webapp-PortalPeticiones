(function(e){function t(t){for(var i,n,l=t[0],c=t[1],r=t[2],u=0,m=[];u<l.length;u++)n=l[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&m.push(o[n][0]),o[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,r||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,l=1;l<a.length;l++){var c=a[l];0!==o[c]&&(i=!1)}i&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},o={app:0},s=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/apps/portalpeticiones/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var r=0;r<l.length;r++)t(l[r]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1aea":function(e,t,a){"use strict";a("ca4a")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("b0c0");var i=a("2b0e"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",[i("v-card",{staticClass:"mx-auto overflow-hidden",attrs:{height:"100%",width:"100%"}},[e.$route.meta.hideNavbar?e._e():i("v-system-bar",{attrs:{app:"",color:"#97d700"}},[i("v-spacer")],1),e.$route.meta.hideNavbar?e._e():i("v-app-bar",{staticClass:" accent-4 white--text",attrs:{app:"",color:"#10069f"}},[i("v-toolbar-title",[i("v-list-item",{attrs:{to:{path:"/inicio"}}},[i("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Muni-logo",contain:"",src:a("8f1f"),transition:"scale-transition",width:"40",to:{path:"/"}}}),i("h2",{staticClass:"white--text"},[e._v("Portal Región 1")])],1)],1)],1),e.$route.meta.hideNavbar?e._e():i("v-navigation-drawer",{attrs:{app:"",clipped:"",fixed:"",permanent:"","mini-variant":"","expand-on-hover":""}},[i("v-list",[i("Avatar")],1),i("v-divider"),i("Menu"),i("v-list",{attrs:{nav:"",dense:""}},[i("v-list-item",{attrs:{link:""},on:{click:function(t){return e.logout()}}},[i("v-icon",[e._v(" mdi-logout ")]),i("v-list-item-title",[e._v("Salir")])],1)],1)],1),i("v-main",[i("v-container",{attrs:{fluid:""}},[i("v-fade-transition",{attrs:{mode:"out-in"}},[i("router-view")],1)],1)],1)],1)],1)},s=[],n=a("5530"),l=a("2f62"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-list-item",[a("v-list-item-content",[a("v-list-item",{staticClass:"px-2"},[a("v-avatar",[a("img",{attrs:{src:e.avatarData}})])],1),a("v-list-item-title",{staticClass:"text-h6"},[e._v(" "+e._s(e.userData.nombre)+" ")]),a("v-list-item-title",{staticClass:"text-h6"},[e._v(" "+e._s(e.userData.apellido)+" ")]),a("v-list-item-subtitle",[e._v(e._s(e.userData.alcaldia))]),a("v-list-item-subtitle",[e._v(e._s(e.userData.rol))])],1)],1)],1)},r=[],d={computed:{userData:function(){var e={nombre:JSON.parse(localStorage.getItem("nombres")),apellido:JSON.parse(localStorage.getItem("apellidos")),alcaldia:JSON.parse(localStorage.getItem("user_alcaldia")),rol:JSON.parse(localStorage.getItem("user_rol"))};return e},avatarData:function(){return JSON.parse(localStorage.getItem("avatar"))}}},u=d,m=a("2877"),p=a("6544"),v=a.n(p),f=a("8212"),g=a("da13"),h=a("5d23"),b=Object(m["a"])(u,c,r,!1,null,null,null),x=b.exports;v()(b,{VAvatar:f["a"],VListItem:g["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"]});var _=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-list",{attrs:{nav:"",dense:""}},e._l(e.links,(function(t,i){return a("div",{key:i},[t.subLinks?a("v-list-group",{key:t.text,attrs:{"no-action":"","prepend-icon":t.icon,value:!1},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-title",[e._v(e._s(t.text))])]},proxy:!0}],null,!0)},[[a("div",e._l(t.subLinks,(function(t){return a("v-list-item",{key:t.text,attrs:{to:t.to}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-title",[e._v(e._s(t.text))])],1)})),1)]],2):a("v-list-item",{staticClass:"v-list-item",attrs:{to:t.to}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)],1)})),0)],1)},I=[],S=a("bc3a"),w=a.n(S),C={mounted:function(){this.getMenu()},data:function(){return{links:[]}},methods:{getMenu:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/menu/"+JSON.parse(localStorage.getItem("user_id"))).then((function(t){e.links=t.data.menu,console.log(e.arreglo.menu)})).catch((function(e){console.log(e.response.data)}))}}},k=C,V=a("132d"),y=a("8860"),N=a("56b0"),$=a("34c3"),A=Object(m["a"])(k,_,I,!1,null,null,null),z=A.exports;v()(A,{VIcon:V["a"],VList:y["a"],VListGroup:N["a"],VListItem:g["a"],VListItemIcon:$["a"],VListItemTitle:h["c"]});var D={name:"App",data:function(){return{nombres:JSON.parse(localStorage.getItem("nombres")),apellidos:JSON.parse(localStorage.getItem("apellidos")),z:JSON.parse(localStorage.getItem("zona")),r:JSON.parse(localStorage.getItem("rolUsuario")),arreglo:[]}},methods:Object(n["a"])({},Object(l["b"])(["logout"])),components:{Avatar:x,Menu:z}},T=D,E=(a("1aea"),a("7496")),M=a("40dc"),O=a("b0af"),R=a("a523"),P=a("ce7e"),B=a("0789"),j=a("adda"),L=a("f6c4"),F=a("f774"),J=a("2fa4"),G=a("afd9"),q=a("2a7f"),U=Object(m["a"])(T,o,s,!1,null,"126b358a",null),Z=U.exports;v()(U,{VApp:E["a"],VAppBar:M["a"],VCard:O["a"],VContainer:R["a"],VDivider:P["a"],VFadeTransition:B["c"],VIcon:V["a"],VImg:j["a"],VList:y["a"],VListItem:g["a"],VListItemTitle:h["c"],VMain:L["a"],VNavigationDrawer:F["a"],VSpacer:J["a"],VSystemBar:G["a"],VToolbarTitle:q["b"]});a("e9c4");var W=!0,H={show:!1},K={setShow:function(e,t){e.show=t}},Y={},Q={},X={namespaced:W,state:H,mutations:K,actions:Y,getters:Q};i["default"].use(l["a"]);var ee=new l["a"].Store({state:{accessToken:null,loggingIn:!1,loginError:null},getters:{},mutations:{loginStart:function(e){return e.loggingIn=!0},loginStop:function(e,t){e.loggingIn=!1,e.loginError=t},updateAccessToken:function(e,t){e.accessToken=t},logout:function(e){e.accessToken=null}},actions:{doLogin:function(e,t){var a=e.commit;a("loginStart"),w()({method:"POST",url:"https://udicat.muniguate.com/apis/api-portalpeticiones/public/login",data:t}).then((function(e){!0===e.data.res?(a("loginStop",null),localStorage.setItem("usuario",JSON.stringify(e.data.data)),localStorage.setItem("username",JSON.stringify(e.data.username)),localStorage.setItem("rol",JSON.stringify(e.data.rol_id)),localStorage.setItem("alcaldia",JSON.stringify(e.data.alcaldia_id)),localStorage.setItem("nombres",JSON.stringify(e.data.nombres)),localStorage.setItem("apellidos",JSON.stringify(e.data.apellidos)),localStorage.setItem("user_id",JSON.stringify(e.data.user_id)),localStorage.setItem("avatar",JSON.stringify(e.data.avatar)),localStorage.setItem("user_alcaldia",JSON.stringify(e.data.alcaldia)),localStorage.setItem("user_rol",JSON.stringify(e.data.rol))):alert("Datos incorrectos")}))},fetchAccessToken:function(e){var t=e.commit;t("updateAccessToken",localStorage.getItem("usuario"))},logout:function(e){var t=e.commit;localStorage.removeItem("usuario"),localStorage.removeItem("username"),localStorage.removeItem("rol"),localStorage.removeItem("alcaldia"),localStorage.removeItem("nombres"),localStorage.removeItem("apellidos"),localStorage.removeItem("zona"),localStorage.removeItem("rolUsuario"),t("logout"),fo.push("/")}},modules:{dialog:X}}),te=a("f309");i["default"].use(te["a"]);var ae=new te["a"]({}),ie=a("8c4f"),oe=a("f9d5"),se=a.n(oe),ne=a("4452"),le=a.n(ne),ce=(a("4413"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-app",[i("v-row",{attrs:{align:"center",justify:"center"}},[i("v-col",{attrs:{cols:"12",sm:"10"}},[i("v-card",{staticClass:"elevation-6"},[i("v-row",[i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-card-text",{staticClass:"mt-15"},[i("h4",{staticClass:"text-center"},[e._v("Inicio de Sesión")]),i("v-row",{attrs:{align:"center",justify:"center"}},[i("v-col",{attrs:{cols:"12",sm:"8"}},[i("v-form",{ref:"formValidate",on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}},model:{value:e.validate,callback:function(t){e.validate=t},expression:"validate"}},[i("v-text-field",{staticClass:"mt-16",attrs:{label:"Usuario",outlined:"",dense:"",color:"blue",autocomplete:"false",rules:e.nameRules},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),i("v-text-field",{attrs:{label:"Contraseña",outlined:"",dense:"",color:"blue",autocomplete:"false",type:e.showPassword?"text":"password",rules:e.passwordRules,"append-icon":e.showPassword?"mdi-eye-off":"mdi-eye"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),i("v-row",[i("v-col",{attrs:{cols:"12",sm:"5"}})],1),i("v-btn",{attrs:{type:"submit",color:"blue",dark:"",block:"",tile:""}},[e._v("Ingresar")])],1),i("div",{staticClass:"d-flex  justify-space-between align-center mx-10 mb-16"})],1)],1)],1)],1),i("v-col",{staticClass:"light-blue darken-4 rounded-bl-xl",attrs:{cols:"12",md:"6"}},[i("div",{staticClass:"d-flex flex-column justify-space-between align-center",staticStyle:{"text-align":"center",padding:"180px 0"}},[i("v-img",{attrs:{alt:"Muni-logo",src:a("8f1f"),transition:"scale-transition",width:"100"}}),i("v-card-text",{staticClass:"white--text"},[i("h1",{staticClass:"text-center "},[e._v("Portal Región 1")]),i("br")]),i("div",{staticClass:"text-center"})],1)])],1)],1)],1)],1)],1)],1)}),re=[],de={name:"login",data:function(){return{validate:!0,showPassword:!1,user:{},showPass:!1,nameRules:[function(e){return!!e||"Usuario es requerido"}],passwordRules:[function(e){return!!e||"Contraseña es requerida"}]}},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])(["doLogin"])),{},{login:function(){this.$refs.formValidate.validate(),this.validate&&this.doLogin(this.user)}}),computed:Object(n["a"])({},Object(l["d"])(["loggingIn","loginError","loginError"]))},ue=de,me=(a("b709"),a("8336")),pe=a("99d9"),ve=a("62ad"),fe=a("4bd4"),ge=a("0fd9"),he=a("8654"),be=Object(m["a"])(ue,ce,re,!1,null,"8e64b0d8",null),xe=be.exports;v()(be,{VApp:E["a"],VBtn:me["a"],VCard:O["a"],VCardText:pe["b"],VCol:ve["a"],VContainer:R["a"],VForm:fe["a"],VImg:j["a"],VRow:ge["a"],VTextField:he["a"]});var _e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-chart-areaspline")]),e._v(" Top 5: Metas Vecinos Satisfechos - Vecinos Muy Satisfechos ")],1),a("v-spacer")],1)],1),a("v-row",[a("v-col",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-chart-areaspline")]),e._v(" Vecinos Satisfechos ")],1),a("Satisfechos")],1),a("v-col",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-chart-areaspline")]),e._v(" Vecinos Satisfechos ")],1),a("MntoSatisfechos")],1)],1),a("v-spacer"),a("v-row",[a("v-col",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-chart-areaspline")]),e._v(" Vecinos Muy Satisfechos ")],1),a("MuySatisfechos")],1),a("v-col",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-chart-areaspline")]),e._v(" Vecinos Muy Satisfechos ")],1),a("MntoMuySatisfechos")],1)],1)],1)},Ie=[],Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th"),a("th",{staticClass:"text-left"},[e._v(" Promotor ")]),a("th",{staticClass:"text-left"},[e._v(" Colonia ")]),a("th",{staticClass:"text-left"},[e._v(" Vecinos ")]),a("th",{staticClass:"text-left"},[e._v(" Meta ")]),a("th",{staticClass:"text-left"},[e._v(" Por alcanzar ")]),a("th",[a("v-icon",[e._v("mdi-account-check-outline")])],1)])]),a("tbody",e._l(e.arreglo,(function(t){return a("tr",{key:t.responsable},[a("td",[a("v-avatar",[a("img",{attrs:{src:t.avatar}})])],1),a("td",[e._v(e._s(t.responsable))]),a("td",[e._v(e._s(t.colonia))]),a("td",[e._v(e._s(t.actual))]),a("td",[e._v(e._s(t.meta))]),a("td",[e._v(e._s(t.por_alcanzar))]),a("td",[a("v-icon",[e._v("mdi-emoticon-happy-outline")])],1)])})),0)]},proxy:!0}])})},we=[],Ce={mounted:function(){this.getSatisfechos()},data:function(){return{arreglo:[]}},methods:{getSatisfechos:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/tablero/satisfechos").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))}}},ke=Ce,Ve=a("1f4f"),ye=Object(m["a"])(ke,Se,we,!1,null,null,null),Ne=ye.exports;v()(ye,{VAvatar:f["a"],VIcon:V["a"],VSimpleTable:Ve["a"]});var $e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th"),a("th",{staticClass:"text-left"},[e._v(" Promotor ")]),a("th",{staticClass:"text-left"},[e._v(" Colonia ")]),a("th",{staticClass:"text-left"},[e._v(" Vecinos ")]),a("th",{staticClass:"text-left"},[e._v(" Meta ")]),a("th",{staticClass:"text-left"},[e._v(" Por alcanzar ")]),a("th",[a("v-icon",[e._v("mdi-account-check-outline")])],1)])]),a("tbody",e._l(e.arreglo,(function(t){return a("tr",{key:t.responsable},[a("td",[a("v-avatar",[a("img",{attrs:{src:t.avatar}})])],1),a("td",[e._v(e._s(t.responsable))]),a("td",[e._v(e._s(t.colonia))]),a("td",[e._v(e._s(t.actual))]),a("td",[e._v(e._s(t.meta))]),a("td",[e._v(e._s(t.por_alcanzar))]),a("td",[a("v-icon",[e._v("mdi-emoticon-sad-outline")])],1)])})),0)]},proxy:!0}])})},Ae=[],ze={mounted:function(){this.getSatisfechos()},data:function(){return{arreglo:[]}},methods:{getSatisfechos:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/tablero/mntosatisfechos").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))}}},De=ze,Te=Object(m["a"])(De,$e,Ae,!1,null,null,null),Ee=Te.exports;v()(Te,{VAvatar:f["a"],VIcon:V["a"],VSimpleTable:Ve["a"]});var Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th"),a("th",{staticClass:"text-left"},[e._v(" Promotor ")]),a("th",{staticClass:"text-left"},[e._v(" Colonia ")]),a("th",{staticClass:"text-left"},[e._v(" Vecinos ")]),a("th",{staticClass:"text-left"},[e._v(" Meta ")]),a("th",{staticClass:"text-left"},[e._v(" Por alcanzar ")]),a("th",[a("v-icon",[e._v("mdi-account-check-outline")])],1)])]),a("tbody",e._l(e.arreglo,(function(t){return a("tr",{key:t.responsable},[a("td",[a("v-avatar",[a("img",{attrs:{src:t.avatar}})])],1),a("td",[e._v(e._s(t.responsable))]),a("td",[e._v(e._s(t.colonia))]),a("td",[e._v(e._s(t.actual))]),a("td",[e._v(e._s(t.meta))]),a("td",[e._v(e._s(t.por_alcanzar))]),a("td",[a("v-icon",[e._v("mdi-emoticon-happy-outline")])],1)])})),0)]},proxy:!0}])})},Oe=[],Re={mounted:function(){this.getSatisfechos()},data:function(){return{arreglo:[]}},methods:{getSatisfechos:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/tablero/muysatisfechos").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))}}},Pe=Re,Be=Object(m["a"])(Pe,Me,Oe,!1,null,null,null),je=Be.exports;v()(Be,{VAvatar:f["a"],VIcon:V["a"],VSimpleTable:Ve["a"]});var Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th"),a("th",{staticClass:"text-left"},[e._v(" Promotor ")]),a("th",{staticClass:"text-left"},[e._v(" Colonia ")]),a("th",{staticClass:"text-left"},[e._v(" Vecinos ")]),a("th",{staticClass:"text-left"},[e._v(" Meta ")]),a("th",{staticClass:"text-left"},[e._v(" Por alcanzar ")]),a("th",[a("v-icon",[e._v("mdi-account-check-outline")])],1)])]),a("tbody",e._l(e.arreglo,(function(t){return a("tr",{key:t.responsable},[a("td",[a("v-avatar",[a("img",{attrs:{src:t.avatar}})])],1),a("td",[e._v(e._s(t.responsable))]),a("td",[e._v(e._s(t.colonia))]),a("td",[e._v(e._s(t.actual))]),a("td",[e._v(e._s(t.meta))]),a("td",[e._v(e._s(t.por_alcanzar))]),a("td",[a("v-icon",[e._v("mdi-emoticon-sad-outline")])],1)])})),0)]},proxy:!0}])})},Fe=[],Je={mounted:function(){this.getSatisfechos()},data:function(){return{arreglo:[]}},methods:{getSatisfechos:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/tablero/mntomuysatisfechos").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))}}},Ge=Je,qe=Object(m["a"])(Ge,Le,Fe,!1,null,null,null),Ue=qe.exports;v()(qe,{VAvatar:f["a"],VIcon:V["a"],VSimpleTable:Ve["a"]});var Ze={data:function(){return{}},components:{Satisfechos:Ne,MntoSatisfechos:Ee,MuySatisfechos:je,MntoMuySatisfechos:Ue}},We=Ze,He=a("e4e5"),Ke=Object(m["a"])(We,_e,Ie,!1,null,null,null),Ye=Ke.exports;v()(Ke,{VBanner:He["a"],VCol:ve["a"],VContainer:R["a"],VIcon:V["a"],VRow:ge["a"],VSpacer:J["a"]});var Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Lista de Usuarios")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.usuarios,search:e.search,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Usuarios")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Nombres"},model:{value:e.editedItem.nombres,callback:function(t){e.$set(e.editedItem,"nombres",t)},expression:"editedItem.nombres"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Apellidos"},model:{value:e.editedItem.apellidos,callback:function(t){e.$set(e.editedItem,"apellidos",t)},expression:"editedItem.apellidos"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Usuario"},model:{value:e.editedItem.username,callback:function(t){e.$set(e.editedItem,"username",t)},expression:"editedItem.username"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Contraseña"},model:{value:e.editedItem.password,callback:function(t){e.$set(e.editedItem,"password",t)},expression:"editedItem.password"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"NIT"},model:{value:e.editedItem.nit,callback:function(t){e.$set(e.editedItem,"nit",t)},expression:"editedItem.nit"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"DPI"},model:{value:e.editedItem.dpi,callback:function(t){e.$set(e.editedItem,"dpi",t)},expression:"editedItem.dpi"}})],1),a("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"zona_id",label:"Alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){e.getDistritoEdit(),e.getSectorEdit()}},model:{value:e.editedItem.alcaldia_id,callback:function(t){e.$set(e.editedItem,"alcaldia_id",t)},expression:"editedItem.alcaldia_id"}}),"1"==e.editedItem.alcaldia_id||"4"==e.editedItem.alcaldia_id?a("v-select",{attrs:{items:e.distrito,"item-text":"distrito","item-value":"distrito_id",label:"Distrito",outlined:"",color:"#10069f"},model:{value:e.editedItem.distrito_id,callback:function(t){e.$set(e.editedItem,"distrito_id",t)},expression:"editedItem.distrito_id"}}):e._e(),"3"==e.editedItem.alcaldia_id?a("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f"},model:{value:e.editedItem.sector_id,callback:function(t){e.$set(e.editedItem,"sector_id",t)},expression:"editedItem.sector_id"}}):e._e(),a("v-select",{attrs:{items:e.roles,"item-text":"rol","item-value":"id",label:"Rol de usuario",outlined:"",color:"#10069f"},model:{value:e.editedItem.rol_id,callback:function(t){e.$set(e.editedItem,"rol_id",t)},expression:"editedItem.rol_id"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.editarUsuario}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" Nuevo ")])]}}]),model:{value:e.dialogNewItem,callback:function(t){e.dialogNewItem=t},expression:"dialogNewItem"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarUsuario.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Nombres",rules:e.Rules},model:{value:e.newItem.nombres,callback:function(t){e.$set(e.newItem,"nombres",t)},expression:"newItem.nombres"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Apellidos",rules:e.Rules},model:{value:e.newItem.apellidos,callback:function(t){e.$set(e.newItem,"apellidos",t)},expression:"newItem.apellidos"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Usuario",rules:e.Rules},model:{value:e.newItem.username,callback:function(t){e.$set(e.newItem,"username",t)},expression:"newItem.username"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Contraseña",rules:e.Rules},model:{value:e.newItem.password,callback:function(t){e.$set(e.newItem,"password",t)},expression:"newItem.password"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"NIT"},model:{value:e.newItem.nit,callback:function(t){e.$set(e.newItem,"nit",t)},expression:"newItem.nit"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"DPI",type:"number",rules:e.Rules},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),a("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"zona_id",label:"Alcaldia",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){e.getDistrito(),e.getSector()}},model:{value:e.newItem.alcaldia_id,callback:function(t){e.$set(e.newItem,"alcaldia_id",t)},expression:"newItem.alcaldia_id"}}),"1"==e.newItem.alcaldia_id||"4"==e.newItem.alcaldia_id?a("v-select",{attrs:{items:e.distrito,"item-text":"distrito","item-value":"distrito_id",label:"Distrito",outlined:"",color:"#10069f"},model:{value:e.newItem.distrito_id,callback:function(t){e.$set(e.newItem,"distrito_id",t)},expression:"newItem.distrito_id"}}):e._e(),"3"==e.newItem.alcaldia_id?a("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f"},model:{value:e.newItem.sector_id,callback:function(t){e.$set(e.newItem,"sector_id",t)},expression:"newItem.sector_id"}}):e._e(),a("v-select",{attrs:{items:e.roles,"item-text":"rol","item-value":"id",label:"Rol de usuario",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.rol_id,callback:function(t){e.$set(e.newItem,"rol_id",t)},expression:"newItem.rol_id"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeNewItem}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){e.editItem(i),e.getDistritoEdit(),e.getSectorEdit()}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}}])})]],2)},Xe=[],et={mounted:function(){this.getUsuarios(),this.getAlcaldias(),this.getRoles()},data:function(){return{search:"",dialog:!1,dialogDelete:!1,dialogNewItem:!1,valid:!0,Rules:[function(e){return!!e||"Campo requerido"}],headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Nombres",value:"nombres"},{text:"Apellidos",value:"apellidos"},{text:"Usuario",value:"username"},{text:"NIT",value:"nit"},{text:"DPI",value:"dpi"},{text:"Rol",value:"rol"},{text:"Alcaldía",value:"alcaldia"},{text:"Distrito",value:"distrito"},{text:"Sector",value:"sector"},{text:"Acción",value:"actions",sortable:!1}],usuarios:[{id:"",nombres:"",apellidos:"",username:"",nit:"",dpi:"",rol_id:"",alcaldia_id:""}],editedIndex:-1,editedItem:{id:"",nombres:"",apellidos:"",username:"",password:null,nit:"",dpi:"",rol_id:"",alcaldia_id:"",distrito_id:"",distrito:"",sector_id:"",updated_at:""},newItem:{rol_id:"",alcaldia_id:"",distrito_id:null,sector_id:null,nombres:"",apellidos:"",username:"",password:"",nit:"",dpi:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},alcaldias:[],roles:[],zona:[],distrito:[],sector:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Usuario":"Editar Usuario"}},watch:{dialog:function(e){e||this.close()},dialogNewItem:function(e){e||this.closeNewItem()}},methods:{getUsuarios:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/usuarios").then((function(t){e.usuarios=t.data.usuarios})).catch((function(e){console.log(e.response.data)}))},getAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getRoles:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/roles").then((function(t){e.roles=t.data.roles})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.editedIndex=this.usuarios.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.usuarios.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El usuario será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/"+e.editedItem.id).then((function(){e.getUsuarios()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Usuario eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeNewItem:function(){var e=this;this.dialogNewItem=!1,this.$nextTick((function(){e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},editarUsuario:function(){var e=this;this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Usuario",text:"Usuario editado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getUsuarios(),e.close())}))).catch((function(e){console.log(e.response.data)}))},guardarUsuario:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/register",this.newItem).then(this.$swal({title:"Crear Usuario",text:"Usuario registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getUsuarios(),e.closeNewItem(),e.limpiar())}))).catch((function(e){console.log(e.response.data)}))},getDistrito:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.newItem.alcaldia_id).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getSector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.newItem.alcaldia_id).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},getDistritoEdit:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.editedItem.alcaldia_id).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getSectorEdit:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.editedItem.alcaldia_id).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},limpiar:function(){this.newItem={rol_id:"",alcaldia_id:"",distrito_id:"",sector_id:"",nombres:"",apellidos:"",username:"",password:"",nit:"",dpi:"",zona:"",usuario_creador:"jtobar"}}}},tt=et,at=a("8fea"),it=a("169a"),ot=a("b974"),st=a("71d9"),nt=Object(m["a"])(tt,Qe,Xe,!1,null,null,null),lt=nt.exports;v()(nt,{VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:R["a"],VDataTable:at["a"],VDialog:it["a"],VDivider:P["a"],VForm:fe["a"],VIcon:V["a"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account-cog")]),e._v(" Editar usuario ")],1),a("v-spacer")],1)],1),a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardar.apply(null,arguments)}}},[a("v-row",[a("v-col",[a("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"374"}},[a("template",{slot:"progress"},[a("v-progress-linear",{attrs:{color:"deep-purple",height:"10",indeterminate:""}})],1),a("v-img",{attrs:{contain:"",height:"250",src:e.editedItem.avatar}}),a("v-divider",{staticClass:"mx-4"}),a("v-card-actions",[a("v-file-input",{attrs:{rules:e.rulesImg,accept:"image/png, image/jpeg, image/bmp",placeholder:"Cambiar avatar","prepend-icon":"mdi-camera",label:"Avatar"},model:{value:e.avatar,callback:function(t){e.avatar=t},expression:"avatar"}})],1)],2)],1),a("v-col",[a("v-text-field",{attrs:{label:"Nombres"},model:{value:e.editedItem.nombres,callback:function(t){e.$set(e.editedItem,"nombres",t)},expression:"editedItem.nombres"}}),a("v-text-field",{attrs:{label:"Apellidos"},model:{value:e.editedItem.apellidos,callback:function(t){e.$set(e.editedItem,"apellidos",t)},expression:"editedItem.apellidos"}}),a("v-text-field",{attrs:{label:"Cambiar contraseña",type:e.showPassword?"text":"password","append-icon":e.showPassword?"mdi-eye-off":"mdi-eye",rules:e.rules},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.editedItem.password,callback:function(t){e.$set(e.editedItem,"password",t)},expression:"editedItem.password"}}),a("v-text-field",{attrs:{label:"Confirmar contraseña",type:e.showPassword?"text":"password","append-icon":e.showPassword?"mdi-eye-off":"mdi-eye"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.match,callback:function(t){e.match=t},expression:"match"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1)},rt=[],dt=(a("ac1f"),a("466d"),{mounted:function(){this.getUsuario()},data:function(){return{match:"",validate:!0,showPassword:!1,avatar:null,editedItem:{id:"",nombres:"",apellidos:"",password:""},rulesImg:[function(e){return!e||e.size<2e6||"Avatar debe ser menor a 2 MB"}]}},computed:{rules:function(){var e=this,t=[];if(this.match){var a=function(t){return(!!t&&t)===e.match||"La contraseña no concuerda con la confirmación"};t.push(a)}return t}},watch:{match:"validateField"},methods:{getUsuario:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/editUser/"+JSON.parse(localStorage.getItem("user_id"))).then((function(t){e.editedItem=t.data})).catch((function(e){console.log(e.response.data)}))},guardar:function(){var e=this;if(this.$refs.form.validate(),this.validate){var t=new FormData;t.append("file",this.avatar),t.append("data",JSON.stringify(this.editedItem)),w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/editar",t).then(this.$swal({title:"Editar Perfil",text:"Información actualizada con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getUsuario(),e.match="")}))).catch((function(e){console.log(e.response.data)}))}},validateField:function(){this.$refs.form.validate()}}}),ut=dt,mt=a("23a7"),pt=a("8e36"),vt=Object(m["a"])(ut,ct,rt,!1,null,null,null),ft=vt.exports;v()(vt,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCardText:pe["b"],VCol:ve["a"],VContainer:R["a"],VDivider:P["a"],VFileInput:mt["a"],VForm:fe["a"],VIcon:V["a"],VImg:j["a"],VProgressLinear:pt["a"],VRow:ge["a"],VSpacer:J["a"],VTextField:he["a"]});var gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 font-weight-bold text-left"},[e._v("Ingreso de Peticiones")])])],1),a("v-row",[a("v-col",{staticClass:"mb-4"},[a("v-text-field",{attrs:{label:"Ingrese DPI del Vecino o número de celular",rules:e.Rules,required:""},model:{value:e.persona.dpi,callback:function(t){e.$set(e.persona,"dpi",t)},expression:"persona.dpi"}}),a("v-card-actions",[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:function(t){return e.buscarVecino()}}},[e._v("Buscar")])],1)],1),a("v-col",{staticClass:"mb-4"},[a("v-col",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Información del Vecino ")],1),a("v-spacer"),a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"auto",outlined:"",elevation:"9"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h5 mb-1"},[e._v(" Vecino: "+e._s(e.vecino.nombre)+" "+e._s(e.vecino.apellido)+" ")]),a("v-list-item-subtitle",[a("strong",[e._v("DPI:")]),e._v(" "+e._s(e.vecino.dpi))]),a("v-list-item-subtitle",[a("strong",[e._v("Dirección:")]),e._v(e._s(e.vecino.direccion))]),a("v-list-item-subtitle",[a("strong",[e._v("Teléfono:")]),e._v(" "+e._s(e.vecino.celular))]),a("v-list-item-subtitle",[a("strong",[e._v("Liderazgo:")]),e._v(" "+e._s(e.vecino.liderazgo))])],1)],1)],1)],1)],1)],1),a("v-spacer"),a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-notebook-edit")]),e._v(" Petición ")],1),a("br"),a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPeticion.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Fecha de solicitud",type:"date","day-format":"",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.fecha,callback:function(t){e.$set(e.peticion,"fecha",t)},expression:"peticion.fecha"}}),a("v-select",{attrs:{items:e.canales,"item-text":"canal","item-value":"canal",label:"Medio de comunicación",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.canal,callback:function(t){e.$set(e.peticion,"canal",t)},expression:"peticion.canal"}}),a("v-textarea",{attrs:{label:"Descripcion",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.descripcion,callback:function(t){e.$set(e.peticion,"descripcion",t)},expression:"peticion.descripcion"}}),a("v-text-field",{attrs:{label:"Oficio",outlined:"",color:"#10069f"},model:{value:e.peticion.oficio,callback:function(t){e.$set(e.peticion,"oficio",t)},expression:"peticion.oficio"}}),a("v-select",{attrs:{items:e.tipoPeticion,"item-text":"peticion","item-value":"id",label:"Petición de tipo",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.peticion_id,callback:function(t){e.$set(e.peticion,"peticion_id",t)},expression:"peticion.peticion_id"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Dirección",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.direccion,callback:function(t){e.$set(e.peticion,"direccion",t)},expression:"peticion.direccion"}}),a("v-select",{attrs:{items:e.zona,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules,required:""},on:{change:function(t){e.getDistrito(),e.getSector(),e.getColoniaByZona(),e.getPromotor()}},model:{value:e.peticion.zona,callback:function(t){e.$set(e.peticion,"zona",t)},expression:"peticion.zona"}}),"s"==e.validaDistrito?a("v-select",{attrs:{items:e.distrito,"item-text":"distrito","item-value":"distrito_id",label:"Distrito",outlined:"",color:"#10069f",rules:e.Rules,required:""},on:{change:function(t){return e.getColoniaByDistrito()}},model:{value:e.peticion.distrito,callback:function(t){e.$set(e.peticion,"distrito",t)},expression:"peticion.distrito"}}):e._e(),"s"==e.validaSector?a("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f",rules:e.Rules,required:""},on:{change:function(t){return e.getColoniaBySector()}},model:{value:e.peticion.sector,callback:function(t){e.$set(e.peticion,"sector",t)},expression:"peticion.sector"}}):e._e(),a("v-select",{attrs:{items:e.colonia,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.colonia,callback:function(t){e.$set(e.peticion,"colonia",t)},expression:"peticion.colonia"}}),a("v-select",{attrs:{items:e.promotor,"item-text":"promotor","item-value":"id",label:"Promotor asignado",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.usuario_id,callback:function(t){e.$set(e.peticion,"usuario_id",t)},expression:"peticion.usuario_id"}}),a("v-select",{attrs:{items:e.dependencia,"item-text":"dependencia","item-value":"id",label:"Dependencia correspondiente",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.dependencia_id,callback:function(t){e.$set(e.peticion,"dependencia_id",t)},expression:"peticion.dependencia_id"}})],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1)},ht=[],bt={name:"crearPeticion",mounted:function(){this.getZona(),this.getCanales(),this.getDependencia(),this.getTipoPeticion()},data:function(){return{valid:!0,Rules:[function(e){return!!e||"Campo requerido"}],step:1,peticion:{fecha:"",canal:"",descripcion:"",direccion:"",zona:null,distrito:null,sector:null,colonia:"",oficio:"",estatus:"Ingresado",usuario_id:"",persona_id:null,dependencia_id:"",peticion_id:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},canales:[],vecino:[],alcaldia:[],zona:[],distrito:[],sector:[],colonia:[],validaDistrito:[],validaSector:[],persona:[],promotor:[],dependencia:[],tipoPeticion:[]}},methods:{getCanales:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/canales").then((function(t){e.canales=t.data.canales})).catch((function(e){console.log(e.response.data)}))},getZona:function(){var e=this;4===JSON.parse(localStorage.getItem("rol"))?w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonas").then((function(t){e.zona=t.data.zonas,e.validaDistrito=t.data.distrito,e.validaSector=t.data.sector})).catch((function(e){console.log(e.response.data)})):w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonaalcaldia/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.zona=t.data.zona,e.validaDistrito=t.data.distrito,e.validaSector=t.data.sector})).catch((function(e){console.log(e.response.data)}))},getDistrito:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.peticion.zona).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getSector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.peticion.zona).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},getColoniaByDistrito:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniaspordistrito/"+this.peticion.distrito+"/"+this.peticion.zona).then((function(t){e.colonia=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniaBySector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporsector/"+this.peticion.sector+"/"+this.peticion.zona).then((function(t){e.colonia=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniaByZona:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.peticion.zona).then((function(t){e.colonia=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotor/"+this.peticion.zona).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getDependencia:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/dependencia").then((function(t){e.dependencia=t.data.dependencia})).catch((function(e){console.log(e.response.data)}))},getTipoPeticion:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/peticiones").then((function(t){e.tipoPeticion=t.data.peticion})).catch((function(e){console.log(e.response.data)}))},guardarPeticion:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/register",this.peticion).then((function(t){e.$swal({title:"Petición registrada con éxito",text:"Petición número: "+t.data.last_insert_id.id,icon:"success"}).then((function(t){t.isConfirmed&&e.limpiar()}))})).catch((function(e){console.log(e.response.data)}))},buscarVecino:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/dpi/"+this.persona.dpi).then((function(t){e.vecino=t.data.persona,e.peticion.persona_id=t.data.persona.id})).catch((function(e){console.log(e.response.data)}))},limpiar:function(){this.peticion={fecha:"",canal:"",descripcion:"",direccion:"",zona:"",distrito:null,sector:null,colonia:"",oficio:"",estatus:"Ingresado",usuario_id:"",persona_id:null,usuario_creador:JSON.parse(localStorage.getItem("username"))},this.persona={dpi:""},this.vecino={nombre:"",apellido:"",dpi:"",direccion:"",celular:""}}}},xt=bt,_t=a("a844"),It=Object(m["a"])(xt,gt,ht,!1,null,null,null),St=It.exports;v()(It,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCol:ve["a"],VContainer:R["a"],VForm:fe["a"],VIcon:V["a"],VListItem:g["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VTextarea:_t["a"]});var wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Peticiones por Vecino")])])],1),a("v-row",[a("v-col",{staticClass:"mb-4"},[a("v-text-field",{attrs:{label:"Ingrese DPI del Vecino o número de celular"},model:{value:e.persona.dpi,callback:function(t){e.$set(e.persona,"dpi",t)},expression:"persona.dpi"}}),a("v-card-actions",[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:function(t){e.buscarVecino(),e.buscarPeticionesVecino()}}},[e._v("Buscar")])],1)],1),a("v-col",{staticClass:"mb-4"},[a("v-col",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Información del Vecino ")],1),a("v-spacer"),a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"auto",outlined:"",elevation:"9"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h5 mb-1"},[e._v(" Vecino: "+e._s(e.vecino.nombre)+" "+e._s(e.vecino.apellido)+" ")]),a("v-list-item-subtitle",[a("strong",[e._v("DPI:")]),e._v(" "+e._s(e.vecino.dpi))]),a("v-list-item-subtitle",[a("strong",[e._v("Dirección:")]),e._v(e._s(e.vecino.direccion))]),a("v-list-item-subtitle",[a("strong",[e._v("Teléfono:")]),e._v(" "+e._s(e.vecino.celular))]),a("v-list-item-subtitle",[a("strong",[e._v("Liderazgo:")]),e._v(" "+e._s(e.vecino.liderazgo))])],1)],1)],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.peticiones,search:e.search,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Lista de peticiones")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("v-toolbar",{attrs:{dark:"",color:"#10069f"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-spacer")],1)],1),a("v-card-text",[a("v-container",[a("v-list-item-content",[a("v-list-item-title",[e._v("Descripción de la petición:")]),a("v-list-item-subtitle",[e._v(e._s(e.editedItem.descripcion))])],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Dependencia",disabled:""},model:{value:e.editedItem.dependencia,callback:function(t){e.$set(e.editedItem,"dependencia",t)},expression:"editedItem.dependencia"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Petición de tipo",disabled:""},model:{value:e.editedItem.peticion,callback:function(t){e.$set(e.editedItem,"peticion",t)},expression:"editedItem.peticion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Estatus",disabled:""},model:{value:e.editedItem.estatus,callback:function(t){e.$set(e.editedItem,"estatus",t)},expression:"editedItem.estatus"}})],1)],1),a("v-divider"),a("v-list-item-content",[a("v-list-item-title",[e._v("Historial seguimiento de la petición")])],1),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,"items-per-page":5}})]],2)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver detalle"},on:{click:function(t){e.editItem(i),e.buscarGestionSeguimiento()}}},[e._v(" mdi-book-check ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}}])})]],2)},Ct=[],kt={mounted:function(){},data:function(){return{search:"",dialog:!1,dialogDelete:!1,headers:[{text:"No. Petición",align:"start",sortable:!1,value:"id"},{text:"Fecha solicitud",value:"fecha"},{text:"Dependencia",value:"dependencia"},{text:"Petición de tipo",value:"peticion"},{text:"Promotor responsable",value:"promotor"},{text:"Estatus",value:"estatus"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Promotor responsable",value:"promotor"}],peticiones:[{id:"",descripcion:"",dependencia:"",peticion:"",estatus:"",promotor:"",fecha:""}],vecino:[],persona:[],seguimiento:[{fecha:"",actividad:"",descripcion:"",promotor:""}],editedIndex:-1,editedItem:{id:"",descripcion:"",dependencia:"",peticion:"",estatus:"",promotor:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Usuario":"Detalle petición"}},watch:{dialog:function(e){e||this.close()}},methods:{editItem:function(e){this.editedIndex=this.peticiones.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.usuarios.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El usuario será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/"+e.editedItem.id).then((function(){e.getUsuarios()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Usuario eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},guardarUsuario:function(){var e=this;console.log(this.newItem),w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/register",this.newItem).then(this.$swal({title:"Crear Usuario",text:"Usuario registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getUsuarios(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},buscarVecino:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/dpi/"+this.persona.dpi).then((function(t){e.vecino=t.data.persona,e.peticion.persona_id=t.data.persona.id})).catch((function(e){console.log(e.response.data)}))},buscarPeticionesVecino:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/vecino/"+this.persona.dpi+"/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.peticiones=t.data})).catch((function(e){console.log(e.response.data)}))},buscarGestionSeguimiento:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/"+this.editedItem.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))}}},Vt=kt,yt=Object(m["a"])(Vt,wt,Ct,!1,null,null,null),Nt=yt.exports;v()(yt,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:R["a"],VDataTable:at["a"],VDialog:it["a"],VDivider:P["a"],VIcon:V["a"],VListItem:g["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"],VRow:ge["a"],VSpacer:J["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var $t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Seguimiento Peticiones")])])],1),a("v-row",[a("v-col",{staticClass:"mb-4"},[a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.buscarPeticion.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"Número de petición ",rules:e.Rules},model:{value:e.seguimiento.gestion_id,callback:function(t){e.$set(e.seguimiento,"gestion_id",t)},expression:"seguimiento.gestion_id"}}),a("v-card-actions",[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit"}},[e._v("Buscar")])],1),a("br")],1),a("v-divider"),a("br"),a("v-select",{attrs:{items:["En proceso","Finalizado"],label:"Cambiar estatus de la gestión",outlined:"",color:"#10069f"},on:{change:function(t){return e.cambiarEstatus()}},model:{value:e.gestion.estatus,callback:function(t){e.$set(e.gestion,"estatus",t)},expression:"gestion.estatus"}})],1),a("v-col",{staticClass:"mb-4"},[a("v-col",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-book-open-outline")]),e._v(" Información de la petición ")],1),a("v-spacer"),a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"auto",outlined:"",elevation:"9"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h5 mb-1"},[e._v(" Vecino: "+e._s(e.peticion.nombres)+" "+e._s(e.peticion.apellidos)+" ")]),a("v-list-item-subtitle",[a("strong",[e._v("Dirección: ")]),e._v(e._s(e.peticion.direccion)+" "+e._s(e.peticion.zona)+" "+e._s(e.peticion.colonia))]),a("v-list-item-subtitle",[a("strong",[e._v("Descripción: ")]),e._v(e._s(e.peticion.descripcion))]),a("v-list-item-subtitle",[a("strong",[e._v("Fecha de solicitud: ")]),e._v(e._s(e.peticion.fecha))]),a("v-list-item-subtitle",[a("strong",[e._v("Estatus:")]),e._v(e._s(e.peticion.estatus))]),a("v-list-item-subtitle",[a("strong",[e._v("Oficio: ")]),e._v(e._s(e.peticion.oficio))]),a("v-list-item-subtitle",[a("strong",[e._v("Promotor responsable: ")]),e._v(e._s(e.peticion.promotor))])],1)],1)],1)],1)],1)],1),a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-notebook-edit")]),e._v(" Detalle seguimiento ")],1),a("br"),a("form",{on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento()}}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Fecha",type:"date","day-format":"",outlined:"",required:"",color:"#10069f"},model:{value:e.seguimiento.fecha,callback:function(t){e.$set(e.seguimiento,"fecha",t)},expression:"seguimiento.fecha"}})],1),a("v-col",[a("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f"},model:{value:e.seguimiento.actividad_id,callback:function(t){e.$set(e.seguimiento,"actividad_id",t)},expression:"seguimiento.actividad_id"}})],1)],1),a("v-row",[a("v-textarea",{attrs:{label:"Descripcion",outlined:"",required:"",color:"#10069f"},model:{value:e.seguimiento.descripcion,callback:function(t){e.$set(e.seguimiento,"descripcion",t)},expression:"seguimiento.descripcion"}})],1),a("v-card-actions",[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)]],2)},At=[],zt={mounted:function(){this.getCatalogoActividades()},data:function(){return{seguimiento:{gestion_id:"",actividad_id:"",descripcion:"",fecha:"",usuario_id:""},peticion:[],gestion:{estatus:""},actividades:[],valid:!0,Rules:[function(e){return!!e||"Campo requerido"}]}},methods:{buscarPeticion:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/gestiones/"+this.seguimiento.gestion_id).then((function(t){e.peticion=t.data.gestion,e.seguimiento.usuario_id=e.peticion.usuario_id})).catch((function(e){console.log(e.response.data)}))},getCatalogoActividades:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},guardarSeguimiento:function(){var e=this;w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/create",this.seguimiento).then(this.$swal({title:"Actividad registrada con éxito",icon:"success"}).then((function(t){t.isConfirmed&&e.limpiar()}))).catch((function(e){console.log(e.response.data)}))},cambiarEstatus:function(){var e=this;this.$refs.form.validate(),this.valid&&this.$swal({title:"¿Está seguro de cambiar el estatus?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then((function(t){t.isConfirmed?w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/gestiones/"+e.seguimiento.gestion_id,e.gestion).then((function(){e.getPersonas(),e.$swal("Guardado","","success"),e.dialogSeguimiento=!1})).catch((function(e){console.log(e.response.data)})):t.isDenied&&e.$swal("Cambios no guardados")}))},limpiar:function(){this.peticion={fecha:"",actividad:"",descripcion:""},this.seguimiento={gestion_id:"",actividad_id:"",descripcion:"",fecha:"",usuario_id:""}}}},Dt=zt,Tt=Object(m["a"])(Dt,$t,At,!1,null,null,null),Et=Tt.exports;v()(Tt,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCol:ve["a"],VContainer:R["a"],VDivider:P["a"],VForm:fe["a"],VIcon:V["a"],VListItem:g["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VTextarea:_t["a"]});var Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-window-item",{attrs:{value:1}},[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Seguimiento Vecinos Muy Satisfechos")]),a("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step++}}},[e._v("Mantenimiento Vecinos Muy Satisfechos")])],1)],1),a("v-row",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Vecinos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"formEdit",on:{submit:function(t){return t.preventDefault(),e.editarPersona.apply(null,arguments)}},model:{value:e.validEdit,callback:function(t){e.validEdit=t},expression:"validEdit"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Nombre"},model:{value:e.editedItem.pNombre,callback:function(t){e.$set(e.editedItem,"pNombre",t)},expression:"editedItem.pNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.editedItem.sNombre,callback:function(t){e.$set(e.editedItem,"sNombre",t)},expression:"editedItem.sNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.editedItem.tNombre,callback:function(t){e.$set(e.editedItem,"tNombre",t)},expression:"editedItem.tNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Apellido"},model:{value:e.editedItem.pApellido,callback:function(t){e.$set(e.editedItem,"pApellido",t)},expression:"editedItem.pApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.editedItem.sApellido,callback:function(t){e.$set(e.editedItem,"sApellido",t)},expression:"editedItem.sApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.editedItem.tApellido,callback:function(t){e.$set(e.editedItem,"tApellido",t)},expression:"editedItem.tApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.editedItem.dpi,callback:function(t){e.$set(e.editedItem,"dpi",t)},expression:"editedItem.dpi"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.editedItem.nacimiento,callback:function(t){e.$set(e.editedItem,"nacimiento",t)},expression:"editedItem.nacimiento"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.editedItem.numero_casa,callback:function(t){e.$set(e.editedItem,"numero_casa",t)},expression:"editedItem.numero_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f"},on:{change:function(t){return e.getColoniasEdit()}},model:{value:e.editedItem.zona_id,callback:function(t){e.$set(e.editedItem,"zona_id",t)},expression:"editedItem.zona_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f"},model:{value:e.editedItem.colonia_id,callback:function(t){e.$set(e.editedItem,"colonia_id",t)},expression:"editedItem.colonia_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.editedItem.telefono_casa,callback:function(t){e.$set(e.editedItem,"telefono_casa",t)},expression:"editedItem.telefono_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Celular",type:"number"},model:{value:e.editedItem.celular,callback:function(t){e.$set(e.editedItem,"celular",t)},expression:"editedItem.celular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.editedItem.correo,callback:function(t){e.$set(e.editedItem,"correo",t)},expression:"editedItem.correo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f"},model:{value:e.editedItem.genero,callback:function(t){e.$set(e.editedItem,"genero",t)},expression:"editedItem.genero"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"liderazgo",label:"Liderazgo comunitario",outlined:"",color:"#10069f"},model:{value:e.editedItem.liderazgo,callback:function(t){e.$set(e.editedItem,"liderazgo",t)},expression:"editedItem.liderazgo"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" Nuevo ")])]}}]),model:{value:e.dialogNewItem,callback:function(t){e.dialogNewItem=t},expression:"dialogNewItem"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPersona.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Nombre",rules:e.Rules},model:{value:e.newItem.pNombre,callback:function(t){e.$set(e.newItem,"pNombre",t)},expression:"newItem.pNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.newItem.sNombre,callback:function(t){e.$set(e.newItem,"sNombre",t)},expression:"newItem.sNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.newItem.tNombre,callback:function(t){e.$set(e.newItem,"tNombre",t)},expression:"newItem.tNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Apellido",rules:e.Rules},model:{value:e.newItem.pApellido,callback:function(t){e.$set(e.newItem,"pApellido",t)},expression:"newItem.pApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.newItem.sApellido,callback:function(t){e.$set(e.newItem,"sApellido",t)},expression:"newItem.sApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.newItem.tApellido,callback:function(t){e.$set(e.newItem,"tApellido",t)},expression:"newItem.tApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.newItem.nacimiento,callback:function(t){e.$set(e.newItem,"nacimiento",t)},expression:"newItem.nacimiento"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Dirección",rules:e.Rules},model:{value:e.newItem.direccion,callback:function(t){e.$set(e.newItem,"direccion",t)},expression:"newItem.direccion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.newItem.numero_casa,callback:function(t){e.$set(e.newItem,"numero_casa",t)},expression:"newItem.numero_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){return e.getColonias()}},model:{value:e.newItem.zona_id,callback:function(t){e.$set(e.newItem,"zona_id",t)},expression:"newItem.zona_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.colonia_id,callback:function(t){e.$set(e.newItem,"colonia_id",t)},expression:"newItem.colonia_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.newItem.telefono_casa,callback:function(t){e.$set(e.newItem,"telefono_casa",t)},expression:"newItem.telefono_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Celular",type:"number",rules:e.Rules},model:{value:e.newItem.celular,callback:function(t){e.$set(e.newItem,"celular",t)},expression:"newItem.celular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.newItem.correo,callback:function(t){e.$set(e.newItem,"correo",t)},expression:"newItem.correo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.genero,callback:function(t){e.$set(e.newItem,"genero",t)},expression:"newItem.genero"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"liderazgo",label:"Liderazgo comunitario",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.liderazgo,callback:function(t){e.$set(e.newItem,"liderazgo",t)},expression:"newItem.liderazgo"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeNewItem}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[a("v-card",[a("v-card-title",[a("v-toolbar",{attrs:{dark:"",color:"#10069f"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialogSeguimiento=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[a("span",{staticClass:"text-h5"},[e._v("Ingresar Seguimiento")])]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{color:"success"},on:{click:e.putMantenimiento}},[e._v(" Trasladar a Mantenimiento ")])],1)],1)],1),a("v-card-text",[a("v-container",[a("v-list-item-content",[a("v-list-item-subtitle")],1),a("v-form",{ref:"formSeguimiento",on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento.apply(null,arguments)}},model:{value:e.validSeguimiento,callback:function(t){e.validSeguimiento=t},expression:"validSeguimiento"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha",type:"date",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.fecha,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"fecha",t)},expression:"seguimientoVecinosSatisfechos.fecha"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.actividad_id,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"actividad_id",t)},expression:"seguimientoVecinosSatisfechos.actividad_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{label:"Descripción",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.descripcion,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"descripcion",t)},expression:"seguimientoVecinosSatisfechos.descripcion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"promotor",rules:e.Rules,outlined:""},model:{value:e.seguimientoVecinosSatisfechos.responsable,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"responsable",t)},expression:"seguimientoVecinosSatisfechos.responsable"}})],1),a("v-card-actions",[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1),a("br"),a("v-divider"),a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,search:e.search,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsActividad",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar Seguimiento"},on:{click:function(t){return e.editSeguimiento(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Eliminar Seguimiento"},on:{click:function(t){return e.deleteSeguimiento(i)}}},[e._v(" mdi-delete ")]),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEditSeguimiento,callback:function(t){e.dialogEditSeguimiento=t},expression:"dialogEditSeguimiento"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Editar Seguimiento")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.editarSeguimiento.fecha,callback:function(t){e.$set(e.editarSeguimiento,"fecha",t)},expression:"editarSeguimiento.fecha"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f"},model:{value:e.editarSeguimiento.actividad,callback:function(t){e.$set(e.editarSeguimiento,"actividad",t)},expression:"editarSeguimiento.actividad"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{label:"Descripción"},model:{value:e.editarSeguimiento.descripcion,callback:function(t){e.$set(e.editarSeguimiento,"descripcion",t)},expression:"editarSeguimiento.descripcion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"promotor",required:"",outlined:""},model:{value:e.editarSeguimiento.responsable,callback:function(t){e.$set(e.editarSeguimiento,"responsable",t)},expression:"editarSeguimiento.responsable"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeEditSeguimiento()}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.putSeguimientoSatisfecho()}}},[e._v(" Guardar ")])],1)],1)],1)]}}])})]],2)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar vecino"},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.addSeguimiento(i)}}},[e._v(" mdi-book-check ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}}])})],1)]],2),a("v-window-item",{attrs:{value:2}},[a("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step--,e.getPersonas()}}},[e._v("Seguimiento Vecinos Muy Satisfechos")]),a("MantenimientoMuySatisfechos",{ref:"mantenimiento"})],1)],1)],1)},Ot=[],Rt=(a("00b4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Mantenimiento Vecinos Muy Satisfechos")])])],1),a("v-row",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Vecinos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"formEdit",on:{submit:function(t){return t.preventDefault(),e.editarPersona.apply(null,arguments)}},model:{value:e.validEdit,callback:function(t){e.validEdit=t},expression:"validEdit"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Nombre"},model:{value:e.editedItem.pNombre,callback:function(t){e.$set(e.editedItem,"pNombre",t)},expression:"editedItem.pNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.editedItem.sNombre,callback:function(t){e.$set(e.editedItem,"sNombre",t)},expression:"editedItem.sNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.editedItem.tNombre,callback:function(t){e.$set(e.editedItem,"tNombre",t)},expression:"editedItem.tNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Apellido"},model:{value:e.editedItem.pApellido,callback:function(t){e.$set(e.editedItem,"pApellido",t)},expression:"editedItem.pApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.editedItem.sApellido,callback:function(t){e.$set(e.editedItem,"sApellido",t)},expression:"editedItem.sApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.editedItem.tApellido,callback:function(t){e.$set(e.editedItem,"tApellido",t)},expression:"editedItem.tApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.editedItem.dpi,callback:function(t){e.$set(e.editedItem,"dpi",t)},expression:"editedItem.dpi"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.editedItem.nacimiento,callback:function(t){e.$set(e.editedItem,"nacimiento",t)},expression:"editedItem.nacimiento"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.editedItem.numero_casa,callback:function(t){e.$set(e.editedItem,"numero_casa",t)},expression:"editedItem.numero_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f"},on:{change:function(t){return e.getColoniasEdit()}},model:{value:e.editedItem.zona_id,callback:function(t){e.$set(e.editedItem,"zona_id",t)},expression:"editedItem.zona_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f"},model:{value:e.editedItem.colonia_id,callback:function(t){e.$set(e.editedItem,"colonia_id",t)},expression:"editedItem.colonia_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.editedItem.telefono_casa,callback:function(t){e.$set(e.editedItem,"telefono_casa",t)},expression:"editedItem.telefono_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Celular",type:"number"},model:{value:e.editedItem.celular,callback:function(t){e.$set(e.editedItem,"celular",t)},expression:"editedItem.celular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.editedItem.correo,callback:function(t){e.$set(e.editedItem,"correo",t)},expression:"editedItem.correo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f"},model:{value:e.editedItem.genero,callback:function(t){e.$set(e.editedItem,"genero",t)},expression:"editedItem.genero"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"liderazgo",label:"Liderazgo comunitario",outlined:"",color:"#10069f"},model:{value:e.editedItem.liderazgo,callback:function(t){e.$set(e.editedItem,"liderazgo",t)},expression:"editedItem.liderazgo"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" Nuevo ")])]}}]),model:{value:e.dialogNewItem,callback:function(t){e.dialogNewItem=t},expression:"dialogNewItem"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPersona.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Nombre",rules:e.Rules},model:{value:e.newItem.pNombre,callback:function(t){e.$set(e.newItem,"pNombre",t)},expression:"newItem.pNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.newItem.sNombre,callback:function(t){e.$set(e.newItem,"sNombre",t)},expression:"newItem.sNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.newItem.tNombre,callback:function(t){e.$set(e.newItem,"tNombre",t)},expression:"newItem.tNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Apellido",rules:e.Rules},model:{value:e.newItem.pApellido,callback:function(t){e.$set(e.newItem,"pApellido",t)},expression:"newItem.pApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.newItem.sApellido,callback:function(t){e.$set(e.newItem,"sApellido",t)},expression:"newItem.sApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.newItem.tApellido,callback:function(t){e.$set(e.newItem,"tApellido",t)},expression:"newItem.tApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.newItem.nacimiento,callback:function(t){e.$set(e.newItem,"nacimiento",t)},expression:"newItem.nacimiento"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Dirección",rules:e.Rules},model:{value:e.newItem.direccion,callback:function(t){e.$set(e.newItem,"direccion",t)},expression:"newItem.direccion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.newItem.numero_casa,callback:function(t){e.$set(e.newItem,"numero_casa",t)},expression:"newItem.numero_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){return e.getColonias()}},model:{value:e.newItem.zona_id,callback:function(t){e.$set(e.newItem,"zona_id",t)},expression:"newItem.zona_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.colonia_id,callback:function(t){e.$set(e.newItem,"colonia_id",t)},expression:"newItem.colonia_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.newItem.telefono_casa,callback:function(t){e.$set(e.newItem,"telefono_casa",t)},expression:"newItem.telefono_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Celular",type:"number",rules:e.Rules},model:{value:e.newItem.celular,callback:function(t){e.$set(e.newItem,"celular",t)},expression:"newItem.celular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.newItem.correo,callback:function(t){e.$set(e.newItem,"correo",t)},expression:"newItem.correo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.genero,callback:function(t){e.$set(e.newItem,"genero",t)},expression:"newItem.genero"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"liderazgo",label:"Liderazgo comunitario",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.liderazgo,callback:function(t){e.$set(e.newItem,"liderazgo",t)},expression:"newItem.liderazgo"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeNewItem}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[a("v-card",[a("v-card-title",[a("v-toolbar",{attrs:{dark:"",color:"#10069f"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialogSeguimiento=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[a("span",{staticClass:"text-h5"},[e._v("Ingresar Seguimiento")])]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{color:"success"},on:{click:e.putMantenimiento}},[e._v(" Trasladar a Seguimiento ")])],1)],1)],1),a("v-card-text",[a("v-container",[a("v-list-item-content",[a("v-list-item-subtitle")],1),a("v-form",{ref:"formSeguimiento",on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento.apply(null,arguments)}},model:{value:e.validSeguimiento,callback:function(t){e.validSeguimiento=t},expression:"validSeguimiento"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha",type:"date",rules:e.Rules},model:{value:e.mntoVecinosSatisfechos.fecha,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"fecha",t)},expression:"mntoVecinosSatisfechos.fecha"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.mntoVecinosSatisfechos.actividad_id,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"actividad_id",t)},expression:"mntoVecinosSatisfechos.actividad_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{label:"Descripción",rules:e.Rules},model:{value:e.mntoVecinosSatisfechos.descripcion,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"descripcion",t)},expression:"mntoVecinosSatisfechos.descripcion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"promotor",rules:e.Rules,outlined:""},model:{value:e.mntoVecinosSatisfechos.responsable,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"responsable",t)},expression:"mntoVecinosSatisfechos.responsable"}})],1),a("v-card-actions",[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1),a("br"),a("v-divider"),a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,search:e.search,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsActividad",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar Seguimiento"},on:{click:function(t){return e.editSeguimiento(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Eliminar Seguimiento"},on:{click:function(t){return e.deleteSeguimiento(i)}}},[e._v(" mdi-delete ")]),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEditSeguimiento,callback:function(t){e.dialogEditSeguimiento=t},expression:"dialogEditSeguimiento"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Editar Seguimiento")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.editarSeguimiento.fecha,callback:function(t){e.$set(e.editarSeguimiento,"fecha",t)},expression:"editarSeguimiento.fecha"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f"},model:{value:e.editarSeguimiento.actividad,callback:function(t){e.$set(e.editarSeguimiento,"actividad",t)},expression:"editarSeguimiento.actividad"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{label:"Descripción"},model:{value:e.editarSeguimiento.descripcion,callback:function(t){e.$set(e.editarSeguimiento,"descripcion",t)},expression:"editarSeguimiento.descripcion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"promotor",required:"",outlined:""},model:{value:e.editarSeguimiento.responsable,callback:function(t){e.$set(e.editarSeguimiento,"responsable",t)},expression:"editarSeguimiento.responsable"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeEditSeguimiento()}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.putSeguimientoSatisfecho()}}},[e._v(" Guardar ")])],1)],1)],1)]}}])})]],2)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar vecino"},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.addSeguimiento(i)}}},[e._v(" mdi-book-check ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}}])})],1)]],2)}),Pt=[],Bt={mounted:function(){this.getPersonas(),this.getLiderazgo(),this.getZonas()},data:function(){return{search:"",valid:!0,validEdit:!0,validSeguimiento:!0,dialog:!1,dialogSeguimiento:!1,dialogEditSeguimiento:!1,dialogNewItem:!1,dialogEdit:!1,step:1,Rules:[function(e){return!!e||"Campo requerido"}],emailRules:[function(e){return/.+@.+/.test(e)||"E-mail debe ser válido"}],headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"DPI",value:"dpi"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"liderazgo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actionsActividad",sortable:!1}],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],mntoVecinosSatisfechos:{persona_id:"",fecha:"",actividad:"",descripcion:"",responsable:""},editarSeguimiento:{id:"",fecha:"",actividad_id:"",descripcion:"",responsable:""},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{id:"",pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:"",nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:""},newItem:{pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"4",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Vecino":"Editar Vecino"}},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getPersonas:function(){var e=this;4===JSON.parse(localStorage.getItem("rol"))?w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMantenimientoMuySatisfechos").then((function(t){e.personas=t.data.personas})).catch((function(e){console.log(e.response.data)})):w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMantenimientoMuySatisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.personas=t.data.persona})).catch((function(e){console.log(e.response.data)}))},getZonas:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonas").then((function(t){e.zonas=t.data.zonas})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.newItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniasEdit:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.editedItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getLiderazgo:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/liderazgo").then((function(t){e.liderazgo=t.data.liderazgo})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0,this.getColoniasEdit()},editSeguimiento:function(e){this.editarSeguimiento=Object.assign({},e),this.dialogEditSeguimiento=!0},addSeguimiento:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.mntoVecinosSatisfechos.persona_id=this.seguimientoVecinosSatisfechos.id,this.mntoVecinosSatisfechos.usuario_creador=JSON.parse(localStorage.getItem("username")),this.buscarSeguimientoVecino(),this.getCatalogoActividades(),this.getPromotor(),this.dialogSeguimiento=!0},deleteItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El vecino será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+e.editedItem.id).then((function(){e.getPersonas()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Vecino eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeEditSeguimiento:function(){this.dialogEditSeguimiento=!1},closeNewItem:function(){var e=this;this.dialogNewItem=!1,this.$nextTick((function(){e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},editarPersona:function(){var e=this;this.$refs.formEdit.validate(),this.validEdit&&(this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Vecino",text:"Información actualizada con éxito.",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.close())}))).catch((function(e){console.log(e.response.data)})))},guardarPersona:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/register",this.newItem).then(this.$swal({title:"Registrar Vecino",text:"Vecino registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotor/"+this.seguimientoVecinosSatisfechos.zona_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getCatalogoActividades:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},buscarSeguimientoVecino:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/mntovecinomuysatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))},guardarSeguimiento:function(){var e=this;this.$refs.formSeguimiento.validate(),this.validSeguimiento&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientomuysatisfecho/create",this.mntoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},limpiarNuevo:function(){this.newItem={pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"1",usuario_creador:JSON.parse(localStorage.getItem("username"))},this.mntoVecinosSatisfechos={persona_id:"",fecha:"",actividad:"",descripcion:""}},putMantenimiento:function(){var e=this;this.editedItem.seguimiento={seguimiento:"3"},this.$swal({title:"¿Trasladar a Seguimiento?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then((function(t){t.isConfirmed?w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/mantenimiento/"+e.seguimientoVecinosSatisfechos.id,e.editedItem.seguimiento).then((function(){e.getPersonas(),e.$swal("Guardado","","success"),e.dialogSeguimiento=!1})).catch((function(e){console.log(e.response.data)})):t.isDenied&&e.$swal("Cambios no guardados")}))},putSeguimientoSatisfecho:function(){var e=this;w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientomuysatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}))},deleteSeguimiento:function(e){var t=this;this.editarSeguimiento=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.delete("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientomuysatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)})),t.$swal("Eliminado","Seguimiento eliminado con éxito.","success"))}))}}},jt=Bt,Lt=Object(m["a"])(jt,Rt,Pt,!1,null,null,null),Ft=Lt.exports;v()(Lt,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:R["a"],VDataTable:at["a"],VDialog:it["a"],VDivider:P["a"],VForm:fe["a"],VIcon:V["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VTextarea:_t["a"],VToolbar:st["a"],VToolbarItems:q["a"],VToolbarTitle:q["b"]});var Jt={mounted:function(){this.getPersonas(),this.getLiderazgo(),this.getZonas()},data:function(){return{search:"",valid:!0,validEdit:!0,validSeguimiento:!0,dialog:!1,dialogSeguimiento:!1,dialogEditSeguimiento:!1,dialogNewItem:!1,dialogEdit:!1,step:1,Rules:[function(e){return!!e||"Campo requerido"}],emailRules:[function(e){return/.+@.+/.test(e)||"E-mail debe ser válido"}],headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"DPI",value:"dpi"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"liderazgo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actionsActividad",sortable:!1}],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],seguimientoVecinosSatisfechos:{persona_id:"",fecha:"",actividad:"",descripcion:"",responsable:""},editarSeguimiento:{id:"",fecha:"",actividad:"",descripcion:"",responsable:""},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{id:"",pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:"",nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:"",celular:"",correo:"",genero:"",liderazgo:"",seguimiento:"3"},newItem:{pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"1",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Vecino":"Editar Vecino"}},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getPersonas:function(){var e=this;4===JSON.parse(localStorage.getItem("rol"))?w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMuySatisfechos").then((function(t){e.personas=t.data.personas})).catch((function(e){console.log(e.response.data)})):w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMuySatisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.personas=t.data.personas})).catch((function(e){console.log(e.response.data)}))},getZonas:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonas").then((function(t){e.zonas=t.data.zonas})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.newItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniasEdit:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.editedItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getLiderazgo:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/liderazgo").then((function(t){e.liderazgo=t.data.liderazgo})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0,this.getColoniasEdit()},editSeguimiento:function(e){this.editarSeguimiento=Object.assign({},e),this.dialogEditSeguimiento=!0},addSeguimiento:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.seguimientoVecinosSatisfechos.persona_id=this.seguimientoVecinosSatisfechos.id,this.seguimientoVecinosSatisfechos.usuario_creador=JSON.parse(localStorage.getItem("username")),this.buscarSeguimientoVecino(),this.getCatalogoActividades(),this.getPromotor(),this.dialogSeguimiento=!0},deleteItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El vecino será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+e.editedItem.id).then((function(){e.getPersonas()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Vecino eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeEditSeguimiento:function(){this.dialogEditSeguimiento=!1},closeNewItem:function(){var e=this;this.dialogNewItem=!1,this.$nextTick((function(){e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},editarPersona:function(){var e=this;this.$refs.formEdit.validate(),this.validEdit&&(this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Vecino",text:"Información actualizada con éxito.",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.close())}))).catch((function(e){console.log(e.response.data)})))},guardarPersona:function(){var e=this;this.newItem.seguimiento=3,this.$refs.form.validate(),this.valid&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/register",this.newItem).then(this.$swal({title:"Registrar Vecino",text:"Vecino registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotor/"+this.seguimientoVecinosSatisfechos.zona_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getCatalogoActividades:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},buscarSeguimientoVecino:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/vecinomuysatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))},guardarSeguimiento:function(){var e=this;this.$refs.formSeguimiento.validate(),this.validSeguimiento&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientomuysatisfecho/create",this.seguimientoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},limpiarNuevo:function(){this.newItem={pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"1",usuario_creador:JSON.parse(localStorage.getItem("username"))},this.seguimientoVecinosSatisfechos={persona_id:"",fecha:"",actividad:"",descripcion:""}},putMantenimiento:function(){var e=this;this.editedItem.seguimiento={seguimiento:"4"},this.$swal({title:"¿Trasladar a Mantenimiento?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then((function(t){t.isConfirmed?w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/mantenimiento/"+e.seguimientoVecinosSatisfechos.id,e.editedItem.seguimiento).then((function(){e.getPersonas(),e.$refs.mantenimiento.getPersonas(),e.$swal("Guardado","","success"),e.dialogSeguimiento=!1})).catch((function(e){console.log(e.response.data)})):t.isDenied&&e.$swal("Cambios no guardados")}))},putSeguimientoSatisfecho:function(){var e=this;w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientomuysatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}))},deleteSeguimiento:function(e){var t=this;this.editarSeguimiento=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.delete("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientomuysatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)})),t.$swal("Eliminado","Seguimiento eliminado con éxito.","success"))}))}},components:{MantenimientoMuySatisfechos:Ft}},Gt=Jt,qt=a("f665"),Ut=a("1e6c"),Zt=Object(m["a"])(Gt,Mt,Ot,!1,null,null,null),Wt=Zt.exports;v()(Zt,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:R["a"],VDataTable:at["a"],VDialog:it["a"],VDivider:P["a"],VForm:fe["a"],VIcon:V["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VTextarea:_t["a"],VToolbar:st["a"],VToolbarItems:q["a"],VToolbarTitle:q["b"],VWindow:qt["a"],VWindowItem:Ut["a"]});var Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-window-item",{attrs:{value:1}},[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Seguimiento Vecinos Satisfechos")]),a("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step++}}},[e._v("Mantenimiento Vecinos Satisfechos")])],1)],1),a("v-row",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Vecinos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"formEdit",on:{submit:function(t){return t.preventDefault(),e.editarPersona.apply(null,arguments)}},model:{value:e.validEdit,callback:function(t){e.validEdit=t},expression:"validEdit"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Nombre"},model:{value:e.editedItem.pNombre,callback:function(t){e.$set(e.editedItem,"pNombre",t)},expression:"editedItem.pNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.editedItem.sNombre,callback:function(t){e.$set(e.editedItem,"sNombre",t)},expression:"editedItem.sNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.editedItem.tNombre,callback:function(t){e.$set(e.editedItem,"tNombre",t)},expression:"editedItem.tNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Apellido"},model:{value:e.editedItem.pApellido,callback:function(t){e.$set(e.editedItem,"pApellido",t)},expression:"editedItem.pApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.editedItem.sApellido,callback:function(t){e.$set(e.editedItem,"sApellido",t)},expression:"editedItem.sApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.editedItem.tApellido,callback:function(t){e.$set(e.editedItem,"tApellido",t)},expression:"editedItem.tApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.editedItem.dpi,callback:function(t){e.$set(e.editedItem,"dpi",t)},expression:"editedItem.dpi"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.editedItem.nacimiento,callback:function(t){e.$set(e.editedItem,"nacimiento",t)},expression:"editedItem.nacimiento"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.editedItem.numero_casa,callback:function(t){e.$set(e.editedItem,"numero_casa",t)},expression:"editedItem.numero_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f"},on:{change:function(t){return e.getColoniasEdit()}},model:{value:e.editedItem.zona_id,callback:function(t){e.$set(e.editedItem,"zona_id",t)},expression:"editedItem.zona_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f"},model:{value:e.editedItem.colonia_id,callback:function(t){e.$set(e.editedItem,"colonia_id",t)},expression:"editedItem.colonia_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.editedItem.telefono_casa,callback:function(t){e.$set(e.editedItem,"telefono_casa",t)},expression:"editedItem.telefono_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Celular",type:"number"},model:{value:e.editedItem.celular,callback:function(t){e.$set(e.editedItem,"celular",t)},expression:"editedItem.celular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.editedItem.correo,callback:function(t){e.$set(e.editedItem,"correo",t)},expression:"editedItem.correo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f"},model:{value:e.editedItem.genero,callback:function(t){e.$set(e.editedItem,"genero",t)},expression:"editedItem.genero"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"liderazgo",label:"Liderazgo comunitario",outlined:"",color:"#10069f"},model:{value:e.editedItem.liderazgo,callback:function(t){e.$set(e.editedItem,"liderazgo",t)},expression:"editedItem.liderazgo"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" Nuevo ")])]}}]),model:{value:e.dialogNewItem,callback:function(t){e.dialogNewItem=t},expression:"dialogNewItem"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPersona.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Nombre",rules:e.Rules},model:{value:e.newItem.pNombre,callback:function(t){e.$set(e.newItem,"pNombre",t)},expression:"newItem.pNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.newItem.sNombre,callback:function(t){e.$set(e.newItem,"sNombre",t)},expression:"newItem.sNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.newItem.tNombre,callback:function(t){e.$set(e.newItem,"tNombre",t)},expression:"newItem.tNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Apellido",rules:e.Rules},model:{value:e.newItem.pApellido,callback:function(t){e.$set(e.newItem,"pApellido",t)},expression:"newItem.pApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.newItem.sApellido,callback:function(t){e.$set(e.newItem,"sApellido",t)},expression:"newItem.sApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.newItem.tApellido,callback:function(t){e.$set(e.newItem,"tApellido",t)},expression:"newItem.tApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.newItem.nacimiento,callback:function(t){e.$set(e.newItem,"nacimiento",t)},expression:"newItem.nacimiento"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Dirección",rules:e.Rules},model:{value:e.newItem.direccion,callback:function(t){e.$set(e.newItem,"direccion",t)},expression:"newItem.direccion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.newItem.numero_casa,callback:function(t){e.$set(e.newItem,"numero_casa",t)},expression:"newItem.numero_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){return e.getColonias()}},model:{value:e.newItem.zona_id,callback:function(t){e.$set(e.newItem,"zona_id",t)},expression:"newItem.zona_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.colonia_id,callback:function(t){e.$set(e.newItem,"colonia_id",t)},expression:"newItem.colonia_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.newItem.telefono_casa,callback:function(t){e.$set(e.newItem,"telefono_casa",t)},expression:"newItem.telefono_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Celular",type:"number",rules:e.Rules},model:{value:e.newItem.celular,callback:function(t){e.$set(e.newItem,"celular",t)},expression:"newItem.celular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.newItem.correo,callback:function(t){e.$set(e.newItem,"correo",t)},expression:"newItem.correo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.genero,callback:function(t){e.$set(e.newItem,"genero",t)},expression:"newItem.genero"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"liderazgo",label:"Liderazgo comunitario",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.liderazgo,callback:function(t){e.$set(e.newItem,"liderazgo",t)},expression:"newItem.liderazgo"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeNewItem}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[a("v-card",[a("v-card-title",[a("v-toolbar",{attrs:{dark:"",color:"#10069f"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialogSeguimiento=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[a("span",{staticClass:"text-h5"},[e._v("Ingresar Seguimiento")])]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{color:"success"},on:{click:e.putMantenimiento}},[e._v(" Trasladar a Mantenimiento ")])],1)],1)],1),a("v-card-text",[a("v-container",[a("v-list-item-content",[a("v-list-item-subtitle")],1),a("v-form",{ref:"formSeguimiento",on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento.apply(null,arguments)}},model:{value:e.validSeguimiento,callback:function(t){e.validSeguimiento=t},expression:"validSeguimiento"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha",type:"date",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.fecha,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"fecha",t)},expression:"seguimientoVecinosSatisfechos.fecha"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.actividad_id,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"actividad_id",t)},expression:"seguimientoVecinosSatisfechos.actividad_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{label:"Descripción",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.descripcion,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"descripcion",t)},expression:"seguimientoVecinosSatisfechos.descripcion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",items:e.promotor,outlined:"","item-text":"promotor","item-value":"promotor",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.responsable,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"responsable",t)},expression:"seguimientoVecinosSatisfechos.responsable"}})],1),a("v-card-actions",[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1),a("br"),a("v-divider"),a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,search:e.search,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsActividad",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar Seguimiento"},on:{click:function(t){return e.editSeguimiento(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Eliminar Seguimiento"},on:{click:function(t){return e.deleteSeguimiento(i)}}},[e._v(" mdi-delete ")]),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEditSeguimiento,callback:function(t){e.dialogEditSeguimiento=t},expression:"dialogEditSeguimiento"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Editar Seguimiento")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.editarSeguimiento.fecha,callback:function(t){e.$set(e.editarSeguimiento,"fecha",t)},expression:"editarSeguimiento.fecha"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f"},model:{value:e.editarSeguimiento.actividad,callback:function(t){e.$set(e.editarSeguimiento,"actividad",t)},expression:"editarSeguimiento.actividad"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{label:"Descripción"},model:{value:e.editarSeguimiento.descripcion,callback:function(t){e.$set(e.editarSeguimiento,"descripcion",t)},expression:"editarSeguimiento.descripcion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",items:e.promotor,outlined:"","item-text":"promotor","item-value":"promotor",required:""},model:{value:e.editarSeguimiento.responsable,callback:function(t){e.$set(e.editarSeguimiento,"responsable",t)},expression:"editarSeguimiento.responsable"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeEditSeguimiento()}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.putSeguimientoSatisfecho()}}},[e._v(" Guardar ")])],1)],1)],1)]}}])})]],2)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar vecino"},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.addSeguimiento(i)}}},[e._v(" mdi-book-check ")]),a("v-icon",{attrs:{small:"",title:"eliminar vecino"},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}}])})],1)]],2),a("v-window-item",{attrs:{value:2}},[a("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step--,e.getPersonas()}}},[e._v("Seguimiento Vecinos Satisfechos")]),a("MantenimientoSatisfechos",{ref:"mantenimiento"})],1)],1)],1)},Kt=[],Yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Mantenimiento Vecinos Satisfechos")])])],1),a("v-row",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Vecinos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"formEdit",on:{submit:function(t){return t.preventDefault(),e.editarPersona.apply(null,arguments)}},model:{value:e.validEdit,callback:function(t){e.validEdit=t},expression:"validEdit"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Nombre"},model:{value:e.editedItem.pNombre,callback:function(t){e.$set(e.editedItem,"pNombre",t)},expression:"editedItem.pNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.editedItem.sNombre,callback:function(t){e.$set(e.editedItem,"sNombre",t)},expression:"editedItem.sNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.editedItem.tNombre,callback:function(t){e.$set(e.editedItem,"tNombre",t)},expression:"editedItem.tNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Apellido"},model:{value:e.editedItem.pApellido,callback:function(t){e.$set(e.editedItem,"pApellido",t)},expression:"editedItem.pApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.editedItem.sApellido,callback:function(t){e.$set(e.editedItem,"sApellido",t)},expression:"editedItem.sApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.editedItem.tApellido,callback:function(t){e.$set(e.editedItem,"tApellido",t)},expression:"editedItem.tApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.editedItem.dpi,callback:function(t){e.$set(e.editedItem,"dpi",t)},expression:"editedItem.dpi"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.editedItem.nacimiento,callback:function(t){e.$set(e.editedItem,"nacimiento",t)},expression:"editedItem.nacimiento"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.editedItem.numero_casa,callback:function(t){e.$set(e.editedItem,"numero_casa",t)},expression:"editedItem.numero_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f"},on:{change:function(t){return e.getColoniasEdit()}},model:{value:e.editedItem.zona_id,callback:function(t){e.$set(e.editedItem,"zona_id",t)},expression:"editedItem.zona_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f"},model:{value:e.editedItem.colonia_id,callback:function(t){e.$set(e.editedItem,"colonia_id",t)},expression:"editedItem.colonia_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.editedItem.telefono_casa,callback:function(t){e.$set(e.editedItem,"telefono_casa",t)},expression:"editedItem.telefono_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Celular",type:"number"},model:{value:e.editedItem.celular,callback:function(t){e.$set(e.editedItem,"celular",t)},expression:"editedItem.celular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.editedItem.correo,callback:function(t){e.$set(e.editedItem,"correo",t)},expression:"editedItem.correo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f"},model:{value:e.editedItem.genero,callback:function(t){e.$set(e.editedItem,"genero",t)},expression:"editedItem.genero"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"liderazgo",label:"Liderazgo comunitario",outlined:"",color:"#10069f"},model:{value:e.editedItem.liderazgo,callback:function(t){e.$set(e.editedItem,"liderazgo",t)},expression:"editedItem.liderazgo"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" Nuevo ")])]}}]),model:{value:e.dialogNewItem,callback:function(t){e.dialogNewItem=t},expression:"dialogNewItem"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPersona.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Nombre",rules:e.Rules},model:{value:e.newItem.pNombre,callback:function(t){e.$set(e.newItem,"pNombre",t)},expression:"newItem.pNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.newItem.sNombre,callback:function(t){e.$set(e.newItem,"sNombre",t)},expression:"newItem.sNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.newItem.tNombre,callback:function(t){e.$set(e.newItem,"tNombre",t)},expression:"newItem.tNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Apellido",rules:e.Rules},model:{value:e.newItem.pApellido,callback:function(t){e.$set(e.newItem,"pApellido",t)},expression:"newItem.pApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.newItem.sApellido,callback:function(t){e.$set(e.newItem,"sApellido",t)},expression:"newItem.sApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.newItem.tApellido,callback:function(t){e.$set(e.newItem,"tApellido",t)},expression:"newItem.tApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.newItem.nacimiento,callback:function(t){e.$set(e.newItem,"nacimiento",t)},expression:"newItem.nacimiento"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Dirección",rules:e.Rules},model:{value:e.newItem.direccion,callback:function(t){e.$set(e.newItem,"direccion",t)},expression:"newItem.direccion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.newItem.numero_casa,callback:function(t){e.$set(e.newItem,"numero_casa",t)},expression:"newItem.numero_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){return e.getColonias()}},model:{value:e.newItem.zona_id,callback:function(t){e.$set(e.newItem,"zona_id",t)},expression:"newItem.zona_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.colonia_id,callback:function(t){e.$set(e.newItem,"colonia_id",t)},expression:"newItem.colonia_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.newItem.telefono_casa,callback:function(t){e.$set(e.newItem,"telefono_casa",t)},expression:"newItem.telefono_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Celular",type:"number",rules:e.Rules},model:{value:e.newItem.celular,callback:function(t){e.$set(e.newItem,"celular",t)},expression:"newItem.celular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.newItem.correo,callback:function(t){e.$set(e.newItem,"correo",t)},expression:"newItem.correo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.genero,callback:function(t){e.$set(e.newItem,"genero",t)},expression:"newItem.genero"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"liderazgo",label:"Liderazgo comunitario",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.liderazgo,callback:function(t){e.$set(e.newItem,"liderazgo",t)},expression:"newItem.liderazgo"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeNewItem}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[a("v-card",[a("v-card-title",[a("v-toolbar",{attrs:{dark:"",color:"#10069f"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialogSeguimiento=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[a("span",{staticClass:"text-h5"},[e._v("Ingresar Seguimiento")])]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{color:"success"},on:{click:e.putMantenimiento}},[e._v(" Trasladar a Seguimiento ")])],1)],1)],1),a("v-card-text",[a("v-container",[a("v-list-item-content",[a("v-list-item-subtitle")],1),a("v-form",{ref:"formSeguimiento",on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento.apply(null,arguments)}},model:{value:e.validSeguimiento,callback:function(t){e.validSeguimiento=t},expression:"validSeguimiento"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha",type:"date",rules:e.Rules},model:{value:e.mntoVecinosSatisfechos.fecha,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"fecha",t)},expression:"mntoVecinosSatisfechos.fecha"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.mntoVecinosSatisfechos.actividad_id,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"actividad_id",t)},expression:"mntoVecinosSatisfechos.actividad_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{label:"Descripción",rules:e.Rules},model:{value:e.mntoVecinosSatisfechos.descripcion,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"descripcion",t)},expression:"mntoVecinosSatisfechos.descripcion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"promotor",rules:e.Rules,outlined:""},model:{value:e.mntoVecinosSatisfechos.responsable,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"responsable",t)},expression:"mntoVecinosSatisfechos.responsable"}})],1),a("v-card-actions",[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1),a("br"),a("v-divider"),a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,search:e.search,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsActividad",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar Seguimiento"},on:{click:function(t){return e.editSeguimiento(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Eliminar Seguimiento"},on:{click:function(t){return e.deleteSeguimiento(i)}}},[e._v(" mdi-delete ")]),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEditSeguimiento,callback:function(t){e.dialogEditSeguimiento=t},expression:"dialogEditSeguimiento"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Editar Seguimiento")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.editarSeguimiento.fecha,callback:function(t){e.$set(e.editarSeguimiento,"fecha",t)},expression:"editarSeguimiento.fecha"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f"},model:{value:e.editarSeguimiento.actividad,callback:function(t){e.$set(e.editarSeguimiento,"actividad",t)},expression:"editarSeguimiento.actividad"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{label:"Descripción"},model:{value:e.editarSeguimiento.descripcion,callback:function(t){e.$set(e.editarSeguimiento,"descripcion",t)},expression:"editarSeguimiento.descripcion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"promotor",required:"",outlined:""},model:{value:e.editarSeguimiento.responsable,callback:function(t){e.$set(e.editarSeguimiento,"responsable",t)},expression:"editarSeguimiento.responsable"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeEditSeguimiento()}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.putSeguimientoSatisfecho()}}},[e._v(" Guardar ")])],1)],1)],1)]}}])})]],2)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar vecino"},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.addSeguimiento(i)}}},[e._v(" mdi-book-check ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}}])})],1)]],2)},Qt=[],Xt={mounted:function(){this.getPersonas(),this.getLiderazgo(),this.getZonas()},data:function(){return{search:"",valid:!0,validEdit:!0,validSeguimiento:!0,dialog:!1,dialogSeguimiento:!1,dialogEditSeguimiento:!1,dialogNewItem:!1,dialogEdit:!1,step:1,Rules:[function(e){return!!e||"Campo requerido"}],emailRules:[function(e){return/.+@.+/.test(e)||"E-mail debe ser válido"}],headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"DPI",value:"dpi"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"liderazgo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actionsActividad",sortable:!1}],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],mntoVecinosSatisfechos:{persona_id:"",fecha:"",actividad:"",descripcion:"",responsable:""},editarSeguimiento:{id:"",fecha:"",actividad_id:"",descripcion:"",responsable:""},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{id:"",pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"2"},newItem:{pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"2",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Vecino":"Editar Vecino"}},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getPersonas:function(){var e=this;4===JSON.parse(localStorage.getItem("rol"))?w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMantenimientoSatisfechos").then((function(t){e.personas=t.data.personas})).catch((function(e){console.log(e.response.data)})):w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMantenimientoSatisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.personas=t.data.persona})).catch((function(e){console.log(e.response.data)}))},getZonas:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonas").then((function(t){e.zonas=t.data.zonas})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.newItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniasEdit:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.editedItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getLiderazgo:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/liderazgo").then((function(t){e.liderazgo=t.data.liderazgo})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0,this.getColoniasEdit()},editSeguimiento:function(e){this.editarSeguimiento=Object.assign({},e),this.dialogEditSeguimiento=!0},addSeguimiento:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.mntoVecinosSatisfechos.persona_id=this.seguimientoVecinosSatisfechos.id,this.mntoVecinosSatisfechos.usuario_creador=JSON.parse(localStorage.getItem("username")),this.buscarSeguimientoVecino(),this.getCatalogoActividades(),this.getPromotor(),this.dialogSeguimiento=!0},deleteItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El vecino será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+e.editedItem.id).then((function(){e.getPersonas()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Vecino eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeEditSeguimiento:function(){this.dialogEditSeguimiento=!1},closeNewItem:function(){var e=this;this.dialogNewItem=!1,this.$nextTick((function(){e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},editarPersona:function(){var e=this;this.$refs.formEdit.validate(),this.validEdit&&(this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Vecino",text:"Información actualizada con éxito.",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.close())}))).catch((function(e){console.log(e.response.data)})))},guardarPersona:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/register",this.newItem).then(this.$swal({title:"Registrar Vecino",text:"Vecino registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotor/"+this.seguimientoVecinosSatisfechos.zona_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getCatalogoActividades:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},buscarSeguimientoVecino:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/mntovecinosatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))},guardarSeguimiento:function(){var e=this;this.$refs.formSeguimiento.validate(),this.validSeguimiento&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientosatisfecho/create",this.mntoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},limpiarNuevo:function(){this.newItem={pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},this.mntoVecinosSatisfechos={persona_id:"",fecha:"",actividad:"",descripcion:""}},putMantenimiento:function(){var e=this;this.editedItem.seguimiento={seguimiento:"1"},this.$swal({title:"¿Trasladar a Seguimiento?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then((function(t){t.isConfirmed?w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/mantenimiento/"+e.seguimientoVecinosSatisfechos.id,e.editedItem.seguimiento).then((function(){e.getPersonas(),e.$swal("Guardado","","success"),e.dialogSeguimiento=!1})).catch((function(e){console.log(e.response.data)})):t.isDenied&&e.$swal("Cambios no guardados")}))},putSeguimientoSatisfecho:function(){var e=this;w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientosatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}))},deleteSeguimiento:function(e){var t=this;this.editarSeguimiento=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.delete("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientosatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)})),t.$swal("Eliminado","Seguimiento eliminado con éxito.","success"))}))}}},ea=Xt,ta=Object(m["a"])(ea,Yt,Qt,!1,null,null,null),aa=ta.exports;v()(ta,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:R["a"],VDataTable:at["a"],VDialog:it["a"],VDivider:P["a"],VForm:fe["a"],VIcon:V["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VTextarea:_t["a"],VToolbar:st["a"],VToolbarItems:q["a"],VToolbarTitle:q["b"]});var ia={mounted:function(){this.getPersonas(),this.getLiderazgo(),this.getZonas()},data:function(){return{search:"",valid:!0,validEdit:!0,validSeguimiento:!0,dialog:!1,dialogSeguimiento:!1,dialogEditSeguimiento:!1,dialogNewItem:!1,dialogEdit:!1,step:1,Rules:[function(e){return!!e||"Campo requerido"}],emailRules:[function(e){return/.+@.+/.test(e)||"E-mail debe ser válido"}],headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"DPI",value:"dpi"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"liderazgo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actionsActividad",sortable:!1}],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],seguimientoVecinosSatisfechos:{persona_id:"",fecha:"",actividad:"",descripcion:"",responsable:""},editarSeguimiento:{id:"",fecha:"",actividad:"",descripcion:"",responsable:""},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{id:"",pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:""},newItem:{pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"1",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Vecino":"Editar Vecino"}},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getPersonasMantenimiento:function(){},getPersonas:function(){var e=this;4===JSON.parse(localStorage.getItem("rol"))?w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/lista").then((function(t){e.personas=t.data.personas})).catch((function(e){console.log(e.response.data)})):w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaporzona/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.personas=t.data.persona})).catch((function(e){console.log(e.response.data)}))},getZonas:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonas").then((function(t){e.zonas=t.data.zonas})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.newItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniasEdit:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.editedItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getLiderazgo:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/liderazgo").then((function(t){e.liderazgo=t.data.liderazgo})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0,this.getColoniasEdit()},editSeguimiento:function(e){this.editarSeguimiento=Object.assign({},e),this.dialogEditSeguimiento=!0},addSeguimiento:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.seguimientoVecinosSatisfechos.persona_id=this.seguimientoVecinosSatisfechos.id,this.seguimientoVecinosSatisfechos.usuario_creador=JSON.parse(localStorage.getItem("username")),this.buscarSeguimientoVecino(),this.getCatalogoActividades(),this.getPromotor(),this.dialogSeguimiento=!0},deleteItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El vecino será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+e.editedItem.id).then((function(){e.getPersonas()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Vecino eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeEditSeguimiento:function(){this.dialogEditSeguimiento=!1},closeNewItem:function(){var e=this;this.dialogNewItem=!1,this.$nextTick((function(){e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},editarPersona:function(){var e=this;this.$refs.formEdit.validate(),this.validEdit&&(this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Vecino",text:"Información actualizada con éxito.",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.close())}))).catch((function(e){console.log(e.response.data)})))},guardarPersona:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/register",this.newItem).then(this.$swal({title:"Registrar Vecino",text:"Vecino registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotor/"+this.seguimientoVecinosSatisfechos.zona_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getCatalogoActividades:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},buscarSeguimientoVecino:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/vecinosatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))},guardarSeguimiento:function(){var e=this;this.$refs.formSeguimiento.validate(),this.validSeguimiento&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/create",this.seguimientoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},limpiarNuevo:function(){this.newItem={pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"1",usuario_creador:JSON.parse(localStorage.getItem("username"))},this.seguimientoVecinosSatisfechos={persona_id:"",fecha:"",actividad:"",descripcion:""}},putMantenimiento:function(){var e=this;this.editedItem.seguimiento={seguimiento:"2"},this.$swal({title:"¿Trasladar a Mantenimiento?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then((function(t){t.isConfirmed?w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/mantenimiento/"+e.seguimientoVecinosSatisfechos.id,e.editedItem.seguimiento).then((function(){e.getPersonas(),e.$refs.mantenimiento.getPersonas(),e.$swal("Guardado","","success"),e.dialogSeguimiento=!1})).catch((function(e){console.log(e.response.data)})):t.isDenied&&e.$swal("Cambios no guardados")}))},putSeguimientoSatisfecho:function(){var e=this;w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}))},deleteSeguimiento:function(e){var t=this;this.editarSeguimiento=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.delete("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)})),t.$swal("Eliminado","Seguimiento eliminado con éxito.","success"))}))}},components:{MantenimientoSatisfechos:aa}},oa=ia,sa=Object(m["a"])(oa,Ht,Kt,!1,null,null,null),na=sa.exports;v()(sa,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:R["a"],VDataTable:at["a"],VDialog:it["a"],VDivider:P["a"],VForm:fe["a"],VIcon:V["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VTextarea:_t["a"],VToolbar:st["a"],VToolbarItems:q["a"],VToolbarTitle:q["b"],VWindow:qt["a"],VWindowItem:Ut["a"]});var la=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account-plus")]),e._v(" Registro de Vecinos ")],1),a("v-spacer")],1)],1),a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPersona.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Nombre",rules:e.Rules,required:""},model:{value:e.newItem.pNombre,callback:function(t){e.$set(e.newItem,"pNombre",t)},expression:"newItem.pNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.newItem.sNombre,callback:function(t){e.$set(e.newItem,"sNombre",t)},expression:"newItem.sNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.newItem.tNombre,callback:function(t){e.$set(e.newItem,"tNombre",t)},expression:"newItem.tNombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Primer Apellido",rules:e.Rules},model:{value:e.newItem.pApellido,callback:function(t){e.$set(e.newItem,"pApellido",t)},expression:"newItem.pApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.newItem.sApellido,callback:function(t){e.$set(e.newItem,"sApellido",t)},expression:"newItem.sApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.newItem.tApellido,callback:function(t){e.$set(e.newItem,"tApellido",t)},expression:"newItem.tApellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.newItem.nacimiento,callback:function(t){e.$set(e.newItem,"nacimiento",t)},expression:"newItem.nacimiento"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Dirección",rules:e.Rules},model:{value:e.newItem.direccion,callback:function(t){e.$set(e.newItem,"direccion",t)},expression:"newItem.direccion"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.newItem.numero_casa,callback:function(t){e.$set(e.newItem,"numero_casa",t)},expression:"newItem.numero_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){return e.getColonias()}},model:{value:e.newItem.zona_id,callback:function(t){e.$set(e.newItem,"zona_id",t)},expression:"newItem.zona_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.colonia_id,callback:function(t){e.$set(e.newItem,"colonia_id",t)},expression:"newItem.colonia_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.newItem.telefono_casa,callback:function(t){e.$set(e.newItem,"telefono_casa",t)},expression:"newItem.telefono_casa"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Celular",type:"number",rules:e.Rules},model:{value:e.newItem.celular,callback:function(t){e.$set(e.newItem,"celular",t)},expression:"newItem.celular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.newItem.correo,callback:function(t){e.$set(e.newItem,"correo",t)},expression:"newItem.correo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.genero,callback:function(t){e.$set(e.newItem,"genero",t)},expression:"newItem.genero"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"liderazgo",label:"Liderazgo comunitario",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.liderazgo,callback:function(t){e.$set(e.newItem,"liderazgo",t)},expression:"newItem.liderazgo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.tipoVecino,"item-text":"text","item-value":"value",label:"Vecino de tipo",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.seguimiento,callback:function(t){e.$set(e.newItem,"seguimiento",t)},expression:"newItem.seguimiento"}})],1)],1),a("v-row",[a("v-card",[a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1)},ca=[],ra={mounted:function(){this.getZonas(),this.getLiderazgo()},data:function(){return{colonias:[],valid:!0,tipoVecino:[{text:"Satisfecho",value:1},{text:"Muy Satisfecho",value:3}],zonas:[],newItem:{pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},liderazgo:[],Rules:[function(e){return!!e||"Campo requerido"}],emailRules:[function(e){return/.+@.+/.test(e)||"E-mail debe ser válido"}]}},methods:{getZonas:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonaalcaldia/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.zonas=t.data.zona})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.newItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getLiderazgo:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/liderazgo").then((function(t){e.liderazgo=t.data.liderazgo})).catch((function(e){console.log(e.response.data)}))},guardarPersona:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/register",this.newItem).then(this.$swal({title:"Registrar Vecino",text:"Vecino registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&e.limpiarNuevo()}))).catch((function(e){console.log(e.response.data)}))},limpiarNuevo:function(){this.newItem={pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:"",numero_casa:"",zona:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"1",usuario_creador:JSON.parse(localStorage.getItem("username"))}}}},da=ra,ua=Object(m["a"])(da,la,ca,!1,null,null,null),ma=ua.exports;v()(ua,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCardText:pe["b"],VCol:ve["a"],VContainer:R["a"],VForm:fe["a"],VIcon:V["a"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"]});var pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 font-weight-bold text-left"},[e._v("Ingreso de Seguimiento Vecino ")])])],1),a("v-row",[a("v-col",{staticClass:"mb-4"},[a("v-text-field",{attrs:{label:"Ingrese DPI del vecino o número de celular"},model:{value:e.persona.dpi,callback:function(t){e.$set(e.persona,"dpi",t)},expression:"persona.dpi"}}),a("v-card-actions",[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:function(t){return e.buscarVecino()}}},[e._v("Buscar")])],1)],1),a("v-col",{staticClass:"mb-4"},[a("v-col",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Información del Vecino ")],1),a("v-spacer"),a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"auto",outlined:"",elevation:"9"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h5 mb-1"},[e._v(" Vecino: "+e._s(e.vecino.nombre)+" "+e._s(e.vecino.apellido)+" ")]),a("v-list-item-subtitle",[a("strong",[e._v("DPI:")]),e._v(" "+e._s(e.vecino.dpi))]),a("v-list-item-subtitle",[a("strong",[e._v("Dirección:")]),e._v(e._s(e.vecino.direccion))]),a("v-list-item-subtitle",[a("strong",[e._v("Teléfono:")]),e._v(" "+e._s(e.vecino.celular))]),a("v-list-item-subtitle",[a("strong",[e._v("Liderazgo:")]),e._v(" "+e._s(e.vecino.liderazgo))])],1)],1)],1)],1)],1)],1),a("v-spacer"),a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-notebook-edit")]),e._v(" Seguimiento ")],1),a("br"),a("v-form",{ref:"formSeguimiento",on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento.apply(null,arguments)}},model:{value:e.validSeguimiento,callback:function(t){e.validSeguimiento=t},expression:"validSeguimiento"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha",type:"date",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.fecha,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"fecha",t)},expression:"seguimientoVecinosSatisfechos.fecha"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.actividad_id,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"actividad_id",t)},expression:"seguimientoVecinosSatisfechos.actividad_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",outlined:"",items:e.promotor,"item-text":"promotor","item-value":"promotor",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.responsable,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"responsable",t)},expression:"seguimientoVecinosSatisfechos.responsable"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{label:"Descripción",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.descripcion,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"descripcion",t)},expression:"seguimientoVecinosSatisfechos.descripcion"}})],1),a("v-card-actions",[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1)],1)},va=[],fa={name:"crearPeticion",mounted:function(){this.getCatalogoActividades()},data:function(){return{validSeguimiento:!0,Rules:[function(e){return!!e||"Campo requerido"}],seguimientoVecinosSatisfechos:{persona_id:"",fecha:"",actividad_id:"",descripcion:"",responsable:""},actividades:[],persona:[],vecino:{nombre:"",apellido:"",direccion:"",dpi:null,celular:null,id:null,liderazgo:"",zona_id:null,seguimiento:null},promotor:[]}},methods:{guardarSeguimiento:function(){var e=this;switch(this.$refs.formSeguimiento.validate(),this.vecino.seguimiento){case 1:this.validSeguimiento&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/create",this.seguimientoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&e.limpiar()}))).catch((function(e){console.log(e.response.data)}));break;case 2:this.validSeguimiento&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientosatisfecho/create",this.seguimientoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&e.limpiar()}))).catch((function(e){console.log(e.response.data)}));break;case 3:this.validSeguimiento&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientomuysatisfecho/create",this.seguimientoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&e.limpiar()}))).catch((function(e){console.log(e.response.data)}));break;case 4:this.validSeguimiento&&w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientomuysatisfecho/create",this.seguimientoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&e.limpiar()}))).catch((function(e){console.log(e.response.data)}));break;default:break}},getCatalogoActividades:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},buscarVecino:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/dpi/"+this.persona.dpi).then((function(t){e.vecino=t.data.persona,e.seguimientoVecinosSatisfechos.persona_id=e.vecino.id,e.getPromotor()})).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotor/"+this.vecino.zona_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},limpiar:function(){this.seguimientoVecinosSatisfechos={persona_id:"",fecha:"",actividad_id:"",descripcion:"",responsable:""},this.vecino={nombre:"",apellido:"",direccion:"",dpi:null,celular:null,id:null,liderazgo:"",zona_id:null,seguimiento:null},this.persona.dpi=""}}},ga=fa,ha=Object(m["a"])(ga,pa,va,!1,null,null,null),ba=ha.exports;v()(ha,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCol:ve["a"],VContainer:R["a"],VForm:fe["a"],VIcon:V["a"],VListItem:g["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VTextarea:_t["a"]});var xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Metas Mantenimiento Vecinos Satisfechos")]),a("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){e.getMetas(),e.getColonias(),e.getPromotor()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.metas,search:e.search,"fixed-header":""},scopedSlots:e._u([{key:"item.actual",fn:function(t){var i=t.item;return[a("v-chip",{attrs:{color:"#97d700",dark:""}},[e._v(" "+e._s(i.actual)+" ")])]}},{key:"item.por_alcanzar",fn:function(t){var i=t.item;return[a("v-chip",{attrs:{color:"#F92D2D",dark:""}},[e._v(" "+e._s(i.por_alcanzar)+" ")])]}},{key:"item.meta",fn:function(t){var i=t.item;return[a("v-chip",{attrs:{color:"#10069f",dark:""}},[e._v(" "+e._s(i.meta)+" ")])]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Lista de Metas")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filtrar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" Nueva Meta ")])]}}],null,!1,2126447398),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.newItem.fecha,callback:function(t){e.$set(e.newItem,"fecha",t)},expression:"newItem.fecha"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Lugar",required:""},model:{value:e.colonias.lugar,callback:function(t){e.$set(e.colonias,"lugar",t)},expression:"colonias.lugar"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Meta",type:"number",required:""},model:{value:e.newItem.meta,callback:function(t){e.$set(e.newItem,"meta",t)},expression:"newItem.meta"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"id",required:""},model:{value:e.newItem.responsable,callback:function(t){e.$set(e.newItem,"responsable",t)},expression:"newItem.responsable"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.guardarMeta()}}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Meta",type:"number",required:""},model:{value:e.editedItem.meta,callback:function(t){e.$set(e.editedItem,"meta",t)},expression:"editedItem.meta"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"id",required:""},model:{value:e.editedItem.responsable,callback:function(t){e.$set(e.editedItem,"responsable",t)},expression:"editedItem.responsable"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeEdit}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.editarMeta()}}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")])]}}],null,!1,1931929501)}):e._e()],1)],1),a("v-row")]],2)},_a=[],Ia=(a("a434"),{mounted:function(){this.getAlcaldias()},data:function(){return{search:"",dialog:!1,dialogEdit:!1,dialogDelete:!1,dialogNewItem:!1,step:1,headers:[{text:"Fecha registro",align:"start",sortable:!1,value:"fecha"},{text:"Lugar",value:"colonia"},{text:"Meta",value:"meta"},{text:"Actual",value:"actual"},{text:"Por alcanzar",value:"por_alcanzar"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actions",sortable:!1}],alcaldias:[],metas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{meta:"",responsable:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},newItem:{alcaldia_id:"",fecha:"",lugar:"",meta:"",responsable:"",por_alcanzar:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},defaultItem:{fecha:"",lugar:"",meta:"",responsable:"",por_alcanzar:"",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Meta":"Editar Meta"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{editItem:function(e){this.editedIndex=this.metas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0},deleteItem:function(e){this.editedIndex=this.metas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.metas.splice(this.editedIndex,1),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeEdit:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},getPromotor:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotorcoordinador/"+this.alcaldias.alcaldia_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.alcaldias.alcaldia_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getMetas:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/metas/mntosatisfechos/"+this.alcaldias.alcaldia_id).then((function(t){e.metas=t.data.metas})).catch((function(e){console.log(e.response.data)}))},guardarMeta:function(){var e=this;this.newItem.colonia_id=this.colonias.lugar,this.newItem.por_alcanzar=this.newItem.meta,this.newItem.alcaldia_id=this.alcaldias.alcaldia_id,w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/metas/mntosatisfechos/crear",this.newItem).then((function(t){t.data.res?(e.$swal("Ya existe una meta en el lugar seleccionado"),e.limpiar()):e.$swal({title:"Nueva Meta",text:"Registrada con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.close(),e.getMetas(),e.limpiar())}))})).catch((function(e){console.log(e.response.data)}))},editarMeta:function(){var e=this;w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/metas/mntosatisfechos/actualizar/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Meta",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getMetas(),e.closeEdit())}))).catch((function(e){console.log(e.response.data)}))},limpiar:function(){this.newItem={alcaldia_id:"",fecha:"",lugar:"",meta:"",responsable:"",usuario_creador:JSON.parse(localStorage.getItem("username"))}}}}),Sa=Ia,wa=a("cc20"),Ca=Object(m["a"])(Sa,xa,_a,!1,null,null,null),ka=Ca.exports;v()(Ca,{VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VChip:wa["a"],VCol:ve["a"],VContainer:R["a"],VDataTable:at["a"],VDialog:it["a"],VDivider:P["a"],VIcon:V["a"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var Va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Metas Mantenimiento Vecinos Muy Satisfechos")]),a("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){e.getMetas(),e.getColonias(),e.getPromotor()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.metas,search:e.search,"fixed-header":""},scopedSlots:e._u([{key:"item.actual",fn:function(t){var i=t.item;return[a("v-chip",{attrs:{color:"#97d700",dark:""}},[e._v(" "+e._s(i.actual)+" ")])]}},{key:"item.por_alcanzar",fn:function(t){var i=t.item;return[a("v-chip",{attrs:{color:"#F92D2D",dark:""}},[e._v(" "+e._s(i.por_alcanzar)+" ")])]}},{key:"item.meta",fn:function(t){var i=t.item;return[a("v-chip",{attrs:{color:"#10069f",dark:""}},[e._v(" "+e._s(i.meta)+" ")])]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Lista de Metas")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filtrar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" Nueva Meta ")])]}}],null,!1,2126447398),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.newItem.fecha,callback:function(t){e.$set(e.newItem,"fecha",t)},expression:"newItem.fecha"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Lugar",required:""},model:{value:e.colonias.lugar,callback:function(t){e.$set(e.colonias,"lugar",t)},expression:"colonias.lugar"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Meta",type:"number",required:""},model:{value:e.newItem.meta,callback:function(t){e.$set(e.newItem,"meta",t)},expression:"newItem.meta"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"id",required:""},model:{value:e.newItem.responsable,callback:function(t){e.$set(e.newItem,"responsable",t)},expression:"newItem.responsable"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.guardarMeta()}}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Meta",type:"number",required:""},model:{value:e.editedItem.meta,callback:function(t){e.$set(e.editedItem,"meta",t)},expression:"editedItem.meta"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"id",required:""},model:{value:e.editedItem.responsable,callback:function(t){e.$set(e.editedItem,"responsable",t)},expression:"editedItem.responsable"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeEdit}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.editarMeta()}}},[e._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")])]}}],null,!1,1931929501)}):e._e()],1)],1),a("v-row")]],2)},ya=[],Na={mounted:function(){this.getAlcaldias()},data:function(){return{search:"",dialog:!1,dialogEdit:!1,dialogDelete:!1,dialogNewItem:!1,step:1,headers:[{text:"Fecha registro",align:"start",sortable:!1,value:"fecha"},{text:"Lugar",value:"colonia"},{text:"Meta",value:"meta"},{text:"Actual",value:"actual"},{text:"Por alcanzar",value:"por_alcanzar"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actions",sortable:!1}],alcaldias:[],metas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{meta:"",responsable:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},newItem:{alcaldia_id:"",fecha:"",lugar:"",meta:"",responsable:"",por_alcanzar:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},defaultItem:{fecha:"",lugar:"",meta:"",responsable:"",por_alcanzar:"",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Meta":"Editar Meta"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{editItem:function(e){this.editedIndex=this.metas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0},deleteItem:function(e){this.editedIndex=this.metas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.metas.splice(this.editedIndex,1),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeEdit:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},getPromotor:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotorcoordinador/"+this.alcaldias.alcaldia_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.alcaldias.alcaldia_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getMetas:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/metas/mntomuysatisfechos/"+this.alcaldias.alcaldia_id).then((function(t){e.metas=t.data.metas})).catch((function(e){console.log(e.response.data)}))},guardarMeta:function(){var e=this;this.newItem.colonia_id=this.colonias.lugar,this.newItem.por_alcanzar=this.newItem.meta,this.newItem.alcaldia_id=this.alcaldias.alcaldia_id,w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/metas/mntomuysatisfechos/crear",this.newItem).then((function(t){t.data.res?(e.$swal("Ya existe una meta en el lugar seleccionado"),e.limpiar()):e.$swal({title:"Nueva Meta",text:"Registrada con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.close(),e.getMetas(),e.limpiar())}))})).catch((function(e){console.log(e.response.data)}))},editarMeta:function(){var e=this;w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/metas/mntomuysatisfechos/actualizar/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Meta",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getMetas(),e.closeEdit())}))).catch((function(e){console.log(e.response.data)}))},limpiar:function(){this.newItem={alcaldia_id:"",fecha:"",lugar:"",meta:"",responsable:"",usuario_creador:JSON.parse(localStorage.getItem("username"))}}}},$a=Na,Aa=Object(m["a"])($a,Va,ya,!1,null,null,null),za=Aa.exports;v()(Aa,{VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VChip:wa["a"],VCol:ve["a"],VContainer:R["a"],VDataTable:at["a"],VDialog:it["a"],VDivider:P["a"],VIcon:V["a"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var Da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-window-item",{attrs:{value:1}},[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Auditoría: Vecinos Satisfechos")]),a("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step++}}},[e._v("Auditoría: Mantenimiento Vecinos Satisfechos")])],1)],1),a("v-row",[a("v-col",{staticClass:"mb-4"},[a("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){return e.getPersonas()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Vecinos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[a("v-card",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsSeguimiento",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"No realizada"},on:{click:function(t){return e.auditarSeguimiento(i)}}},[e._v(" mdi-thumb-down-outline ")])]}}],null,!1,486025483)})],a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cerrar ")])],1)],2)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-book-check ")])]}}],null,!1,2946520720)}):e._e()],1)],1),a("v-row",[a("v-col",["1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-btn",{attrs:{elevation:"",color:"light-green accent-4"},on:{click:function(t){return e.obtener_datos()}}},[e._v("Ver reporte")]):e._e()],1)],1)]],2),a("v-window-item",{attrs:{value:2}},[a("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step--}}},[e._v("Auditoria: Vecinos Satisfechos")]),a("AuditoriaMantenimientoSatisfechos")],1)],1),a("Dialog",{scopedSlots:e._u([{key:"content",fn:function(){return[a("DialogContent",{attrs:{pdf_url:e.pdf_url}})]},proxy:!0}])})],1)},Ta=[],Ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Auditoría: Mantenimiento Vecinos Satisfechos")])])],1),a("v-row",[a("v-col",{staticClass:"mb-4"},[a("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){return e.getPersonas()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Vecinos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[a("v-card",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsSeguimiento",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"No realizada"},on:{click:function(t){return e.auditarSeguimiento(i)}}},[e._v(" mdi-thumb-down-outline ")])]}}],null,!1,486025483)})],a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cerrar ")])],1)],2)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-book-check ")])]}}],null,!1,2946520720)}):e._e()],1)],1),a("v-row",[a("v-col",["1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-btn",{attrs:{elevation:"",color:"light-green accent-4"},on:{click:function(t){return e.obtener_datos()}}},[e._v("Ver reporte")]):e._e()],1)],1)],a("Dialog",{scopedSlots:e._u([{key:"content",fn:function(){return[a("DialogContent",{attrs:{pdf_url:e.pdf_url}})]},proxy:!0}])})],2)},Ma=[],Oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{width:"850"},on:{"click:outside":function(t){return e.setShow(!1)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._t("content")],2)],1)},Ra=[],Pa={data:function(){return{}},methods:Object(n["a"])({},Object(l["c"])({setShow:"dialog/setShow"})),computed:Object(l["d"])({dialog:function(e){return e.dialog.show}})},Ba=Pa,ja=Object(m["a"])(Ba,Oa,Ra,!1,null,null,null),La=ja.exports;v()(ja,{VDialog:it["a"]});var Fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" Reporte Auditoría ")]),a("v-card-text",[a("embed",{attrs:{src:e.pdf_url,width:"800",height:"375",type:"application/pdf"}})]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.setShow(!1)}}},[e._v(" Cerrar ")])],1)],1)],1)},Ja=[],Ga={props:{pdf_url:String},methods:Object(n["a"])(Object(n["a"])({},Object(l["c"])({setShow:"dialog/setShow"})),{},{obtener_datos:function(){console.log("obtener datos")}}),created:function(){this.obtener_datos()}},qa=Ga,Ua=Object(m["a"])(qa,Fa,Ja,!1,null,null,null),Za=Ua.exports;v()(Ua,{VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VDivider:P["a"],VSpacer:J["a"]});var Wa={mounted:function(){this.getAlcaldias()},data:function(){return{search:"",dialog:!1,dialogSeguimiento:!1,headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"DPI",value:"dpi"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"liderazgo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Acciones",value:"actionsSeguimiento",sortable:!1}],alcaldias:[],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],seguimientoVecinosSatisfechos:[],realizado:{realizado:"0"},actRealizado:{realizado:"0",auditor:JSON.parse(localStorage.getItem("user_id"))},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],colonias:[],editedIndex:-1}},computed:{},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:Object(n["a"])(Object(n["a"])({getAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getPersonas:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMantenimientoSatisfechos/"+this.alcaldias.alcaldia_id).then((function(t){e.personas=t.data.personas})).catch((function(e){console.log(e.response.data)}))}},Object(l["c"])({setShow:"dialog/setShow"})),{},{obtener_datos:function(){var e=this;console.log(this.alcaldias.alcaldia_id),w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/reporte/mntosatisfechos/"+this.alcaldias.alcaldia_id).then((function(t){console.log(t.data),e.pdf_url=t.data.url_pdf,e.setShow(!0)})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.buscarSeguimientoVecino(),this.dialogSeguimiento=!0},close:function(){this.dialogSeguimiento=!1},buscarSeguimientoVecino:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/mntovecinosatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))},auditarSeguimiento:function(e){var t=this;this.realizado=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será determinado como no realizado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientosatisfecho/actualizar/"+t.realizado.id,t.actRealizado).then((function(){t.buscarSeguimientoVecino()})).catch((function(e){console.log(e.response.data)})),t.$swal("Actualizado","Seguimiento determinado como no realizado.","success"))}))}}),components:{Dialog:La,DialogContent:Za}},Ha=Wa,Ka=Object(m["a"])(Ha,Ea,Ma,!1,null,null,null),Ya=Ka.exports;v()(Ka,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCol:ve["a"],VContainer:R["a"],VDataTable:at["a"],VDialog:it["a"],VDivider:P["a"],VIcon:V["a"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var Qa={mounted:function(){this.getAlcaldias()},data:function(){return{pdf_url:"",search:"",dialog:!1,dialogSeguimiento:!1,step:1,headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"DPI",value:"dpi"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"liderazgo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Acciones",value:"actionsSeguimiento",sortable:!1}],alcaldias:[],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],seguimientoVecinosSatisfechos:[],realizado:{realizado:"0"},actRealizado:{realizado:"0",auditor:JSON.parse(localStorage.getItem("user_id"))},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],colonias:[],editedIndex:-1}},computed:{},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:Object(n["a"])(Object(n["a"])({getAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getPersonas:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaporzona/"+this.alcaldias.alcaldia_id).then((function(t){e.personas=t.data.persona})).catch((function(e){console.log(e.response.data)}))}},Object(l["c"])({setShow:"dialog/setShow"})),{},{obtener_datos:function(){var e=this;console.log(this.alcaldias.alcaldia_id),w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/reporte/satisfechos/"+this.alcaldias.alcaldia_id).then((function(t){console.log(t.data),e.pdf_url=t.data.url_pdf,e.setShow(!0)})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.buscarSeguimientoVecino(),this.dialogSeguimiento=!0},close:function(){this.dialogSeguimiento=!1},buscarSeguimientoVecino:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/vecinosatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))},auditarSeguimiento:function(e){var t=this;this.realizado=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será determinado como no realizado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/actualizar/"+t.realizado.id,t.actRealizado).then((function(){t.buscarSeguimientoVecino()})).catch((function(e){console.log(e.response.data)})),t.$swal("Actualizado","Seguimiento determinado como no realizado.","success"))}))}}),components:{AuditoriaMantenimientoSatisfechos:Ya,Dialog:La,DialogContent:Za}},Xa=Qa,ei=Object(m["a"])(Xa,Da,Ta,!1,null,null,null),ti=ei.exports;v()(ei,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCol:ve["a"],VContainer:R["a"],VDataTable:at["a"],VDialog:it["a"],VDivider:P["a"],VIcon:V["a"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"],VWindow:qt["a"],VWindowItem:Ut["a"]});var ai=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-window-item",{attrs:{value:1}},[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Auditoría: Vecinos Muy Satisfechos")]),a("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step++}}},[e._v("Auditoría: Mantenimiento Vecinos Muy Satisfechos")])],1)],1),a("v-row",[a("v-col",{staticClass:"mb-4"},[a("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){return e.getPersonas()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Vecinos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[a("v-card",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsSeguimiento",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"No realizada"},on:{click:function(t){return e.auditarSeguimiento(i)}}},[e._v(" mdi-thumb-down-outline ")])]}}],null,!1,486025483)})],a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cerrar ")])],1)],2)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-book-check ")])]}}],null,!1,2946520720)}):e._e()],1)],1),a("v-row",[a("v-col",["1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-btn",{attrs:{elevation:"",color:"light-green accent-4"},on:{click:function(t){return e.obtener_datos()}}},[e._v("Ver reporte")]):e._e()],1)],1)]],2),a("v-window-item",{attrs:{value:2}},[a("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step--}}},[e._v("Auditoria: Vecinos Muy Satisfechos")]),a("AuditoriaMantenimientoMuySatisfechos")],1)],1),a("Dialog",{scopedSlots:e._u([{key:"content",fn:function(){return[a("DialogContent",{attrs:{pdf_url:e.pdf_url}})]},proxy:!0}])})],1)},ii=[],oi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Auditoría: Mantenimiento Vecinos Muy Satisfechos")])])],1),a("v-row",[a("v-col",{staticClass:"mb-4"},[a("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){return e.getPersonas()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Vecinos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[a("v-card",[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsSeguimiento",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"No realizada"},on:{click:function(t){return e.auditarSeguimiento(i)}}},[e._v(" mdi-thumb-down-outline ")])]}}],null,!1,486025483)})],a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cerrar ")])],1)],2)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-book-check ")])]}}],null,!1,2946520720)}):e._e()],1)],1),a("v-row",[a("v-col",["1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-btn",{attrs:{elevation:"",color:"light-green accent-4"},on:{click:function(t){return e.obtener_datos()}}},[e._v("Ver reporte")]):e._e()],1)],1)],a("Dialog",{scopedSlots:e._u([{key:"content",fn:function(){return[a("DialogContent",{attrs:{pdf_url:e.pdf_url}})]},proxy:!0}])})],2)},si=[],ni={mounted:function(){this.getAlcaldias()},data:function(){return{search:"",dialog:!1,dialogSeguimiento:!1,headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"DPI",value:"dpi"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"liderazgo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Acciones",value:"actionsSeguimiento",sortable:!1}],alcaldias:[],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],seguimientoVecinosSatisfechos:[],realizado:{realizado:"0"},actRealizado:{realizado:"0",auditor:JSON.parse(localStorage.getItem("user_id"))},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],colonias:[],editedIndex:-1}},computed:{},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:Object(n["a"])(Object(n["a"])({getAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getPersonas:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMantenimientoMuySatisfechos/"+this.alcaldias.alcaldia_id).then((function(t){e.personas=t.data.personas})).catch((function(e){console.log(e.response.data)}))}},Object(l["c"])({setShow:"dialog/setShow"})),{},{obtener_datos:function(){var e=this;console.log(this.alcaldias.alcaldia_id),w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/reporte/mntomuysatisfechos/"+this.alcaldias.alcaldia_id).then((function(t){console.log(t.data),e.pdf_url=t.data.url_pdf,e.setShow(!0)})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.buscarSeguimientoVecino(),this.dialogSeguimiento=!0},close:function(){this.dialogSeguimiento=!1},buscarSeguimientoVecino:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/mntovecinomuysatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))},auditarSeguimiento:function(e){var t=this;this.realizado=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será determinado como no realizado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientomuysatisfecho/actualizar/"+t.realizado.id,t.actRealizado).then((function(){t.buscarSeguimientoVecino()})).catch((function(e){console.log(e.response.data)})),t.$swal("Actualizado","Seguimiento determinado como no realizado.","success"))}))}}),components:{Dialog:La,DialogContent:Za}},li=ni,ci=Object(m["a"])(li,oi,si,!1,null,null,null),ri=ci.exports;v()(ci,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCol:ve["a"],VContainer:R["a"],VDataTable:at["a"],VDialog:it["a"],VDivider:P["a"],VIcon:V["a"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var di={mounted:function(){this.getAlcaldias()},data:function(){return{search:"",dialog:!1,dialogSeguimiento:!1,step:1,headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"DPI",value:"dpi"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"liderazgo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Acciones",value:"actionsSeguimiento",sortable:!1}],alcaldias:[],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],seguimientoVecinosSatisfechos:[],realizado:{realizado:"0"},actRealizado:{realizado:"0",auditor:JSON.parse(localStorage.getItem("user_id"))},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],colonias:[],editedIndex:-1}},computed:{},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:Object(n["a"])(Object(n["a"])({getAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getPersonas:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMuySatisfechos/"+this.alcaldias.alcaldia_id).then((function(t){e.personas=t.data.personas,console.log(e.personas)})).catch((function(e){console.log(e.response.data)}))}},Object(l["c"])({setShow:"dialog/setShow"})),{},{obtener_datos:function(){var e=this;console.log(this.alcaldias.alcaldia_id),w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/reporte/muysatisfechos/"+this.alcaldias.alcaldia_id).then((function(t){console.log(t.data),e.pdf_url=t.data.url_pdf,e.setShow(!0)})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.buscarSeguimientoVecino(),this.dialogSeguimiento=!0},close:function(){this.dialogSeguimiento=!1},buscarSeguimientoVecino:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/vecinomuysatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))},auditarSeguimiento:function(e){var t=this;this.realizado=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será determinado como no realizado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.put("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientomuysatisfecho/actualizar/"+t.realizado.id,t.actRealizado).then((function(){t.buscarSeguimientoVecino()})).catch((function(e){console.log(e.response.data)})),t.$swal("Actualizado","Seguimiento determinado como no realizado.","success"))}))}}),components:{AuditoriaMantenimientoMuySatisfechos:ri,Dialog:La,DialogContent:Za}},ui=di,mi=Object(m["a"])(ui,ai,ii,!1,null,null,null),pi=mi.exports;v()(mi,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCardActions:pe["a"],VCol:ve["a"],VContainer:R["a"],VDataTable:at["a"],VDialog:it["a"],VDivider:P["a"],VIcon:V["a"],VRow:ge["a"],VSelect:ot["a"],VSpacer:J["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"],VWindow:qt["a"],VWindowItem:Ut["a"]});var vi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-window-item",{attrs:{value:1}},[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Auditoría: Vecinos Satisfechos")]),a("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step++}}},[e._v("Auditoría: Mantenimiento Vecinos Satisfechos")])],1)],1),a("v-row",[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2 justify-center"},[e._v(" Reporte Auditoría ")]),a("v-card-text",{staticClass:"justify-center"},[a("embed",{attrs:{src:e.pdf_url,width:"1000",height:"575",type:"application/pdf"}})]),a("v-divider")],1)],1)]],2),a("v-window-item",{attrs:{value:2}},[a("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step--}}},[e._v("Auditoria: Vecinos Satisfechos")]),a("AuditoriaMantenimientoSatisfechos")],1)],1)],1)},fi=[],gi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Auditoría: Mantenimiento Vecinos Satisfechos")])])],1),a("v-row",[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2 justify-center"},[e._v(" Reporte Auditoría ")]),a("v-card-text",{staticClass:"justify-center"},[a("embed",{attrs:{src:e.pdf_url,width:"1000",height:"575",type:"application/pdf"}})]),a("v-divider")],1)],1)]],2)},hi=[],bi={mounted:function(){this.obtener_datos()},data:function(){return{pdf_url:"",step:1,editedIndex:-1}},methods:{obtener_datos:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/reporte/mntosatisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.pdf_url=t.data.url_pdf})).catch((function(e){console.log(e.response.data)}))}}},xi=bi,_i=Object(m["a"])(xi,gi,hi,!1,null,null,null),Ii=_i.exports;v()(_i,{VCard:O["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:R["a"],VDivider:P["a"],VRow:ge["a"]});var Si={mounted:function(){this.obtener_datos()},data:function(){return{pdf_url:"",step:1,editedIndex:-1}},methods:{obtener_datos:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/reporte/satisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.pdf_url=t.data.url_pdf})).catch((function(e){console.log(e.response.data)}))}},components:{AuditoriaMantenimientoSatisfechos:Ii}},wi=Si,Ci=Object(m["a"])(wi,vi,fi,!1,null,null,null),ki=Ci.exports;v()(Ci,{VBtn:me["a"],VCard:O["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:R["a"],VDivider:P["a"],VRow:ge["a"],VWindow:qt["a"],VWindowItem:Ut["a"]});var Vi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-window-item",{attrs:{value:1}},[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Auditoría: Vecinos Muy Satisfechos")]),a("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step++}}},[e._v("Auditoría: Mantenimiento Vecinos Muy Satisfechos")])],1)],1),a("v-row",[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2 justify-center"},[e._v(" Reporte Auditoría ")]),a("v-card-text",{staticClass:"justify-center"},[a("embed",{attrs:{src:e.pdf_url,width:"1000",height:"575",type:"application/pdf"}})]),a("v-divider")],1)],1)]],2),a("v-window-item",{attrs:{value:2}},[a("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step--}}},[e._v("Auditoria: Vecinos Satisfechos")]),a("AuditoriaMantenimientoMuySatisfechos")],1)],1)],1)},yi=[],Ni=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Auditoría: Mantenimiento Vecinos Muy Satisfechos")])])],1),a("v-row",[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2 justify-center"},[e._v(" Reporte Auditoría ")]),a("v-card-text",{staticClass:"justify-center"},[a("embed",{attrs:{src:e.pdf_url,width:"1000",height:"575",type:"application/pdf"}})]),a("v-divider")],1)],1)]],2)},$i=[],Ai={mounted:function(){this.obtener_datos()},data:function(){return{pdf_url:"",step:1,editedIndex:-1}},methods:{obtener_datos:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/reporte/mntomuysatisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.pdf_url=t.data.url_pdf})).catch((function(e){console.log(e.response.data)}))}}},zi=Ai,Di=Object(m["a"])(zi,Ni,$i,!1,null,null,null),Ti=Di.exports;v()(Di,{VCard:O["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:R["a"],VDivider:P["a"],VRow:ge["a"]});var Ei={mounted:function(){this.obtener_datos()},data:function(){return{pdf_url:"",step:1,editedIndex:-1}},methods:{obtener_datos:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/reporte/muysatisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.pdf_url=t.data.url_pdf})).catch((function(e){console.log(e.response.data)}))}},components:{AuditoriaMantenimientoMuySatisfechos:Ti}},Mi=Ei,Oi=Object(m["a"])(Mi,Vi,yi,!1,null,null,null),Ri=Oi.exports;v()(Oi,{VBtn:me["a"],VCard:O["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:R["a"],VDivider:P["a"],VRow:ge["a"],VWindow:qt["a"],VWindowItem:Ut["a"]});var Pi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-view-dashboard")]),e._v(" Dashboard Mantenimiento Vecinos Satisfechos ")],1),a("br"),a("v-row",{attrs:{align:"center",justify:"space-around"}},["1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-btn",{on:{click:function(t){return e.getMetasSatisfechosAlcaldias()}}},[e._v(" Todas las Alcaldias ")]):e._e(),"1"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){e.getMetasByDistrito(),e.getDistritos()}}},[e._v(" Metas Distritos ")]):e._e(),"3"==e.alcaldias.alcaldia_id?a("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getMetasGlobalesBySector()}}},[e._v(" Metas Sectores ")]):e._e()],1)],1),a("v-col",[a("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetas()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-select",{attrs:{items:e.distrito,"item-text":"distrito","item-value":"distrito_id",label:"Seleccione Distrito",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasColoniasByDistritos()}},model:{value:e.distrito.distrito_id,callback:function(t){e.$set(e.distrito,"distrito_id",t)},expression:"distrito.distrito_id"}}):e._e(),"3"==e.alcaldias.alcaldia_id?a("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasBySector()}},model:{value:e.sector.sector,callback:function(t){e.$set(e.sector,"sector",t)},expression:"sector.sector"}}):e._e(),a("v-divider")],1)],1),a("v-row",e._l(e.arreglo,(function(e,t){return a("v-col",{key:t,attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",elevation:"13",outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"text-overline mb-4"},[a("highcharts",{attrs:{options:e.chart}})],1)])],1)],1)],1)})),1)],1)},Bi=[],ji=a("ea7f"),Li=a.n(ji),Fi=a("33c6"),Ji=a.n(Fi);Ji()(Li.a);var Gi={components:{highcharts:ne["Chart"]},methods:{getMetasSatisfechosAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntosatisfechos").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasColoniasByDistritos:function(){var e=this;console.log(this.distrito.distrito_id),w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntosatisfechos/"+this.alcaldias.alcaldia_id+"/"+this.distrito.distrito_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getDistritos:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.alcaldias.alcaldia_id).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntoalcaldia/"+this.alcaldias.alcaldia_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getSector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.alcaldias.alcaldia_id).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},getMetasByDistrito:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntodistrito/"+this.alcaldias.alcaldia_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasBySector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntoporsector/"+this.sector.sector).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasGlobalesBySector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntometaporsector/"+this.alcaldias.alcaldia_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetas:function(){switch(this.alcaldias.alcaldia_id){case 1:this.getMetasByDistrito(),this.getDistritos();break;case 2:this.getColonias();break;case 3:this.getSector(),this.getMetasGlobalesBySector();break;case 4:this.getMetasByDistrito(),this.getDistritos();break}}},data:function(){return{arreglo:[],alcaldias:[],distrito:[],sector:[]}},mounted:function(){this.getMetasSatisfechosAlcaldias(),this.getAlcaldias()}},qi=Gi,Ui=Object(m["a"])(qi,Pi,Bi,!1,null,null,null),Zi=Ui.exports;v()(Ui,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCol:ve["a"],VContainer:R["a"],VDivider:P["a"],VIcon:V["a"],VListItem:g["a"],VListItemContent:h["a"],VRow:ge["a"],VSelect:ot["a"]});var Wi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-view-dashboard")]),e._v(" Dashboard Mantenimiento Vecinos Muy Satisfechos ")],1),a("br"),a("v-row",{attrs:{align:"center",justify:"space-around"}},["1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-btn",{on:{click:function(t){return e.getMetasSatisfechosAlcaldias()}}},[e._v(" Todas las Alcaldias ")]):e._e(),"1"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){e.getMetasByDistrito(),e.getDistritos()}}},[e._v(" Metas Distritos ")]):e._e(),"3"==e.alcaldias.alcaldia_id?a("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getMetasGlobalesBySector()}}},[e._v(" Metas Sectores ")]):e._e()],1)],1),a("v-col",[a("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetas()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?a("v-select",{attrs:{items:e.distrito,"item-text":"distrito","item-value":"distrito_id",label:"Seleccione Distrito",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasColoniasByDistritos()}},model:{value:e.distrito.distrito_id,callback:function(t){e.$set(e.distrito,"distrito_id",t)},expression:"distrito.distrito_id"}}):e._e(),"3"==e.alcaldias.alcaldia_id?a("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasBySector()}},model:{value:e.sector.sector,callback:function(t){e.$set(e.sector,"sector",t)},expression:"sector.sector"}}):e._e(),a("v-divider")],1)],1),a("v-row",e._l(e.arreglo,(function(e,t){return a("v-col",{key:t,attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",elevation:"13",outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"text-overline mb-4"},[a("highcharts",{attrs:{options:e.chart}})],1)])],1)],1)],1)})),1)],1)},Hi=[];Ji()(Li.a);var Ki={components:{highcharts:ne["Chart"]},methods:{getMetasSatisfechosAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuysatisfechos").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasColoniasByDistritos:function(){var e=this;console.log(this.distrito.distrito_id),w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuysatisfechos/"+this.alcaldias.alcaldia_id+"/"+this.distrito.distrito_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getDistritos:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.alcaldias.alcaldia_id).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuyalcaldia/"+this.alcaldias.alcaldia_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getSector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.alcaldias.alcaldia_id).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},getMetasByDistrito:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuydistrito/"+this.alcaldias.alcaldia_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasBySector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuyporsector/"+this.sector.sector).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasGlobalesBySector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuymetaporsector/"+this.alcaldias.alcaldia_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetas:function(){switch(this.alcaldias.alcaldia_id){case 1:this.getMetasByDistrito(),this.getDistritos();break;case 2:this.getColonias();break;case 3:this.getSector(),this.getMetasGlobalesBySector();break;case 4:this.getMetasByDistrito(),this.getDistritos();break}}},data:function(){return{arreglo:[],alcaldias:[],distrito:[],sector:[]}},mounted:function(){this.getMetasSatisfechosAlcaldias(),this.getAlcaldias()}},Yi=Ki,Qi=Object(m["a"])(Yi,Wi,Hi,!1,null,null,null),Xi=Qi.exports;v()(Qi,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCol:ve["a"],VContainer:R["a"],VDivider:P["a"],VIcon:V["a"],VListItem:g["a"],VListItemContent:h["a"],VRow:ge["a"],VSelect:ot["a"]});var eo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-view-dashboard")]),e._v(" Dashboard Mantenimiento Vecinos Satisfechos ")],1),a("br"),a("v-row",{attrs:{align:"center",justify:"space-around"}},[a("v-btn",{on:{click:function(t){return e.getMetasSatisfechosAlcaldias()}}},[e._v(" Alcaldia ")]),"1"==e.userData.alcaldia||"4"==e.userData.alcaldia?a("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){e.getMetasByDistrito(),e.getDistritos()}}},[e._v(" Metas Distritos ")]):e._e(),"3"==e.userData.alcaldia?a("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getMetasGlobalesBySector()}}},[e._v(" Metas Sectores ")]):e._e()],1)],1),a("v-col",["1"==e.userData.alcaldia||"4"==e.userData.alcaldia?a("v-select",{attrs:{items:e.distrito,"item-text":"distrito","item-value":"distrito_id",label:"Seleccione Distrito",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasColoniasByDistritos()}},model:{value:e.distrito.distrito_id,callback:function(t){e.$set(e.distrito,"distrito_id",t)},expression:"distrito.distrito_id"}}):e._e(),"3"==e.userData.alcaldia?a("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasBySector()}},model:{value:e.sector.sector,callback:function(t){e.$set(e.sector,"sector",t)},expression:"sector.sector"}}):e._e(),a("v-divider")],1)],1),a("v-row",e._l(e.arreglo,(function(e,t){return a("v-col",{key:t,attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",elevation:"13",outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"text-overline mb-4"},[a("highcharts",{attrs:{options:e.chart}})],1)])],1)],1)],1)})),1)],1)},to=[];Ji()(Li.a);var ao={components:{highcharts:ne["Chart"]},methods:{getMetasSatisfechosAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntosatisfechos/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasColoniasByDistritos:function(){var e=this;console.log(this.distrito.distrito_id),w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntosatisfechos/"+this.userData.alcaldia+"/"+this.distrito.distrito_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getDistritos:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.userData.alcaldia).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntoalcaldia/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getSector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.userData.alcaldia).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},getMetasByDistrito:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntodistrito/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasBySector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntoporsector/"+this.sector.sector).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasGlobalesBySector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntometaporsector/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetas:function(){switch(this.userData.alcaldia){case 1:this.getMetasSatisfechosAlcaldias(),this.getDistritos();break;case 2:this.getMetasSatisfechosAlcaldias(),this.getColonias();break;case 3:this.getSector(),this.getMetasSatisfechosAlcaldias();break;case 4:this.getMetasSatisfechosAlcaldias(),this.getDistritos();break}}},data:function(){return{arreglo:[],distrito:[],sector:[]}},mounted:function(){this.getMetas()},computed:{userData:function(){var e={alcaldia:JSON.parse(localStorage.getItem("alcaldia"))};return e}}},io=ao,oo=Object(m["a"])(io,eo,to,!1,null,null,null),so=oo.exports;v()(oo,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCol:ve["a"],VContainer:R["a"],VDivider:P["a"],VIcon:V["a"],VListItem:g["a"],VListItemContent:h["a"],VRow:ge["a"],VSelect:ot["a"]});var no=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{staticClass:"mb-4"},[a("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[a("v-icon",{staticClass:"white"},[e._v("mdi-view-dashboard")]),e._v(" Dashboard Mantenimiento Vecinos Muy Satisfechos ")],1),a("br"),a("v-row",{attrs:{align:"center",justify:"space-around"}},[a("v-btn",{on:{click:function(t){return e.getMetasSatisfechosAlcaldias()}}},[e._v(" Alcaldia ")]),"1"==e.userData.alcaldia||"4"==e.userData.alcaldia?a("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){e.getMetasByDistrito(),e.getDistritos()}}},[e._v(" Metas Distritos ")]):e._e(),"3"==e.userData.alcaldia?a("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getMetasGlobalesBySector()}}},[e._v(" Metas Sectores ")]):e._e()],1)],1),a("v-col",["1"==e.userData.alcaldia||"4"==e.userData.alcaldia?a("v-select",{attrs:{items:e.distrito,"item-text":"distrito","item-value":"distrito_id",label:"Seleccione Distrito",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasColoniasByDistritos()}},model:{value:e.distrito.distrito_id,callback:function(t){e.$set(e.distrito,"distrito_id",t)},expression:"distrito.distrito_id"}}):e._e(),"3"==e.userData.alcaldia?a("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasBySector()}},model:{value:e.sector.sector,callback:function(t){e.$set(e.sector,"sector",t)},expression:"sector.sector"}}):e._e(),a("v-divider")],1)],1),a("v-row",e._l(e.arreglo,(function(e,t){return a("v-col",{key:t,attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",elevation:"13",outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"text-overline mb-4"},[a("highcharts",{attrs:{options:e.chart}})],1)])],1)],1)],1)})),1)],1)},lo=[];Ji()(Li.a);var co={components:{highcharts:ne["Chart"]},methods:{getMetasSatisfechosAlcaldias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuysatisfechos/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasColoniasByDistritos:function(){var e=this;console.log(this.distrito.distrito_id),w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuysatisfechos/"+this.userData.alcaldia+"/"+this.distrito.distrito_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getDistritos:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.userData.alcaldia).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuyalcaldia/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getSector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.userData.alcaldia).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},getMetasByDistrito:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuydistrito/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasBySector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuyporsector/"+this.sector.sector).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasGlobalesBySector:function(){var e=this;w.a.get("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuymetaporsector/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetas:function(){switch(this.userData.alcaldia){case 1:this.getMetasSatisfechosAlcaldias(),this.getDistritos();break;case 2:this.getMetasSatisfechosAlcaldias(),this.getColonias();break;case 3:this.getSector(),this.getMetasSatisfechosAlcaldias();break;case 4:this.getMetasSatisfechosAlcaldias(),this.getDistritos();break}}},data:function(){return{arreglo:[],alcaldias:[],distrito:[],sector:[]}},mounted:function(){this.getMetasSatisfechosAlcaldias()},computed:{userData:function(){var e={alcaldia:JSON.parse(localStorage.getItem("alcaldia"))};return e}}},ro=co,uo=Object(m["a"])(ro,no,lo,!1,null,null,null),mo=uo.exports;v()(uo,{VBanner:He["a"],VBtn:me["a"],VCard:O["a"],VCol:ve["a"],VContainer:R["a"],VDivider:P["a"],VIcon:V["a"],VListItem:g["a"],VListItemContent:h["a"],VRow:ge["a"],VSelect:ot["a"]}),i["default"].component("inicio",Ye),i["default"].component("usuarios",lt),i["default"].component("perfil",ft),i["default"].component("muysatisfechos",Wt),i["default"].component("satisfechos",na),i["default"].component("creaVecino",ma),i["default"].component("crearSeguimiento",ba),i["default"].component("metasSatisfechos",ka),i["default"].component("metasMuySatisfechos",ka),i["default"].component("crearPeticion",St),i["default"].component("peticionVecino",Nt),i["default"].component("seguimiento",Et),i["default"].component("dashboard",Zi),i["default"].component("dashboardMuySatisfechos",Xi),i["default"].component("dashboardSatisfechosByAlcaldia",so),i["default"].component("dashboardMuySatisfechosByAlcaldia",mo),i["default"].component("auditoriaSatisfechos",ti),i["default"].component("auditoriaMuySatisfechos",pi),i["default"].component("audiSatisfechos",ki),i["default"].component("audiMuySatisfechos",Ri),i["default"].use(ie["a"]),i["default"].use(se.a),i["default"].use(le.a);var po=[{path:"/",name:"login",component:xe,meta:{hideNavbar:!0}},{path:"/inicio",component:Ye},{path:"/usuarios",component:lt},{path:"/perfil",component:ft},{path:"/nuevoVecino",component:ma},{path:"/ingresarSeguimiento",component:ba},{path:"/muysatisfechos",component:Wt},{path:"/satisfechos",component:na},{path:"/peticion",component:St},{path:"/peticion-vecino",component:Nt},{path:"/seguimiento",component:Et},{path:"/metasSatisfechos",component:ka},{path:"/metasMuySatisfechos",component:za},{path:"/auditoriaSatisfechos",component:ti},{path:"/auditoriaMuySatisfechos",component:pi},{path:"/audiSatisfechos",component:ki},{path:"/audiMuySatisfechos",component:Ri},{path:"/dashboard",component:Zi},{path:"/dashboardMuySatisfechos",component:Xi},{path:"/indicadoresSatisfechos",component:so},{path:"/indicadoresMuySatisfechos",component:mo}],vo=new ie["a"]({routes:po,mode:"history"});vo.beforeEach((function(e,t,a){ee.dispatch("fetchAccessToken");var i={url:e.path,rol:JSON.parse(localStorage.getItem("rol"))};return w.a.post("https://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/rutas",i).then((function(e){if(e.data.length<=0)return a("/inicio")})).catch((function(e){console.log(e.response.data)})),"login"!=e.name&&null==ee.state.accessToken?a("/"):"login"==e.name&&null!=ee.state.accessToken?a("/inicio"):void a()}));var fo=t["default"]=vo;i["default"].config.productionTip=!1,new i["default"]({router:vo,store:ee,vuetify:ae,render:function(e){return e(Z)}}).$mount("#app")},"6fb1":function(e,t,a){},"8f1f":function(e,t,a){e.exports=a.p+"img/logo1.6fb3c337.png"},b709:function(e,t,a){"use strict";a("6fb1")},ca4a:function(e,t,a){}});
//# sourceMappingURL=app.c100ac7a.js.map