(function(e){function t(t){for(var a,n,l=t[0],c=t[1],r=t[2],u=0,m=[];u<l.length;u++)n=l[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&m.push(o[n][0]),o[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,r||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],a=!0,l=1;l<i.length;l++){var c=i[l];0!==o[c]&&(a=!1)}a&&(s.splice(t--,1),e=n(n.s=i[0]))}return e}var a={},o={app:0},s=[];function n(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=a,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/apps/portalpeticiones/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var r=0;r<l.length;r++)t(l[r]);var d=c;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"446f":function(e,t,i){"use strict";i("cd0c")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d"),i("b0c0");var a=i("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-card",{staticClass:"mx-auto overflow-hidden",attrs:{height:"100%",width:"100%"}},[e.$route.meta.hideNavbar?e._e():a("v-system-bar",{attrs:{app:"",color:"#97d700"}},[a("v-spacer")],1),e.$route.meta.hideNavbar?e._e():a("v-app-bar",{staticClass:" accent-4 white--text",attrs:{app:"",color:"#10069f"}},[a("v-toolbar-title",[a("v-list-item",{attrs:{to:{path:"/inicio"}}},[a("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Muni-logo",contain:"",src:i("8f1f"),transition:"scale-transition",width:"40",to:{path:"/"}}}),a("h2",{staticClass:"white--text"},[e._v("Portal Región 1|")]),a("h4",{staticClass:"white--text"},[e._v("Medición de satisfacción del vecino")])],1)],1)],1),e.$route.meta.hideNavbar?e._e():a("v-navigation-drawer",{attrs:{app:"",clipped:"",fixed:"",permanent:"","mini-variant":"","expand-on-hover":""}},[a("v-list",[a("Avatar")],1),a("v-divider"),a("Menu"),a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item",{attrs:{link:""},on:{click:function(t){return e.logout()}}},[a("v-icon",[e._v(" mdi-logout ")]),a("v-list-item-title",[e._v("Salir")])],1)],1)],1),a("v-main",[a("v-container",{attrs:{fluid:""}},[a("v-fade-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1)],1)],1)},s=[],n=i("5530"),l=i("2f62"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-list-item",[i("v-list-item-content",[i("v-list-item",{staticClass:"px-2"},[i("v-avatar",[i("img",{attrs:{src:e.avatarData}})])],1),i("v-list-item-title",{staticClass:"text-h6"},[e._v(" "+e._s(e.userData.nombre)+" ")]),i("v-list-item-title",{staticClass:"text-h6"},[e._v(" "+e._s(e.userData.apellido)+" ")]),i("v-list-item-subtitle",[e._v(e._s(e.userData.alcaldia))]),i("v-list-item-subtitle",[e._v(e._s(e.userData.rol))])],1)],1)],1)},r=[],d={computed:{userData:function(){var e={nombre:JSON.parse(localStorage.getItem("nombres")),apellido:JSON.parse(localStorage.getItem("apellidos")),alcaldia:JSON.parse(localStorage.getItem("user_alcaldia")),rol:JSON.parse(localStorage.getItem("user_rol"))};return e},avatarData:function(){return JSON.parse(localStorage.getItem("avatar"))}}},u=d,m=i("2877"),p=i("6544"),v=i.n(p),g=i("8212"),f=i("da13"),h=i("5d23"),b=Object(m["a"])(u,c,r,!1,null,null,null),x=b.exports;v()(b,{VAvatar:g["a"],VListItem:f["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"]});var I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-list",{attrs:{nav:"",dense:""}},e._l(e.links,(function(t,a){return i("div",{key:a},[t.subLinks?i("v-list-group",{key:t.text,attrs:{"no-action":"","prepend-icon":t.icon,value:!1},scopedSlots:e._u([{key:"activator",fn:function(){return[i("v-list-item-title",[e._v(e._s(t.text))])]},proxy:!0}],null,!0)},[[i("div",e._l(t.subLinks,(function(t){return i("v-list-item",{key:t.text,attrs:{to:t.to}},[i("v-list-item-icon",[i("v-icon",[e._v(e._s(t.icon))])],1),i("v-list-item-title",[e._v(e._s(t.text))])],1)})),1)]],2):i("v-list-item",{staticClass:"v-list-item",attrs:{to:t.to}},[i("v-list-item-icon",[i("v-icon",[e._v(e._s(t.icon))])],1),i("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)],1)})),0)],1)},S=[],_=i("bc3a"),w=i.n(_),k={mounted:function(){this.getMenu()},data:function(){return{links:[]}},methods:{getMenu:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/menu/"+JSON.parse(localStorage.getItem("user_id"))).then((function(t){e.links=t.data.menu,console.log(e.arreglo.menu)})).catch((function(e){console.log(e.response.data)}))}}},C=k,V=i("132d"),N=i("8860"),$=i("56b0"),y=i("34c3"),A=Object(m["a"])(C,I,S,!1,null,null,null),E=A.exports;v()(A,{VIcon:V["a"],VList:N["a"],VListGroup:$["a"],VListItem:f["a"],VListItemIcon:y["a"],VListItemTitle:h["c"]});var z={name:"App",data:function(){return{nombres:JSON.parse(localStorage.getItem("nombres")),apellidos:JSON.parse(localStorage.getItem("apellidos")),z:JSON.parse(localStorage.getItem("zona")),r:JSON.parse(localStorage.getItem("rolUsuario")),arreglo:[]}},methods:Object(n["a"])({},Object(l["b"])(["logout"])),components:{Avatar:x,Menu:E}},D=z,T=(i("fda1"),i("7496")),O=i("40dc"),R=i("b0af"),P=i("a523"),B=i("ce7e"),M=i("0789"),j=i("adda"),J=i("f6c4"),F=i("f774"),L=i("2fa4"),G=i("afd9"),q=i("2a7f"),Z=Object(m["a"])(D,o,s,!1,null,"8a74d200",null),U=Z.exports;v()(Z,{VApp:T["a"],VAppBar:O["a"],VCard:R["a"],VContainer:P["a"],VDivider:B["a"],VFadeTransition:M["c"],VIcon:V["a"],VImg:j["a"],VList:N["a"],VListItem:f["a"],VListItemTitle:h["c"],VMain:J["a"],VNavigationDrawer:F["a"],VSpacer:L["a"],VSystemBar:G["a"],VToolbarTitle:q["b"]});i("e9c4");var H=!0,K={show:!1},W={setShow:function(e,t){e.show=t}},Y={},Q={},X={namespaced:H,state:K,mutations:W,actions:Y,getters:Q};a["default"].use(l["a"]);var ee=new l["a"].Store({state:{accessToken:null,loggingIn:!1,loginError:null},getters:{},mutations:{loginStart:function(e){return e.loggingIn=!0},loginStop:function(e,t){e.loggingIn=!1,e.loginError=t},updateAccessToken:function(e,t){e.accessToken=t},logout:function(e){e.accessToken=null}},actions:{doLogin:function(e,t){var i=e.commit;i("loginStart"),w()({method:"POST",url:"http://udicat.muniguate.com/apis/api-portalpeticiones/public/login",data:t}).then((function(e){!0===e.data.res?(i("loginStop",null),localStorage.setItem("usuario",JSON.stringify(e.data.data)),localStorage.setItem("username",JSON.stringify(e.data.username)),localStorage.setItem("rol",JSON.stringify(e.data.rol_id)),localStorage.setItem("alcaldia",JSON.stringify(e.data.alcaldia_id)),localStorage.setItem("distrito",JSON.stringify(e.data.distrito_id)),localStorage.setItem("nombres",JSON.stringify(e.data.nombres)),localStorage.setItem("apellidos",JSON.stringify(e.data.apellidos)),localStorage.setItem("user_id",JSON.stringify(e.data.user_id)),localStorage.setItem("avatar",JSON.stringify(e.data.avatar)),localStorage.setItem("user_alcaldia",JSON.stringify(e.data.alcaldia)),localStorage.setItem("user_rol",JSON.stringify(e.data.rol))):alert("Datos incorrectos")}))},fetchAccessToken:function(e){var t=e.commit;t("updateAccessToken",localStorage.getItem("usuario"))},logout:function(e){var t=e.commit;localStorage.removeItem("usuario"),localStorage.removeItem("username"),localStorage.removeItem("rol"),localStorage.removeItem("alcaldia"),localStorage.removeItem("nombres"),localStorage.removeItem("apellidos"),localStorage.removeItem("user_id"),localStorage.removeItem("avatar"),localStorage.removeItem("user_alcaldia"),localStorage.removeItem("user_rol"),t("logout"),Wa.push("/")}},modules:{dialog:X}}),te=i("f309");a["default"].use(te["a"]);var ie=new te["a"]({}),ae=i("8c4f"),oe=i("f9d5"),se=i.n(oe),ne=i("4452"),le=i.n(ne),ce=(i("4413"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-app",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"10"}},[a("v-card",{staticClass:"elevation-6"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card-text",{staticClass:"mt-15"},[a("h4",{staticClass:"text-center"},[e._v("Inicio de Sesión")]),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8"}},[a("v-form",{ref:"formValidate",on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}},model:{value:e.validate,callback:function(t){e.validate=t},expression:"validate"}},[a("v-text-field",{staticClass:"mt-16",attrs:{label:"Usuario",outlined:"",dense:"",color:"blue",autocomplete:"false",rules:e.nameRules},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),a("v-text-field",{attrs:{label:"Contraseña",outlined:"",dense:"",color:"blue",autocomplete:"false",type:e.showPassword?"text":"password",rules:e.passwordRules,"append-icon":e.showPassword?"mdi-eye-off":"mdi-eye"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"5"}})],1),a("v-btn",{attrs:{type:"submit",color:"blue",dark:"",block:"",tile:""}},[e._v("Ingresar")])],1),a("div",{staticClass:"d-flex  justify-space-between align-center mx-10 mb-16"})],1)],1)],1)],1),a("v-col",{staticClass:"light-blue darken-4 rounded-bl-xl",attrs:{cols:"12",md:"6"}},[a("div",{staticClass:"d-flex flex-column justify-space-between align-center",staticStyle:{"text-align":"center",padding:"180px 0"}},[a("v-img",{attrs:{alt:"Muni-logo",src:i("8f1f"),transition:"scale-transition",width:"100"}}),a("v-card-text",{staticClass:"white--text"},[a("h1",{staticClass:"text-center "},[e._v("Portal Región 1")]),a("br"),a("h3",{staticClass:"white--text"},[e._v(" Medición de satisfacción del vecino")])]),a("div",{staticClass:"text-center"})],1)])],1)],1)],1)],1)],1)],1)}),re=[],de={name:"login",data:function(){return{validate:!0,showPassword:!1,user:{},showPass:!1,nameRules:[function(e){return!!e||"Usuario es requerido"}],passwordRules:[function(e){return!!e||"Contraseña es requerida"}]}},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])(["doLogin"])),{},{login:function(){this.$refs.formValidate.validate(),this.validate&&this.doLogin(this.user)}}),computed:Object(n["a"])({},Object(l["d"])(["loggingIn","loginError","loginError"]))},ue=de,me=(i("446f"),i("8336")),pe=i("99d9"),ve=i("62ad"),ge=i("4bd4"),fe=i("0fd9"),he=i("8654"),be=Object(m["a"])(ue,ce,re,!1,null,"b2a0be98",null),xe=be.exports;v()(be,{VApp:T["a"],VBtn:me["a"],VCard:R["a"],VCardText:pe["b"],VCol:ve["a"],VContainer:P["a"],VForm:ge["a"],VImg:j["a"],VRow:fe["a"],VTextField:he["a"]});var Ie=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-row",[i("v-col",[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-chart-areaspline")]),e._v(" Top 5: Estado ")],1),i("v-spacer")],1)],1),i("v-row",[i("v-col",[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-chart-areaspline")]),e._v(" Mejores 5: Vecinos Satisfechos ")],1),i("Satisfechos")],1),i("v-col",[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-chart-areaspline")]),e._v(" Últimos 5: Vecinos Satisfechos ")],1),i("MntoSatisfechos")],1)],1),i("v-spacer"),i("v-row",[i("v-col",[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-chart-areaspline")]),e._v(" Mejores 5: Vecinos Muy Satisfechos ")],1),i("MuySatisfechos")],1),i("v-col",[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-chart-areaspline")]),e._v(" Últimos 5: Vecinos Muy Satisfechos ")],1),i("MntoMuySatisfechos")],1)],1)],1)},Se=[],_e=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th"),i("th",{staticClass:"text-left"},[e._v(" Promotor ")]),i("th",{staticClass:"text-left"},[e._v(" Colonia ")]),i("th",[i("v-icon",[e._v("mdi-account-check-outline")])],1)])]),i("tbody",e._l(e.arreglo,(function(t){return i("tr",{key:t.responsable},[i("td",[i("v-avatar",[i("img",{attrs:{src:t.avatar}})])],1),i("td",[e._v(e._s(t.responsable))]),i("td",[e._v(e._s(t.colonia))]),i("td",[i("v-icon",[e._v("mdi-emoticon-happy-outline")])],1)])})),0)]},proxy:!0}])})},we=[],ke={mounted:function(){this.getSatisfechos()},data:function(){return{arreglo:[]}},methods:{getSatisfechos:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/tablero/satisfechos").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))}}},Ce=ke,Ve=i("1f4f"),Ne=Object(m["a"])(Ce,_e,we,!1,null,null,null),$e=Ne.exports;v()(Ne,{VAvatar:g["a"],VIcon:V["a"],VSimpleTable:Ve["a"]});var ye=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th"),i("th",{staticClass:"text-left"},[e._v(" Promotor ")]),i("th",{staticClass:"text-left"},[e._v(" Colonia ")]),i("th",[i("v-icon",[e._v("mdi-account-check-outline")])],1)])]),i("tbody",e._l(e.arreglo,(function(t){return i("tr",{key:t.responsable},[i("td",[i("v-avatar",[i("img",{attrs:{src:t.avatar}})])],1),i("td",[e._v(e._s(t.responsable))]),i("td",[e._v(e._s(t.colonia))]),i("td",[i("v-icon",[e._v("mdi-emoticon-sad-outline")])],1)])})),0)]},proxy:!0}])})},Ae=[],Ee={mounted:function(){this.getSatisfechos()},data:function(){return{arreglo:[]}},methods:{getSatisfechos:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/tablero/mntosatisfechos").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))}}},ze=Ee,De=Object(m["a"])(ze,ye,Ae,!1,null,null,null),Te=De.exports;v()(De,{VAvatar:g["a"],VIcon:V["a"],VSimpleTable:Ve["a"]});var Oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th"),i("th",{staticClass:"text-left"},[e._v(" Promotor ")]),i("th",{staticClass:"text-left"},[e._v(" Colonia ")]),i("th",[i("v-icon",[e._v("mdi-account-check-outline")])],1)])]),i("tbody",e._l(e.arreglo,(function(t){return i("tr",{key:t.responsable},[i("td",[i("v-avatar",[i("img",{attrs:{src:t.avatar}})])],1),i("td",[e._v(e._s(t.responsable))]),i("td",[e._v(e._s(t.colonia))]),i("td",[i("v-icon",[e._v("mdi-emoticon-happy-outline")])],1)])})),0)]},proxy:!0}])})},Re=[],Pe={mounted:function(){this.getSatisfechos()},data:function(){return{arreglo:[]}},methods:{getSatisfechos:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/tablero/muysatisfechos").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))}}},Be=Pe,Me=Object(m["a"])(Be,Oe,Re,!1,null,null,null),je=Me.exports;v()(Me,{VAvatar:g["a"],VIcon:V["a"],VSimpleTable:Ve["a"]});var Je=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th"),i("th",{staticClass:"text-left"},[e._v(" Promotor ")]),i("th",{staticClass:"text-left"},[e._v(" Colonia ")]),i("th",[i("v-icon",[e._v("mdi-account-check-outline")])],1)])]),i("tbody",e._l(e.arreglo,(function(t){return i("tr",{key:t.responsable},[i("td",[i("v-avatar",[i("img",{attrs:{src:t.avatar}})])],1),i("td",[e._v(e._s(t.responsable))]),i("td",[e._v(e._s(t.colonia))]),i("td",[i("v-icon",[e._v("mdi-emoticon-sad-outline")])],1)])})),0)]},proxy:!0}])})},Fe=[],Le={mounted:function(){this.getSatisfechos()},data:function(){return{arreglo:[]}},methods:{getSatisfechos:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/tablero/mntomuysatisfechos").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))}}},Ge=Le,qe=Object(m["a"])(Ge,Je,Fe,!1,null,null,null),Ze=qe.exports;v()(qe,{VAvatar:g["a"],VIcon:V["a"],VSimpleTable:Ve["a"]});var Ue={data:function(){return{}},components:{Satisfechos:$e,MntoSatisfechos:Te,MuySatisfechos:je,MntoMuySatisfechos:Ze}},He=Ue,Ke=i("e4e5"),We=Object(m["a"])(He,Ie,Se,!1,null,null,null),Ye=We.exports;v()(We,{VBanner:Ke["a"],VCol:ve["a"],VContainer:P["a"],VIcon:V["a"],VRow:fe["a"],VSpacer:L["a"]});var Qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Lista de Usuarios")]),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.usuarios,search:e.search,loading:e.loading,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Usuarios")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Nombres"},model:{value:e.editedItem.nombres,callback:function(t){e.$set(e.editedItem,"nombres",t)},expression:"editedItem.nombres"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellidos"},model:{value:e.editedItem.apellidos,callback:function(t){e.$set(e.editedItem,"apellidos",t)},expression:"editedItem.apellidos"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Usuario"},model:{value:e.editedItem.username,callback:function(t){e.$set(e.editedItem,"username",t)},expression:"editedItem.username"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Contraseña"},model:{value:e.editedItem.password,callback:function(t){e.$set(e.editedItem,"password",t)},expression:"editedItem.password"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"NIT"},model:{value:e.editedItem.nit,callback:function(t){e.$set(e.editedItem,"nit",t)},expression:"editedItem.nit"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"DPI"},model:{value:e.editedItem.dpi,callback:function(t){e.$set(e.editedItem,"dpi",t)},expression:"editedItem.dpi"}})],1),i("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"zona_id",label:"Alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){e.getDistritoEdit(),e.getSectorEdit()}},model:{value:e.editedItem.alcaldia_id,callback:function(t){e.$set(e.editedItem,"alcaldia_id",t)},expression:"editedItem.alcaldia_id"}}),"1"==e.editedItem.alcaldia_id||"4"==e.editedItem.alcaldia_id?i("v-select",{attrs:{items:e.distrito,"item-text":"distrito","item-value":"distrito_id",label:"Distrito",outlined:"",color:"#10069f"},model:{value:e.editedItem.distrito_id,callback:function(t){e.$set(e.editedItem,"distrito_id",t)},expression:"editedItem.distrito_id"}}):e._e(),"3"==e.editedItem.alcaldia_id?i("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f"},model:{value:e.editedItem.sector_id,callback:function(t){e.$set(e.editedItem,"sector_id",t)},expression:"editedItem.sector_id"}}):e._e(),i("v-select",{attrs:{items:e.roles,"item-text":"rol","item-value":"id",label:"Rol de usuario",outlined:"",color:"#10069f"},model:{value:e.editedItem.rol_id,callback:function(t){e.$set(e.editedItem,"rol_id",t)},expression:"editedItem.rol_id"}})],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.editarUsuario}},[e._v(" Guardar ")])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),i("v-spacer")],1)],1)],1),i("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo ")])]}}]),model:{value:e.dialogNewItem,callback:function(t){e.dialogNewItem=t},expression:"dialogNewItem"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarUsuario.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Nombres",rules:e.Rules},model:{value:e.newItem.nombres,callback:function(t){e.$set(e.newItem,"nombres",t)},expression:"newItem.nombres"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellidos",rules:e.Rules},model:{value:e.newItem.apellidos,callback:function(t){e.$set(e.newItem,"apellidos",t)},expression:"newItem.apellidos"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Usuario",rules:e.Rules},model:{value:e.newItem.username,callback:function(t){e.$set(e.newItem,"username",t)},expression:"newItem.username"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Contraseña",rules:e.Rules},model:{value:e.newItem.password,callback:function(t){e.$set(e.newItem,"password",t)},expression:"newItem.password"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"NIT"},model:{value:e.newItem.nit,callback:function(t){e.$set(e.newItem,"nit",t)},expression:"newItem.nit"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"DPI",type:"number",rules:e.Rules},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),i("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"zona_id",label:"Alcaldia",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){e.getDistrito(),e.getSector()}},model:{value:e.newItem.alcaldia_id,callback:function(t){e.$set(e.newItem,"alcaldia_id",t)},expression:"newItem.alcaldia_id"}}),"1"==e.newItem.alcaldia_id||"4"==e.newItem.alcaldia_id?i("v-select",{attrs:{items:e.distrito,"item-text":"distrito","item-value":"distrito_id",label:"Distrito",outlined:"",color:"#10069f"},model:{value:e.newItem.distrito_id,callback:function(t){e.$set(e.newItem,"distrito_id",t)},expression:"newItem.distrito_id"}}):e._e(),"3"==e.newItem.alcaldia_id?i("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f"},model:{value:e.newItem.sector_id,callback:function(t){e.$set(e.newItem,"sector_id",t)},expression:"newItem.sector_id"}}):e._e(),i("v-select",{attrs:{items:e.roles,"item-text":"rol","item-value":"id",label:"Rol de usuario",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.rol_id,callback:function(t){e.$set(e.newItem,"rol_id",t)},expression:"newItem.rol_id"}}),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeNewItem}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){e.editItem(a),e.getDistritoEdit(),e.getSectorEdit()}}},[e._v(" mdi-pencil ")]),i("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}}])})]],2)},Xe=[],et={mounted:function(){this.getUsuarios(),this.getAlcaldias(),this.getRoles()},data:function(){return{search:"",dialog:!1,loading:!1,dialogDelete:!1,dialogNewItem:!1,valid:!0,Rules:[function(e){return!!e||"Campo requerido"}],headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Nombres",value:"nombres"},{text:"Apellidos",value:"apellidos"},{text:"Usuario",value:"username"},{text:"NIT",value:"nit"},{text:"DPI",value:"dpi"},{text:"Rol",value:"rol"},{text:"Alcaldía",value:"alcaldia"},{text:"Distrito",value:"distrito"},{text:"Sector",value:"sector"},{text:"Acción",value:"actions",sortable:!1}],usuarios:[{id:"",nombres:"",apellidos:"",username:"",nit:"",dpi:"",rol_id:"",alcaldia_id:""}],editedIndex:-1,editedItem:{id:"",nombres:"",apellidos:"",username:"",password:null,nit:"",dpi:"",rol_id:"",alcaldia_id:"",distrito_id:"",distrito:"",sector_id:"",updated_at:""},newItem:{rol_id:"",alcaldia_id:"",distrito_id:null,sector_id:null,nombres:"",apellidos:"",username:"",password:"",nit:"",dpi:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},alcaldias:[],roles:[],zona:[],distrito:[],sector:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Usuario":"Editar Usuario"}},watch:{dialog:function(e){e||this.close()},dialogNewItem:function(e){e||this.closeNewItem()}},methods:{getUsuarios:function(){var e=this;this.loading=!0,w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/usuarios").then((function(t){e.usuarios=t.data.usuarios,e.loading=!1})).catch((function(e){console.log(e.response.data)}))},getAlcaldias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getRoles:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/roles").then((function(t){e.roles=t.data.roles})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.editedIndex=this.usuarios.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.usuarios.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El usuario será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/"+e.editedItem.id).then((function(){e.getUsuarios()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Usuario eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeNewItem:function(){var e=this;this.dialogNewItem=!1,this.$nextTick((function(){e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},editarUsuario:function(){var e=this;this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Usuario",text:"Usuario editado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getUsuarios(),e.close())}))).catch((function(e){console.log(e.response.data)}))},guardarUsuario:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/register",this.newItem).then(this.$swal({title:"Crear Usuario",text:"Usuario registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getUsuarios(),e.closeNewItem(),e.limpiar())}))).catch((function(e){console.log(e.response.data)}))},getDistrito:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.newItem.alcaldia_id).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getSector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.newItem.alcaldia_id).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},getDistritoEdit:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.editedItem.alcaldia_id).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getSectorEdit:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.editedItem.alcaldia_id).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},limpiar:function(){this.newItem={rol_id:"",alcaldia_id:"",distrito_id:"",sector_id:"",nombres:"",apellidos:"",username:"",password:"",nit:"",dpi:"",zona:"",usuario_creador:"jtobar"}}}},tt=et,it=i("8fea"),at=i("169a"),ot=i("b974"),st=i("71d9"),nt=Object(m["a"])(tt,Qe,Xe,!1,null,null,null),lt=nt.exports;v()(nt,{VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:P["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:B["a"],VForm:ge["a"],VIcon:V["a"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-card-text",[i("v-container",[i("v-row",[i("v-col",[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-account-cog")]),e._v(" Editar usuario ")],1),i("v-spacer")],1)],1),i("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardar.apply(null,arguments)}}},[i("v-row",[i("v-col",[i("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"374"}},[i("template",{slot:"progress"},[i("v-progress-linear",{attrs:{color:"deep-purple",height:"10",indeterminate:""}})],1),i("v-img",{attrs:{contain:"",height:"250",src:e.editedItem.avatar}}),i("v-divider",{staticClass:"mx-4"}),i("v-card-actions",[i("v-file-input",{attrs:{rules:e.rulesImg,accept:"image/png, image/jpeg, image/bmp",placeholder:"Cambiar avatar","prepend-icon":"mdi-camera",label:"Avatar"},model:{value:e.avatar,callback:function(t){e.avatar=t},expression:"avatar"}})],1)],2)],1),i("v-col",[i("v-text-field",{attrs:{label:"Nombres"},model:{value:e.editedItem.nombres,callback:function(t){e.$set(e.editedItem,"nombres",t)},expression:"editedItem.nombres"}}),i("v-text-field",{attrs:{label:"Apellidos"},model:{value:e.editedItem.apellidos,callback:function(t){e.$set(e.editedItem,"apellidos",t)},expression:"editedItem.apellidos"}}),i("v-text-field",{attrs:{label:"Cambiar contraseña",type:e.showPassword?"text":"password","append-icon":e.showPassword?"mdi-eye-off":"mdi-eye",rules:e.rules},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.editedItem.password,callback:function(t){e.$set(e.editedItem,"password",t)},expression:"editedItem.password"}}),i("v-text-field",{attrs:{label:"Confirmar contraseña",type:e.showPassword?"text":"password","append-icon":e.showPassword?"mdi-eye-off":"mdi-eye"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.match,callback:function(t){e.match=t},expression:"match"}}),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1)},rt=[],dt=(i("ac1f"),i("466d"),{mounted:function(){this.getUsuario()},data:function(){return{match:"",validate:!0,showPassword:!1,avatar:null,editedItem:{id:"",nombres:"",apellidos:"",password:""},rulesImg:[function(e){return!e||e.size<2e6||"Avatar debe ser menor a 2 MB"}]}},computed:{rules:function(){var e=this,t=[];if(this.match){var i=function(t){return(!!t&&t)===e.match||"La contraseña no concuerda con la confirmación"};t.push(i)}return t}},watch:{match:"validateField"},methods:{getUsuario:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/editUser/"+JSON.parse(localStorage.getItem("user_id"))).then((function(t){e.editedItem=t.data})).catch((function(e){console.log(e.response.data)}))},guardar:function(){var e=this;if(this.$refs.form.validate(),this.validate){var t=new FormData;t.append("file",this.avatar),t.append("data",JSON.stringify(this.editedItem)),w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/editar",t).then(this.$swal({title:"Editar Perfil",text:"Información actualizada con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getUsuario(),e.match="")}))).catch((function(e){console.log(e.response.data)}))}},validateField:function(){this.$refs.form.validate()}}}),ut=dt,mt=i("23a7"),pt=i("8e36"),vt=Object(m["a"])(ut,ct,rt,!1,null,null,null),gt=vt.exports;v()(vt,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCardText:pe["b"],VCol:ve["a"],VContainer:P["a"],VDivider:B["a"],VFileInput:mt["a"],VForm:ge["a"],VIcon:V["a"],VImg:j["a"],VProgressLinear:pt["a"],VRow:fe["a"],VSpacer:L["a"],VTextField:he["a"]});var ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 font-weight-bold text-left"},[e._v("Ingreso de Peticiones")])])],1),i("v-row",[i("v-col",{staticClass:"mb-4"},[i("v-text-field",{attrs:{label:"Ingrese DPI del Vecino o número de celular",rules:e.Rules,required:""},model:{value:e.persona.dpi,callback:function(t){e.$set(e.persona,"dpi",t)},expression:"persona.dpi"}}),i("v-card-actions",[i("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:function(t){return e.buscarVecino()}}},[e._v("Buscar")])],1)],1),i("v-col",{staticClass:"mb-4"},[i("v-col",[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Información del Vecino ")],1),i("v-spacer"),i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"auto",outlined:"",elevation:"9"}},[i("v-list-item",{attrs:{"three-line":""}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-h5 mb-1"},[e._v(" Vecino: "+e._s(e.vecino.nombre)+" "+e._s(e.vecino.apellido)+" ")]),i("v-list-item-subtitle",[i("strong",[e._v("DPI:")]),e._v(" "+e._s(e.vecino.dpi))]),i("v-list-item-subtitle",[i("strong",[e._v("Dirección:")]),e._v(e._s(e.vecino.direccion))]),i("v-list-item-subtitle",[i("strong",[e._v("Teléfono:")]),e._v(" "+e._s(e.vecino.celular))]),i("v-list-item-subtitle",[i("strong",[e._v("Liderazgo:")]),e._v(" "+e._s(e.vecino.liderazgo))])],1)],1)],1)],1)],1)],1),i("v-spacer"),i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-notebook-edit")]),e._v(" Petición ")],1),i("br"),i("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPeticion.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-row",[i("v-col",[i("v-text-field",{attrs:{label:"Fecha de solicitud",type:"date","day-format":"",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.fecha,callback:function(t){e.$set(e.peticion,"fecha",t)},expression:"peticion.fecha"}}),i("v-select",{attrs:{items:e.canales,"item-text":"canal","item-value":"canal",label:"Medio de comunicación",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.canal,callback:function(t){e.$set(e.peticion,"canal",t)},expression:"peticion.canal"}}),i("v-textarea",{attrs:{label:"Descripcion",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.descripcion,callback:function(t){e.$set(e.peticion,"descripcion",t)},expression:"peticion.descripcion"}}),i("v-text-field",{attrs:{label:"Oficio",outlined:"",color:"#10069f"},model:{value:e.peticion.oficio,callback:function(t){e.$set(e.peticion,"oficio",t)},expression:"peticion.oficio"}}),i("v-select",{attrs:{items:e.tipoPeticion,"item-text":"peticion","item-value":"id",label:"Petición de tipo",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.peticion_id,callback:function(t){e.$set(e.peticion,"peticion_id",t)},expression:"peticion.peticion_id"}})],1),i("v-col",[i("v-text-field",{attrs:{label:"Dirección",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.direccion,callback:function(t){e.$set(e.peticion,"direccion",t)},expression:"peticion.direccion"}}),i("v-select",{attrs:{items:e.zona,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules,required:""},on:{change:function(t){e.getDistrito(),e.getSector(),e.getColoniaByZona(),e.getPromotor()}},model:{value:e.peticion.zona,callback:function(t){e.$set(e.peticion,"zona",t)},expression:"peticion.zona"}}),"s"==e.validaDistrito?i("v-select",{attrs:{items:e.distrito,"item-text":"distrito","item-value":"distrito_id",label:"Distrito",outlined:"",color:"#10069f",rules:e.Rules,required:""},on:{change:function(t){return e.getColoniaByDistrito()}},model:{value:e.peticion.distrito,callback:function(t){e.$set(e.peticion,"distrito",t)},expression:"peticion.distrito"}}):e._e(),"s"==e.validaSector?i("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f",rules:e.Rules,required:""},on:{change:function(t){return e.getColoniaBySector()}},model:{value:e.peticion.sector,callback:function(t){e.$set(e.peticion,"sector",t)},expression:"peticion.sector"}}):e._e(),i("v-select",{attrs:{items:e.colonia,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.colonia,callback:function(t){e.$set(e.peticion,"colonia",t)},expression:"peticion.colonia"}}),i("v-select",{attrs:{items:e.promotor,"item-text":"promotor","item-value":"id",label:"Promotor asignado",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.usuario_id,callback:function(t){e.$set(e.peticion,"usuario_id",t)},expression:"peticion.usuario_id"}}),i("v-select",{attrs:{items:e.dependencia,"item-text":"dependencia","item-value":"id",label:"Dependencia correspondiente",outlined:"",color:"#10069f",rules:e.Rules,required:""},model:{value:e.peticion.dependencia_id,callback:function(t){e.$set(e.peticion,"dependencia_id",t)},expression:"peticion.dependencia_id"}})],1)],1),i("v-card-actions",[i("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[i("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1)},ht=[],bt={name:"crearPeticion",mounted:function(){this.getZona(),this.getCanales(),this.getDependencia(),this.getTipoPeticion()},data:function(){return{valid:!0,Rules:[function(e){return!!e||"Campo requerido"}],step:1,peticion:{fecha:"",canal:"",descripcion:"",direccion:"",zona:null,distrito:null,sector:null,colonia:"",oficio:"",estatus:"Ingresado",usuario_id:"",persona_id:null,dependencia_id:"",peticion_id:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},canales:[],vecino:[],alcaldia:[],zona:[],distrito:[],sector:[],colonia:[],validaDistrito:[],validaSector:[],persona:[],promotor:[],dependencia:[],tipoPeticion:[]}},methods:{getCanales:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/canales").then((function(t){e.canales=t.data.canales})).catch((function(e){console.log(e.response.data)}))},getZona:function(){var e=this;4===JSON.parse(localStorage.getItem("rol"))?w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonas").then((function(t){e.zona=t.data.zonas,e.validaDistrito=t.data.distrito,e.validaSector=t.data.sector})).catch((function(e){console.log(e.response.data)})):w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonaalcaldia/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.zona=t.data.zona,e.validaDistrito=t.data.distrito,e.validaSector=t.data.sector})).catch((function(e){console.log(e.response.data)}))},getDistrito:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.peticion.zona).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getSector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.peticion.zona).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},getColoniaByDistrito:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniaspordistrito/"+this.peticion.distrito+"/"+this.peticion.zona).then((function(t){e.colonia=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniaBySector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporsector/"+this.peticion.sector+"/"+this.peticion.zona).then((function(t){e.colonia=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniaByZona:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.peticion.zona).then((function(t){e.colonia=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotor/"+this.peticion.zona).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getDependencia:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/dependencia").then((function(t){e.dependencia=t.data.dependencia})).catch((function(e){console.log(e.response.data)}))},getTipoPeticion:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/peticiones").then((function(t){e.tipoPeticion=t.data.peticion})).catch((function(e){console.log(e.response.data)}))},guardarPeticion:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/register",this.peticion).then((function(t){e.$swal({title:"Petición registrada con éxito",text:"Petición número: "+t.data.last_insert_id.id,icon:"success"}).then((function(t){t.isConfirmed&&e.limpiar()}))})).catch((function(e){console.log(e.response.data)}))},buscarVecino:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/dpi/"+this.persona.dpi).then((function(t){e.vecino=t.data.persona,e.peticion.persona_id=t.data.persona.id})).catch((function(e){console.log(e.response.data)}))},limpiar:function(){this.peticion={fecha:"",canal:"",descripcion:"",direccion:"",zona:"",distrito:null,sector:null,colonia:"",oficio:"",estatus:"Ingresado",usuario_id:"",persona_id:null,usuario_creador:JSON.parse(localStorage.getItem("username"))},this.persona={dpi:""},this.vecino={nombre:"",apellido:"",dpi:"",direccion:"",celular:""}}}},xt=bt,It=i("a844"),St=Object(m["a"])(xt,ft,ht,!1,null,null,null),_t=St.exports;v()(St,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCol:ve["a"],VContainer:P["a"],VForm:ge["a"],VIcon:V["a"],VListItem:f["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VTextarea:It["a"]});var wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Peticiones por Vecino")])])],1),i("v-row",[i("v-col",{staticClass:"mb-4"},[i("v-text-field",{attrs:{label:"Ingrese DPI del Vecino o número de celular"},model:{value:e.persona.dpi,callback:function(t){e.$set(e.persona,"dpi",t)},expression:"persona.dpi"}}),i("v-card-actions",[i("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:function(t){e.buscarVecino(),e.buscarPeticionesVecino()}}},[e._v("Buscar")])],1)],1),i("v-col",{staticClass:"mb-4"},[i("v-col",[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Información del Vecino ")],1),i("v-spacer"),i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"auto",outlined:"",elevation:"9"}},[i("v-list-item",{attrs:{"three-line":""}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-h5 mb-1"},[e._v(" Vecino: "+e._s(e.vecino.nombre)+" "+e._s(e.vecino.apellido)+" ")]),i("v-list-item-subtitle",[i("strong",[e._v("DPI:")]),e._v(" "+e._s(e.vecino.dpi))]),i("v-list-item-subtitle",[i("strong",[e._v("Dirección:")]),e._v(e._s(e.vecino.direccion))]),i("v-list-item-subtitle",[i("strong",[e._v("Teléfono:")]),e._v(" "+e._s(e.vecino.celular))]),i("v-list-item-subtitle",[i("strong",[e._v("Liderazgo:")]),e._v(" "+e._s(e.vecino.liderazgo))])],1)],1)],1)],1)],1)],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.peticiones,search:e.search,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Lista de peticiones")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("v-toolbar",{attrs:{dark:"",color:"#10069f"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[i("v-icon",[e._v("mdi-close")])],1),i("v-toolbar-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-spacer")],1)],1),i("v-card-text",[i("v-container",[i("v-list-item-content",[i("v-list-item-title",[e._v("Descripción de la petición:")]),i("v-list-item-subtitle",[e._v(e._s(e.editedItem.descripcion))])],1),i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dependencia",disabled:""},model:{value:e.editedItem.dependencia,callback:function(t){e.$set(e.editedItem,"dependencia",t)},expression:"editedItem.dependencia"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Petición de tipo",disabled:""},model:{value:e.editedItem.peticion,callback:function(t){e.$set(e.editedItem,"peticion",t)},expression:"editedItem.peticion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Estatus",disabled:""},model:{value:e.editedItem.estatus,callback:function(t){e.$set(e.editedItem,"estatus",t)},expression:"editedItem.estatus"}})],1)],1),i("v-divider"),i("v-list-item-content",[i("v-list-item-title",[e._v("Historial seguimiento de la petición")])],1),[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,"items-per-page":5}})]],2)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),i("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver detalle"},on:{click:function(t){e.editItem(a),e.buscarGestionSeguimiento()}}},[e._v(" mdi-book-check ")]),i("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}}])})]],2)},kt=[],Ct={mounted:function(){},data:function(){return{search:"",dialog:!1,dialogDelete:!1,headers:[{text:"No. Petición",align:"start",sortable:!1,value:"id"},{text:"Fecha solicitud",value:"fecha"},{text:"Dependencia",value:"dependencia"},{text:"Petición de tipo",value:"peticion"},{text:"Promotor responsable",value:"promotor"},{text:"Estatus",value:"estatus"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Promotor responsable",value:"promotor"}],peticiones:[{id:"",descripcion:"",dependencia:"",peticion:"",estatus:"",promotor:"",fecha:""}],vecino:[],persona:[],seguimiento:[{fecha:"",actividad:"",descripcion:"",promotor:""}],editedIndex:-1,editedItem:{id:"",descripcion:"",dependencia:"",peticion:"",estatus:"",promotor:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Usuario":"Detalle petición"}},watch:{dialog:function(e){e||this.close()}},methods:{editItem:function(e){this.editedIndex=this.peticiones.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.usuarios.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El usuario será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/"+e.editedItem.id).then((function(){e.getUsuarios()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Usuario eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},guardarUsuario:function(){var e=this;console.log(this.newItem),w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/register",this.newItem).then(this.$swal({title:"Crear Usuario",text:"Usuario registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getUsuarios(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},buscarVecino:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/dpi/"+this.persona.dpi).then((function(t){e.vecino=t.data.persona,e.peticion.persona_id=t.data.persona.id})).catch((function(e){console.log(e.response.data)}))},buscarPeticionesVecino:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/vecino/"+this.persona.dpi+"/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.peticiones=t.data})).catch((function(e){console.log(e.response.data)}))},buscarGestionSeguimiento:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/"+this.editedItem.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))}}},Vt=Ct,Nt=Object(m["a"])(Vt,wt,kt,!1,null,null,null),$t=Nt.exports;v()(Nt,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:P["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:B["a"],VIcon:V["a"],VListItem:f["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"],VRow:fe["a"],VSpacer:L["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Seguimiento Peticiones")])])],1),i("v-row",[i("v-col",{staticClass:"mb-4"},[i("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.buscarPeticion.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-text-field",{attrs:{label:"Número de petición ",rules:e.Rules},model:{value:e.seguimiento.gestion_id,callback:function(t){e.$set(e.seguimiento,"gestion_id",t)},expression:"seguimiento.gestion_id"}}),i("v-card-actions",[i("v-btn",{staticClass:"mr-4",attrs:{color:"primary",type:"submit"}},[e._v("Buscar")])],1),i("br")],1),i("v-divider"),i("br"),i("v-select",{attrs:{items:["En proceso","Finalizado"],label:"Cambiar estatus de la gestión",outlined:"",color:"#10069f"},on:{change:function(t){return e.cambiarEstatus()}},model:{value:e.gestion.estatus,callback:function(t){e.$set(e.gestion,"estatus",t)},expression:"gestion.estatus"}})],1),i("v-col",{staticClass:"mb-4"},[i("v-col",[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-book-open-outline")]),e._v(" Información de la petición ")],1),i("v-spacer"),i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"auto",outlined:"",elevation:"9"}},[i("v-list-item",{attrs:{"three-line":""}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-h5 mb-1"},[e._v(" Vecino: "+e._s(e.peticion.nombres)+" "+e._s(e.peticion.apellidos)+" ")]),i("v-list-item-subtitle",[i("strong",[e._v("Dirección: ")]),e._v(e._s(e.peticion.direccion)+" "+e._s(e.peticion.zona)+" "+e._s(e.peticion.colonia))]),i("v-list-item-subtitle",[i("strong",[e._v("Descripción: ")]),e._v(e._s(e.peticion.descripcion))]),i("v-list-item-subtitle",[i("strong",[e._v("Fecha de solicitud: ")]),e._v(e._s(e.peticion.fecha))]),i("v-list-item-subtitle",[i("strong",[e._v("Estatus:")]),e._v(e._s(e.peticion.estatus))]),i("v-list-item-subtitle",[i("strong",[e._v("Oficio: ")]),e._v(e._s(e.peticion.oficio))]),i("v-list-item-subtitle",[i("strong",[e._v("Promotor responsable: ")]),e._v(e._s(e.peticion.promotor))])],1)],1)],1)],1)],1)],1),i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-notebook-edit")]),e._v(" Detalle seguimiento ")],1),i("br"),i("form",{on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento()}}},[i("v-row",[i("v-col",[i("v-text-field",{attrs:{label:"Fecha",type:"date","day-format":"",outlined:"",required:"",color:"#10069f"},model:{value:e.seguimiento.fecha,callback:function(t){e.$set(e.seguimiento,"fecha",t)},expression:"seguimiento.fecha"}})],1),i("v-col",[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f"},model:{value:e.seguimiento.actividad_id,callback:function(t){e.$set(e.seguimiento,"actividad_id",t)},expression:"seguimiento.actividad_id"}})],1)],1),i("v-row",[i("v-textarea",{attrs:{label:"Descripcion",outlined:"",required:"",color:"#10069f"},model:{value:e.seguimiento.descripcion,callback:function(t){e.$set(e.seguimiento,"descripcion",t)},expression:"seguimiento.descripcion"}})],1),i("v-card-actions",[i("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[i("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)]],2)},At=[],Et={mounted:function(){this.getCatalogoActividades()},data:function(){return{seguimiento:{gestion_id:"",actividad_id:"",descripcion:"",fecha:"",usuario_id:""},peticion:[],gestion:{estatus:""},actividades:[],valid:!0,Rules:[function(e){return!!e||"Campo requerido"}]}},methods:{buscarPeticion:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/gestiones/"+this.seguimiento.gestion_id).then((function(t){e.peticion=t.data.gestion,e.seguimiento.usuario_id=e.peticion.usuario_id})).catch((function(e){console.log(e.response.data)}))},getCatalogoActividades:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},guardarSeguimiento:function(){var e=this;w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/create",this.seguimiento).then(this.$swal({title:"Actividad registrada con éxito",icon:"success"}).then((function(t){t.isConfirmed&&e.limpiar()}))).catch((function(e){console.log(e.response.data)}))},cambiarEstatus:function(){var e=this;this.$refs.form.validate(),this.valid&&this.$swal({title:"¿Está seguro de cambiar el estatus?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then((function(t){t.isConfirmed?w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/gestiones/"+e.seguimiento.gestion_id,e.gestion).then((function(){e.getPersonas(),e.$swal("Guardado","","success"),e.dialogSeguimiento=!1})).catch((function(e){console.log(e.response.data)})):t.isDenied&&e.$swal("Cambios no guardados")}))},limpiar:function(){this.peticion={fecha:"",actividad:"",descripcion:""},this.seguimiento={gestion_id:"",actividad_id:"",descripcion:"",fecha:"",usuario_id:""}}}},zt=Et,Dt=Object(m["a"])(zt,yt,At,!1,null,null,null),Tt=Dt.exports;v()(Dt,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCol:ve["a"],VContainer:P["a"],VDivider:B["a"],VForm:ge["a"],VIcon:V["a"],VListItem:f["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VTextarea:It["a"]});var Ot=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[i("v-window-item",{attrs:{value:1}},[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Seguimiento Peticiones Vecinos Muy Satisfechos")]),i("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step++}}},[e._v("Mantenimiento Vecinos Muy Satisfechos")])],1)],1),i("v-row",[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,loading:e.loading,search:e.search,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Vecinos")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"formEdit",on:{submit:function(t){return t.preventDefault(),e.editarPersona.apply(null,arguments)}},model:{value:e.validEdit,callback:function(t){e.validEdit=t},expression:"validEdit"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Nombre"},model:{value:e.editedItem.pNombre,callback:function(t){e.$set(e.editedItem,"pNombre",t)},expression:"editedItem.pNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.editedItem.sNombre,callback:function(t){e.$set(e.editedItem,"sNombre",t)},expression:"editedItem.sNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.editedItem.tNombre,callback:function(t){e.$set(e.editedItem,"tNombre",t)},expression:"editedItem.tNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Apellido"},model:{value:e.editedItem.pApellido,callback:function(t){e.$set(e.editedItem,"pApellido",t)},expression:"editedItem.pApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.editedItem.sApellido,callback:function(t){e.$set(e.editedItem,"sApellido",t)},expression:"editedItem.sApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.editedItem.tApellido,callback:function(t){e.$set(e.editedItem,"tApellido",t)},expression:"editedItem.tApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.editedItem.dpi,callback:function(t){e.$set(e.editedItem,"dpi",t)},expression:"editedItem.dpi"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.editedItem.nacimiento,callback:function(t){e.$set(e.editedItem,"nacimiento",t)},expression:"editedItem.nacimiento"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dirección"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.editedItem.numero_casa,callback:function(t){e.$set(e.editedItem,"numero_casa",t)},expression:"editedItem.numero_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f"},on:{change:function(t){return e.getColoniasEdit()}},model:{value:e.editedItem.zona_id,callback:function(t){e.$set(e.editedItem,"zona_id",t)},expression:"editedItem.zona_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f"},model:{value:e.editedItem.colonia_id,callback:function(t){e.$set(e.editedItem,"colonia_id",t)},expression:"editedItem.colonia_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.editedItem.telefono_casa,callback:function(t){e.$set(e.editedItem,"telefono_casa",t)},expression:"editedItem.telefono_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Celular",type:"number"},model:{value:e.editedItem.celular,callback:function(t){e.$set(e.editedItem,"celular",t)},expression:"editedItem.celular"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.editedItem.correo,callback:function(t){e.$set(e.editedItem,"correo",t)},expression:"editedItem.correo"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f"},model:{value:e.editedItem.genero,callback:function(t){e.$set(e.editedItem,"genero",t)},expression:"editedItem.genero"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"id",label:"Tipo de vecino",outlined:"",color:"#10069f"},model:{value:e.editedItem.liderazgo,callback:function(t){e.$set(e.editedItem,"liderazgo",t)},expression:"editedItem.liderazgo"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo ")])]}}]),model:{value:e.dialogNewItem,callback:function(t){e.dialogNewItem=t},expression:"dialogNewItem"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPersona.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Nombre",rules:e.Rules},model:{value:e.newItem.pNombre,callback:function(t){e.$set(e.newItem,"pNombre",t)},expression:"newItem.pNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.newItem.sNombre,callback:function(t){e.$set(e.newItem,"sNombre",t)},expression:"newItem.sNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.newItem.tNombre,callback:function(t){e.$set(e.newItem,"tNombre",t)},expression:"newItem.tNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Apellido",rules:e.Rules},model:{value:e.newItem.pApellido,callback:function(t){e.$set(e.newItem,"pApellido",t)},expression:"newItem.pApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.newItem.sApellido,callback:function(t){e.$set(e.newItem,"sApellido",t)},expression:"newItem.sApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.newItem.tApellido,callback:function(t){e.$set(e.newItem,"tApellido",t)},expression:"newItem.tApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.newItem.nacimiento,callback:function(t){e.$set(e.newItem,"nacimiento",t)},expression:"newItem.nacimiento"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dirección",rules:e.Rules},model:{value:e.newItem.direccion,callback:function(t){e.$set(e.newItem,"direccion",t)},expression:"newItem.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.newItem.numero_casa,callback:function(t){e.$set(e.newItem,"numero_casa",t)},expression:"newItem.numero_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){return e.getColonias()}},model:{value:e.newItem.zona_id,callback:function(t){e.$set(e.newItem,"zona_id",t)},expression:"newItem.zona_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.colonia_id,callback:function(t){e.$set(e.newItem,"colonia_id",t)},expression:"newItem.colonia_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.newItem.telefono_casa,callback:function(t){e.$set(e.newItem,"telefono_casa",t)},expression:"newItem.telefono_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Celular",type:"number",rules:e.Rules},model:{value:e.newItem.celular,callback:function(t){e.$set(e.newItem,"celular",t)},expression:"newItem.celular"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.newItem.correo,callback:function(t){e.$set(e.newItem,"correo",t)},expression:"newItem.correo"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.genero,callback:function(t){e.$set(e.newItem,"genero",t)},expression:"newItem.genero"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"id",label:"Tipo de vecino",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.liderazgo,callback:function(t){e.$set(e.newItem,"liderazgo",t)},expression:"newItem.liderazgo"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeNewItem}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[i("v-card",[i("v-card-title",[i("v-toolbar",{attrs:{dark:"",color:"#10069f"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialogSeguimiento=!1}}},[i("v-icon",[e._v("mdi-close")])],1),i("v-toolbar-title",[i("span",{staticClass:"text-h5"},[e._v("Ingresar Seguimiento")])]),i("v-spacer"),i("v-toolbar-items")],1)],1),i("v-card-text",[i("v-container",[i("v-list-item-content",[i("v-list-item-subtitle")],1),i("v-form",{ref:"formSeguimiento",on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento.apply(null,arguments)}},model:{value:e.validSeguimiento,callback:function(t){e.validSeguimiento=t},expression:"validSeguimiento"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha",type:"date",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.fecha,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"fecha",t)},expression:"seguimientoVecinosSatisfechos.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.actividad_id,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"actividad_id",t)},expression:"seguimientoVecinosSatisfechos.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.descripcion,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"descripcion",t)},expression:"seguimientoVecinosSatisfechos.descripcion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"promotor",rules:e.Rules,outlined:""},model:{value:e.seguimientoVecinosSatisfechos.responsable,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"responsable",t)},expression:"seguimientoVecinosSatisfechos.responsable"}})],1),i("v-card-actions",[i("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[i("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1),i("br"),i("v-divider"),i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[i("v-card-title",[i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.buscarSeguimiento,callback:function(t){e.buscarSeguimiento=t},expression:"buscarSeguimiento"}})],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,search:e.buscarSeguimiento,loading:e.loading,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsActividad",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar Seguimiento"},on:{click:function(t){return e.editSeguimiento(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{attrs:{small:"",title:"Eliminar Seguimiento"},on:{click:function(t){return e.deleteSeguimiento(a)}}},[e._v(" mdi-delete ")]),i("v-dialog",{attrs:{"max-width":"1000px","retain-focus":!1},model:{value:e.dialogEditSeguimiento,callback:function(t){e.dialogEditSeguimiento=t},expression:"dialogEditSeguimiento"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v("Editar Seguimiento")])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.editarSeguimiento.fecha,callback:function(t){e.$set(e.editarSeguimiento,"fecha",t)},expression:"editarSeguimiento.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f"},model:{value:e.editarSeguimiento.actividad_id,callback:function(t){e.$set(e.editarSeguimiento,"actividad_id",t)},expression:"editarSeguimiento.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción"},model:{value:e.editarSeguimiento.descripcion,callback:function(t){e.$set(e.editarSeguimiento,"descripcion",t)},expression:"editarSeguimiento.descripcion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"promotor",required:"",outlined:""},model:{value:e.editarSeguimiento.responsable,callback:function(t){e.$set(e.editarSeguimiento,"responsable",t)},expression:"editarSeguimiento.responsable"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeEditSeguimiento()}}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.putSeguimientoSatisfecho()}}},[e._v(" Guardar ")])],1)],1)],1)]}}])})]],2)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar vecino"},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.addSeguimiento(a)}}},[e._v(" mdi-book-check ")]),i("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}}])})],1)]],2),i("v-window-item",{attrs:{value:2}},[i("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step--,e.getPersonas()}}},[e._v("Seguimiento Vecinos Muy Satisfechos")]),i("MantenimientoMuySatisfechos",{ref:"mantenimiento"})],1)],1)],1)},Rt=[],Pt=(i("00b4"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Mantenimiento Peticiones Vecinos Muy Satisfechos")])])],1),i("v-row",[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search,loading:e.loading,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Vecinos")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"formEdit",on:{submit:function(t){return t.preventDefault(),e.editarPersona.apply(null,arguments)}},model:{value:e.validEdit,callback:function(t){e.validEdit=t},expression:"validEdit"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Nombre"},model:{value:e.editedItem.pNombre,callback:function(t){e.$set(e.editedItem,"pNombre",t)},expression:"editedItem.pNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.editedItem.sNombre,callback:function(t){e.$set(e.editedItem,"sNombre",t)},expression:"editedItem.sNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.editedItem.tNombre,callback:function(t){e.$set(e.editedItem,"tNombre",t)},expression:"editedItem.tNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Apellido"},model:{value:e.editedItem.pApellido,callback:function(t){e.$set(e.editedItem,"pApellido",t)},expression:"editedItem.pApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.editedItem.sApellido,callback:function(t){e.$set(e.editedItem,"sApellido",t)},expression:"editedItem.sApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.editedItem.tApellido,callback:function(t){e.$set(e.editedItem,"tApellido",t)},expression:"editedItem.tApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.editedItem.dpi,callback:function(t){e.$set(e.editedItem,"dpi",t)},expression:"editedItem.dpi"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.editedItem.nacimiento,callback:function(t){e.$set(e.editedItem,"nacimiento",t)},expression:"editedItem.nacimiento"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dirección"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.editedItem.numero_casa,callback:function(t){e.$set(e.editedItem,"numero_casa",t)},expression:"editedItem.numero_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f"},on:{change:function(t){return e.getColoniasEdit()}},model:{value:e.editedItem.zona_id,callback:function(t){e.$set(e.editedItem,"zona_id",t)},expression:"editedItem.zona_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f"},model:{value:e.editedItem.colonia_id,callback:function(t){e.$set(e.editedItem,"colonia_id",t)},expression:"editedItem.colonia_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.editedItem.telefono_casa,callback:function(t){e.$set(e.editedItem,"telefono_casa",t)},expression:"editedItem.telefono_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Celular",type:"number"},model:{value:e.editedItem.celular,callback:function(t){e.$set(e.editedItem,"celular",t)},expression:"editedItem.celular"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.editedItem.correo,callback:function(t){e.$set(e.editedItem,"correo",t)},expression:"editedItem.correo"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f"},model:{value:e.editedItem.genero,callback:function(t){e.$set(e.editedItem,"genero",t)},expression:"editedItem.genero"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"id",label:"Liderazgo comunitario",outlined:"",color:"#10069f"},model:{value:e.editedItem.liderazgo,callback:function(t){e.$set(e.editedItem,"liderazgo",t)},expression:"editedItem.liderazgo"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo ")])]}}]),model:{value:e.dialogNewItem,callback:function(t){e.dialogNewItem=t},expression:"dialogNewItem"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPersona.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Nombre",rules:e.Rules},model:{value:e.newItem.pNombre,callback:function(t){e.$set(e.newItem,"pNombre",t)},expression:"newItem.pNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.newItem.sNombre,callback:function(t){e.$set(e.newItem,"sNombre",t)},expression:"newItem.sNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.newItem.tNombre,callback:function(t){e.$set(e.newItem,"tNombre",t)},expression:"newItem.tNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Apellido",rules:e.Rules},model:{value:e.newItem.pApellido,callback:function(t){e.$set(e.newItem,"pApellido",t)},expression:"newItem.pApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.newItem.sApellido,callback:function(t){e.$set(e.newItem,"sApellido",t)},expression:"newItem.sApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.newItem.tApellido,callback:function(t){e.$set(e.newItem,"tApellido",t)},expression:"newItem.tApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.newItem.nacimiento,callback:function(t){e.$set(e.newItem,"nacimiento",t)},expression:"newItem.nacimiento"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dirección",rules:e.Rules},model:{value:e.newItem.direccion,callback:function(t){e.$set(e.newItem,"direccion",t)},expression:"newItem.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.newItem.numero_casa,callback:function(t){e.$set(e.newItem,"numero_casa",t)},expression:"newItem.numero_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){return e.getColonias()}},model:{value:e.newItem.zona_id,callback:function(t){e.$set(e.newItem,"zona_id",t)},expression:"newItem.zona_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.colonia_id,callback:function(t){e.$set(e.newItem,"colonia_id",t)},expression:"newItem.colonia_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.newItem.telefono_casa,callback:function(t){e.$set(e.newItem,"telefono_casa",t)},expression:"newItem.telefono_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Celular",type:"number",rules:e.Rules},model:{value:e.newItem.celular,callback:function(t){e.$set(e.newItem,"celular",t)},expression:"newItem.celular"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.newItem.correo,callback:function(t){e.$set(e.newItem,"correo",t)},expression:"newItem.correo"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.genero,callback:function(t){e.$set(e.newItem,"genero",t)},expression:"newItem.genero"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"id",label:"Liderazgo comunitario",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.liderazgo,callback:function(t){e.$set(e.newItem,"liderazgo",t)},expression:"newItem.liderazgo"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeNewItem}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[i("v-card",[i("v-card-title",[i("v-toolbar",{attrs:{dark:"",color:"#10069f"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialogSeguimiento=!1}}},[i("v-icon",[e._v("mdi-close")])],1),i("v-toolbar-title",[i("span",{staticClass:"text-h5"},[e._v("Ingresar Seguimiento")])]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{color:"success"},on:{click:e.putMantenimiento}},[e._v(" Trasladar ")])],1)],1)],1),i("v-card-text",[i("v-container",[i("v-list-item-content",[i("v-list-item-subtitle")],1),i("v-form",{ref:"formSeguimiento",on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento.apply(null,arguments)}},model:{value:e.validSeguimiento,callback:function(t){e.validSeguimiento=t},expression:"validSeguimiento"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha",type:"date",rules:e.Rules},model:{value:e.mntoVecinosSatisfechos.fecha,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"fecha",t)},expression:"mntoVecinosSatisfechos.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.mntoVecinosSatisfechos.actividad_id,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"actividad_id",t)},expression:"mntoVecinosSatisfechos.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción",rules:e.Rules},model:{value:e.mntoVecinosSatisfechos.descripcion,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"descripcion",t)},expression:"mntoVecinosSatisfechos.descripcion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"promotor",rules:e.Rules,outlined:""},model:{value:e.mntoVecinosSatisfechos.responsable,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"responsable",t)},expression:"mntoVecinosSatisfechos.responsable"}})],1),i("v-card-actions",[i("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[i("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1),i("br"),i("v-divider"),i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[i("v-card-title",[i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.buscarSeguimiento,callback:function(t){e.buscarSeguimiento=t},expression:"buscarSeguimiento"}})],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,search:e.buscarSeguimiento,loading:e.loading,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsActividad",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar Seguimiento"},on:{click:function(t){return e.editSeguimiento(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{attrs:{small:"",title:"Eliminar Seguimiento"},on:{click:function(t){return e.deleteSeguimiento(a)}}},[e._v(" mdi-delete ")]),i("v-dialog",{attrs:{"max-width":"1000px","retain-focus":!1},model:{value:e.dialogEditSeguimiento,callback:function(t){e.dialogEditSeguimiento=t},expression:"dialogEditSeguimiento"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v("Editar Seguimiento")])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.editarSeguimiento.fecha,callback:function(t){e.$set(e.editarSeguimiento,"fecha",t)},expression:"editarSeguimiento.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f"},model:{value:e.editarSeguimiento.actividad_id,callback:function(t){e.$set(e.editarSeguimiento,"actividad_id",t)},expression:"editarSeguimiento.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción"},model:{value:e.editarSeguimiento.descripcion,callback:function(t){e.$set(e.editarSeguimiento,"descripcion",t)},expression:"editarSeguimiento.descripcion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"promotor",required:"",outlined:""},model:{value:e.editarSeguimiento.responsable,callback:function(t){e.$set(e.editarSeguimiento,"responsable",t)},expression:"editarSeguimiento.responsable"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeEditSeguimiento()}}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.putSeguimientoSatisfecho()}}},[e._v(" Guardar ")])],1)],1)],1)]}}])})]],2)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar vecino"},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.addSeguimiento(a)}}},[e._v(" mdi-book-check ")]),i("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}}])})],1)]],2)}),Bt=[],Mt={mounted:function(){this.getPersonas(),this.getLiderazgo(),this.getZonas(),this.getCatalogoActividades()},data:function(){return{search:"",loading:!1,buscarSeguimiento:"",valid:!0,validEdit:!0,validSeguimiento:!0,dialog:!1,dialogSeguimiento:!1,dialogEditSeguimiento:!1,dialogNewItem:!1,dialogEdit:!1,step:1,Rules:[function(e){return!!e||"Campo requerido"}],emailRules:[function(e){return/.+@.+/.test(e)||"E-mail debe ser válido"}],headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"Código",value:"dpi"},{text:"Fecha de nacimiento",value:"fecha"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"tipo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"date"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actionsActividad",sortable:!1}],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],mntoVecinosSatisfechos:{persona_id:"",fecha:"",actividad:"",descripcion:"",responsable:""},editarSeguimiento:{id:"",fecha:"",actividad_id:"",descripcion:"",responsable:""},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{id:"",pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:"",nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"4"},newItem:{pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"4",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Vecino":"Editar Vecino"}},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getPersonas:function(){var e=this;this.loading=!0,4===JSON.parse(localStorage.getItem("rol"))?w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMantenimientoMuySatisfechos").then((function(t){e.personas=t.data.personas,e.loading=!1})).catch((function(e){console.log(e.response.data)})):1===JSON.parse(localStorage.getItem("distrito"))||2===JSON.parse(localStorage.getItem("distrito"))||3===JSON.parse(localStorage.getItem("distrito"))?w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listamntomuysatisfechoszonadistrito/"+JSON.parse(localStorage.getItem("alcaldia"))+"/"+JSON.parse(localStorage.getItem("distrito"))).then((function(t){e.personas=t.data.persona,e.loading=!1})).catch((function(e){console.log(e.response.data)})):w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMantenimientoMuySatisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.personas=t.data.personas,e.loading=!1})).catch((function(e){console.log(e.response.data)}))},getZonas:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonas").then((function(t){e.zonas=t.data.zonas})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.newItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniasEdit:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.editedItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getLiderazgo:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/liderazgo").then((function(t){e.liderazgo=t.data.liderazgo})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0,this.getColoniasEdit()},editSeguimiento:function(e){this.editarSeguimiento=Object.assign({},e),this.dialogEditSeguimiento=!0},addSeguimiento:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.mntoVecinosSatisfechos.persona_id=this.seguimientoVecinosSatisfechos.id,this.mntoVecinosSatisfechos.usuario_creador=JSON.parse(localStorage.getItem("username")),this.buscarSeguimientoVecino(),this.getPromotor(),this.dialogSeguimiento=!0},deleteItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El vecino será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+e.editedItem.id).then((function(){e.getPersonas()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Vecino eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeEditSeguimiento:function(){this.dialogEditSeguimiento=!1},closeNewItem:function(){var e=this;this.dialogNewItem=!1,this.$nextTick((function(){e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},editarPersona:function(){var e=this;this.$refs.formEdit.validate(),this.validEdit&&(this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Vecino",text:"Información actualizada con éxito.",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.close())}))).catch((function(e){console.log(e.response.data)})))},guardarPersona:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/register",this.newItem).then(this.$swal({title:"Registrar Vecino",text:"Vecino registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotorcoordinador/"+this.seguimientoVecinosSatisfechos.zona_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getCatalogoActividades:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},buscarSeguimientoVecino:function(){var e=this;this.loading=!0,w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/mntovecinomuysatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data,e.loading=!1})).catch((function(e){console.log(e.response.data)}))},guardarSeguimiento:function(){var e=this;this.$refs.formSeguimiento.validate(),this.validSeguimiento&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientomuysatisfecho/create",this.mntoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo())}))).catch((function(e){console.log(e.response.data)}))},limpiarNuevo:function(){this.newItem={pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"4",usuario_creador:JSON.parse(localStorage.getItem("username"))},this.mntoVecinosSatisfechos={persona_id:"",fecha:"",actividad:"",descripcion:""}},putMantenimiento:function(){var e=this;this.editedItem.seguimiento={seguimiento:"2"},this.$swal({title:"¿Trasladar a Mantenimiento Vecinos Satisfechos?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then((function(t){t.isConfirmed?w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/mantenimiento/"+e.seguimientoVecinosSatisfechos.id,e.editedItem.seguimiento).then((function(){e.getPersonas(),e.$swal("Guardado","","success"),e.dialogSeguimiento=!1})).catch((function(e){console.log(e.response.data)})):t.isDenied&&e.$swal("Cambios no guardados")}))},putSeguimientoSatisfecho:function(){var e=this;w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientomuysatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}))},deleteSeguimiento:function(e){var t=this;this.editarSeguimiento=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientomuysatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)})),t.$swal("Eliminado","Seguimiento eliminado con éxito.","success"))}))}}},jt=Mt,Jt=Object(m["a"])(jt,Pt,Bt,!1,null,null,null),Ft=Jt.exports;v()(Jt,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:P["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:B["a"],VForm:ge["a"],VIcon:V["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VTextarea:It["a"],VToolbar:st["a"],VToolbarItems:q["a"],VToolbarTitle:q["b"]});var Lt={mounted:function(){this.getPersonas(),this.getLiderazgo(),this.getZonas(),this.getCatalogoActividades()},data:function(){return{search:"",loading:!1,buscarSeguimiento:"",valid:!0,validEdit:!0,validSeguimiento:!0,dialog:!1,dialogSeguimiento:!1,dialogEditSeguimiento:!1,dialogNewItem:!1,dialogEdit:!1,step:1,Rules:[function(e){return!!e||"Campo requerido"}],emailRules:[function(e){return/.+@.+/.test(e)||"E-mail debe ser válido"}],headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"Código",value:"dpi"},{text:"Fecha de nacimiento",value:"fecha"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"tipo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"date"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actionsActividad",sortable:!1}],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],seguimientoVecinosSatisfechos:{persona_id:"",fecha:"",actividad:"",descripcion:"",responsable:""},editarSeguimiento:{id:"",fecha:"",actividad:"",descripcion:"",responsable:""},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{id:"",pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:"",nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:"",celular:"",correo:"",genero:"",liderazgo:"",seguimiento:"3"},newItem:{pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"3",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Vecino":"Editar Vecino"}},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getPersonas:function(){var e=this;this.loading=!0,4===JSON.parse(localStorage.getItem("rol"))?w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMuySatisfechos").then((function(t){e.personas=t.data.personas,e.loading=!1})).catch((function(e){console.log(e.response.data)})):1===JSON.parse(localStorage.getItem("distrito"))||2===JSON.parse(localStorage.getItem("distrito"))||3===JSON.parse(localStorage.getItem("distrito"))?w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listamuysatisfechoszonadistrito/"+JSON.parse(localStorage.getItem("alcaldia"))+"/"+JSON.parse(localStorage.getItem("distrito"))).then((function(t){e.personas=t.data.persona,e.loading=!1})).catch((function(e){console.log(e.response.data)})):w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMuySatisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.personas=t.data.personas,e.loading=!1})).catch((function(e){console.log(e.response.data)}))},getZonas:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonas").then((function(t){e.zonas=t.data.zonas})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.newItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniasEdit:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.editedItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getLiderazgo:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/liderazgo").then((function(t){e.liderazgo=t.data.liderazgo})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0,this.getColoniasEdit()},editSeguimiento:function(e){this.editarSeguimiento=Object.assign({},e),this.dialogEditSeguimiento=!0},addSeguimiento:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.seguimientoVecinosSatisfechos.persona_id=this.seguimientoVecinosSatisfechos.id,this.seguimientoVecinosSatisfechos.usuario_creador=JSON.parse(localStorage.getItem("username")),this.buscarSeguimientoVecino(),this.getPromotor(),this.dialogSeguimiento=!0},deleteItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El vecino será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+e.editedItem.id).then((function(){e.getPersonas()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Vecino eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeEditSeguimiento:function(){this.dialogEditSeguimiento=!1},closeNewItem:function(){var e=this;this.dialogNewItem=!1,this.$nextTick((function(){e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},editarPersona:function(){var e=this;this.$refs.formEdit.validate(),this.validEdit&&(this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Vecino",text:"Información actualizada con éxito.",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.close())}))).catch((function(e){console.log(e.response.data)})))},guardarPersona:function(){var e=this;this.newItem.seguimiento=3,this.$refs.form.validate(),this.valid&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/register",this.newItem).then(this.$swal({title:"Registrar Vecino",text:"Vecino registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotorcoordinador/"+this.seguimientoVecinosSatisfechos.zona_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getCatalogoActividades:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},buscarSeguimientoVecino:function(){var e=this;this.loading=!0,w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/vecinomuysatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data,e.loading=!1})).catch((function(e){console.log(e.response.data)}))},guardarSeguimiento:function(){var e=this;this.$refs.formSeguimiento.validate(),this.validSeguimiento&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientomuysatisfecho/create",this.seguimientoVecinosSatisfechos).then((function(t){e.alerta=t.data,"true"==e.alerta?e.$swal({title:"Seguimiento registrado con éxito",text:"El vecino ha sido trasladado a Mantenimiento",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo())})):e.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo())}))})).catch((function(e){console.log(e.response.data)}))},limpiarNuevo:function(){this.newItem={pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:"",direccion:null,numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"3",usuario_creador:JSON.parse(localStorage.getItem("username"))},this.seguimientoVecinosSatisfechos={persona_id:"",fecha:"",actividad:"",descripcion:""}},putMantenimiento:function(){var e=this;this.editedItem.seguimiento={seguimiento:"4"},this.$swal({title:"¿Trasladar a Mantenimiento?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then((function(t){t.isConfirmed?w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/mantenimiento/"+e.seguimientoVecinosSatisfechos.id,e.editedItem.seguimiento).then((function(){e.getPersonas(),e.$refs.mantenimiento.getPersonas(),e.$swal("Guardado","","success"),e.dialogSeguimiento=!1})).catch((function(e){console.log(e.response.data)})):t.isDenied&&e.$swal("Cambios no guardados")}))},putSeguimientoSatisfecho:function(){var e=this;w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientomuysatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}))},deleteSeguimiento:function(e){var t=this;this.editarSeguimiento=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientomuysatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)})),t.$swal("Eliminado","Seguimiento eliminado con éxito.","success"))}))}},components:{MantenimientoMuySatisfechos:Ft}},Gt=Lt,qt=i("f665"),Zt=i("1e6c"),Ut=Object(m["a"])(Gt,Ot,Rt,!1,null,null,null),Ht=Ut.exports;v()(Ut,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:P["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:B["a"],VForm:ge["a"],VIcon:V["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VTextarea:It["a"],VToolbar:st["a"],VToolbarItems:q["a"],VToolbarTitle:q["b"],VWindow:qt["a"],VWindowItem:Zt["a"]});var Kt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-window",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[i("v-window-item",{attrs:{value:1}},[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Seguimiento Peticiones Vecinos Satisfechos")]),i("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step++}}},[e._v("Mantenimiento Vecinos Satisfechos")])],1)],1),i("v-row",[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search,loading:e.loading,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Vecinos")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"formEdit",on:{submit:function(t){return t.preventDefault(),e.editarPersona.apply(null,arguments)}},model:{value:e.validEdit,callback:function(t){e.validEdit=t},expression:"validEdit"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Nombre"},model:{value:e.editedItem.pNombre,callback:function(t){e.$set(e.editedItem,"pNombre",t)},expression:"editedItem.pNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.editedItem.sNombre,callback:function(t){e.$set(e.editedItem,"sNombre",t)},expression:"editedItem.sNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.editedItem.tNombre,callback:function(t){e.$set(e.editedItem,"tNombre",t)},expression:"editedItem.tNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Apellido"},model:{value:e.editedItem.pApellido,callback:function(t){e.$set(e.editedItem,"pApellido",t)},expression:"editedItem.pApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.editedItem.sApellido,callback:function(t){e.$set(e.editedItem,"sApellido",t)},expression:"editedItem.sApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.editedItem.tApellido,callback:function(t){e.$set(e.editedItem,"tApellido",t)},expression:"editedItem.tApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.editedItem.dpi,callback:function(t){e.$set(e.editedItem,"dpi",t)},expression:"editedItem.dpi"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.editedItem.nacimiento,callback:function(t){e.$set(e.editedItem,"nacimiento",t)},expression:"editedItem.nacimiento"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dirección"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.editedItem.numero_casa,callback:function(t){e.$set(e.editedItem,"numero_casa",t)},expression:"editedItem.numero_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f"},on:{change:function(t){return e.getColoniasEdit()}},model:{value:e.editedItem.zona_id,callback:function(t){e.$set(e.editedItem,"zona_id",t)},expression:"editedItem.zona_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f"},model:{value:e.editedItem.colonia_id,callback:function(t){e.$set(e.editedItem,"colonia_id",t)},expression:"editedItem.colonia_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.editedItem.telefono_casa,callback:function(t){e.$set(e.editedItem,"telefono_casa",t)},expression:"editedItem.telefono_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Celular",type:"number"},model:{value:e.editedItem.celular,callback:function(t){e.$set(e.editedItem,"celular",t)},expression:"editedItem.celular"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.editedItem.correo,callback:function(t){e.$set(e.editedItem,"correo",t)},expression:"editedItem.correo"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f"},model:{value:e.editedItem.genero,callback:function(t){e.$set(e.editedItem,"genero",t)},expression:"editedItem.genero"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"id",label:"Tipo de vecino",outlined:"",color:"#10069f"},model:{value:e.editedItem.liderazgo,callback:function(t){e.$set(e.editedItem,"liderazgo",t)},expression:"editedItem.liderazgo"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo ")])]}}]),model:{value:e.dialogNewItem,callback:function(t){e.dialogNewItem=t},expression:"dialogNewItem"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPersona.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Nombre",rules:e.Rules},model:{value:e.newItem.pNombre,callback:function(t){e.$set(e.newItem,"pNombre",t)},expression:"newItem.pNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.newItem.sNombre,callback:function(t){e.$set(e.newItem,"sNombre",t)},expression:"newItem.sNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.newItem.tNombre,callback:function(t){e.$set(e.newItem,"tNombre",t)},expression:"newItem.tNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Apellido",rules:e.Rules},model:{value:e.newItem.pApellido,callback:function(t){e.$set(e.newItem,"pApellido",t)},expression:"newItem.pApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.newItem.sApellido,callback:function(t){e.$set(e.newItem,"sApellido",t)},expression:"newItem.sApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.newItem.tApellido,callback:function(t){e.$set(e.newItem,"tApellido",t)},expression:"newItem.tApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.newItem.nacimiento,callback:function(t){e.$set(e.newItem,"nacimiento",t)},expression:"newItem.nacimiento"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dirección",rules:e.Rules},model:{value:e.newItem.direccion,callback:function(t){e.$set(e.newItem,"direccion",t)},expression:"newItem.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.newItem.numero_casa,callback:function(t){e.$set(e.newItem,"numero_casa",t)},expression:"newItem.numero_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){return e.getColonias()}},model:{value:e.newItem.zona_id,callback:function(t){e.$set(e.newItem,"zona_id",t)},expression:"newItem.zona_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.colonia_id,callback:function(t){e.$set(e.newItem,"colonia_id",t)},expression:"newItem.colonia_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.newItem.telefono_casa,callback:function(t){e.$set(e.newItem,"telefono_casa",t)},expression:"newItem.telefono_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Celular",type:"number",rules:e.Rules},model:{value:e.newItem.celular,callback:function(t){e.$set(e.newItem,"celular",t)},expression:"newItem.celular"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.newItem.correo,callback:function(t){e.$set(e.newItem,"correo",t)},expression:"newItem.correo"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.genero,callback:function(t){e.$set(e.newItem,"genero",t)},expression:"newItem.genero"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"id",label:"Tipo de vecino",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.liderazgo,callback:function(t){e.$set(e.newItem,"liderazgo",t)},expression:"newItem.liderazgo"}})],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeNewItem}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[i("v-card",[i("v-card-title",[i("v-toolbar",{attrs:{dark:"",color:"#10069f"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialogSeguimiento=!1}}},[i("v-icon",[e._v("mdi-close")])],1),i("v-toolbar-title",[i("span",{staticClass:"text-h5"},[e._v("Ingresar Seguimiento")])]),i("v-spacer"),i("v-toolbar-items")],1)],1),i("v-card-text",[i("v-container",[i("v-list-item-content",[i("v-list-item-subtitle")],1),i("v-form",{ref:"formSeguimiento",on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento.apply(null,arguments)}},model:{value:e.validSeguimiento,callback:function(t){e.validSeguimiento=t},expression:"validSeguimiento"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha",type:"date",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.fecha,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"fecha",t)},expression:"seguimientoVecinosSatisfechos.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.actividad_id,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"actividad_id",t)},expression:"seguimientoVecinosSatisfechos.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.descripcion,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"descripcion",t)},expression:"seguimientoVecinosSatisfechos.descripcion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,outlined:"","item-text":"promotor","item-value":"promotor",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.responsable,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"responsable",t)},expression:"seguimientoVecinosSatisfechos.responsable"}})],1),i("v-card-actions",[i("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[i("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1),i("br"),i("v-divider"),i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[i("v-card-title",[i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.buscarSeguimiento,callback:function(t){e.buscarSeguimiento=t},expression:"buscarSeguimiento"}})],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,search:e.buscarSeguimiento,loading:e.loading,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsActividad",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar Seguimiento"},on:{click:function(t){return e.editSeguimiento(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{attrs:{small:"",title:"Eliminar Seguimiento"},on:{click:function(t){return e.deleteSeguimiento(a)}}},[e._v(" mdi-delete ")]),i("v-dialog",{attrs:{"max-width":"1000px","retain-focus":!1},model:{value:e.dialogEditSeguimiento,callback:function(t){e.dialogEditSeguimiento=t},expression:"dialogEditSeguimiento"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v("Editar Seguimiento")])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha Registro",type:"date"},model:{value:e.editarSeguimiento.fecha,callback:function(t){e.$set(e.editarSeguimiento,"fecha",t)},expression:"editarSeguimiento.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f"},model:{value:e.editarSeguimiento.actividad_id,callback:function(t){e.$set(e.editarSeguimiento,"actividad_id",t)},expression:"editarSeguimiento.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción"},model:{value:e.editarSeguimiento.descripcion,callback:function(t){e.$set(e.editarSeguimiento,"descripcion",t)},expression:"editarSeguimiento.descripcion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,outlined:"","item-text":"promotor","item-value":"promotor"},model:{value:e.editarSeguimiento.responsable,callback:function(t){e.$set(e.editarSeguimiento,"responsable",t)},expression:"editarSeguimiento.responsable"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeEditSeguimiento()}}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.putSeguimientoSatisfecho}},[e._v(" Guardar ")])],1)],1)],1)]}}])})]],2)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar vecino"},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.addSeguimiento(a)}}},[e._v(" mdi-book-check ")]),i("v-icon",{attrs:{small:"",title:"eliminar vecino"},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}}])})],1)]],2),i("v-window-item",{attrs:{value:2}},[i("v-btn",{attrs:{tile:"",outlined:"",dark:"",color:"success"},on:{click:function(t){e.step--,e.getPersonas()}}},[e._v("Seguimiento Vecinos Satisfechos")]),i("MantenimientoSatisfechos",{ref:"mantenimiento"})],1)],1)],1)},Wt=[],Yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Mantenimiento Peticiones Vecinos Satisfechos")])])],1),i("v-row",[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search,loading:e.loading,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Vecinos")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"formEdit",on:{submit:function(t){return t.preventDefault(),e.editarPersona.apply(null,arguments)}},model:{value:e.validEdit,callback:function(t){e.validEdit=t},expression:"validEdit"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Nombre"},model:{value:e.editedItem.pNombre,callback:function(t){e.$set(e.editedItem,"pNombre",t)},expression:"editedItem.pNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.editedItem.sNombre,callback:function(t){e.$set(e.editedItem,"sNombre",t)},expression:"editedItem.sNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.editedItem.tNombre,callback:function(t){e.$set(e.editedItem,"tNombre",t)},expression:"editedItem.tNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Apellido"},model:{value:e.editedItem.pApellido,callback:function(t){e.$set(e.editedItem,"pApellido",t)},expression:"editedItem.pApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.editedItem.sApellido,callback:function(t){e.$set(e.editedItem,"sApellido",t)},expression:"editedItem.sApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.editedItem.tApellido,callback:function(t){e.$set(e.editedItem,"tApellido",t)},expression:"editedItem.tApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.editedItem.dpi,callback:function(t){e.$set(e.editedItem,"dpi",t)},expression:"editedItem.dpi"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.editedItem.nacimiento,callback:function(t){e.$set(e.editedItem,"nacimiento",t)},expression:"editedItem.nacimiento"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dirección"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.editedItem.numero_casa,callback:function(t){e.$set(e.editedItem,"numero_casa",t)},expression:"editedItem.numero_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f"},on:{change:function(t){return e.getColoniasEdit()}},model:{value:e.editedItem.zona_id,callback:function(t){e.$set(e.editedItem,"zona_id",t)},expression:"editedItem.zona_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f"},model:{value:e.editedItem.colonia_id,callback:function(t){e.$set(e.editedItem,"colonia_id",t)},expression:"editedItem.colonia_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.editedItem.telefono_casa,callback:function(t){e.$set(e.editedItem,"telefono_casa",t)},expression:"editedItem.telefono_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Celular",type:"number"},model:{value:e.editedItem.celular,callback:function(t){e.$set(e.editedItem,"celular",t)},expression:"editedItem.celular"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.editedItem.correo,callback:function(t){e.$set(e.editedItem,"correo",t)},expression:"editedItem.correo"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f"},model:{value:e.editedItem.genero,callback:function(t){e.$set(e.editedItem,"genero",t)},expression:"editedItem.genero"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"id",label:"Liderazgo comunitario",outlined:"",color:"#10069f"},model:{value:e.editedItem.liderazgo,callback:function(t){e.$set(e.editedItem,"liderazgo",t)},expression:"editedItem.liderazgo"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo ")])]}}]),model:{value:e.dialogNewItem,callback:function(t){e.dialogNewItem=t},expression:"dialogNewItem"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPersona.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Nombre",rules:e.Rules},model:{value:e.newItem.pNombre,callback:function(t){e.$set(e.newItem,"pNombre",t)},expression:"newItem.pNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.newItem.sNombre,callback:function(t){e.$set(e.newItem,"sNombre",t)},expression:"newItem.sNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.newItem.tNombre,callback:function(t){e.$set(e.newItem,"tNombre",t)},expression:"newItem.tNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Apellido",rules:e.Rules},model:{value:e.newItem.pApellido,callback:function(t){e.$set(e.newItem,"pApellido",t)},expression:"newItem.pApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.newItem.sApellido,callback:function(t){e.$set(e.newItem,"sApellido",t)},expression:"newItem.sApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.newItem.tApellido,callback:function(t){e.$set(e.newItem,"tApellido",t)},expression:"newItem.tApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.newItem.nacimiento,callback:function(t){e.$set(e.newItem,"nacimiento",t)},expression:"newItem.nacimiento"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dirección",rules:e.Rules},model:{value:e.newItem.direccion,callback:function(t){e.$set(e.newItem,"direccion",t)},expression:"newItem.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.newItem.numero_casa,callback:function(t){e.$set(e.newItem,"numero_casa",t)},expression:"newItem.numero_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){return e.getColonias()}},model:{value:e.newItem.zona_id,callback:function(t){e.$set(e.newItem,"zona_id",t)},expression:"newItem.zona_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.colonia_id,callback:function(t){e.$set(e.newItem,"colonia_id",t)},expression:"newItem.colonia_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.newItem.telefono_casa,callback:function(t){e.$set(e.newItem,"telefono_casa",t)},expression:"newItem.telefono_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Celular",type:"number",rules:e.Rules},model:{value:e.newItem.celular,callback:function(t){e.$set(e.newItem,"celular",t)},expression:"newItem.celular"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.newItem.correo,callback:function(t){e.$set(e.newItem,"correo",t)},expression:"newItem.correo"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.genero,callback:function(t){e.$set(e.newItem,"genero",t)},expression:"newItem.genero"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"id",label:"Liderazgo comunitario",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.liderazgo,callback:function(t){e.$set(e.newItem,"liderazgo",t)},expression:"newItem.liderazgo"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeNewItem}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[i("v-card",[i("v-card-title",[i("v-toolbar",{attrs:{dark:"",color:"#10069f"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialogSeguimiento=!1}}},[i("v-icon",[e._v("mdi-close")])],1),i("v-toolbar-title",[i("span",{staticClass:"text-h5"},[e._v("Ingresar Seguimiento")])]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{color:"success"},on:{click:e.putMantenimiento}},[e._v(" Trasladar ")])],1)],1)],1),i("v-card-text",[i("v-container",[i("v-list-item-content",[i("v-list-item-subtitle")],1),i("v-form",{ref:"formSeguimiento",on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento.apply(null,arguments)}},model:{value:e.validSeguimiento,callback:function(t){e.validSeguimiento=t},expression:"validSeguimiento"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha",type:"date",rules:e.Rules},model:{value:e.mntoVecinosSatisfechos.fecha,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"fecha",t)},expression:"mntoVecinosSatisfechos.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.mntoVecinosSatisfechos.actividad_id,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"actividad_id",t)},expression:"mntoVecinosSatisfechos.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción",rules:e.Rules},model:{value:e.mntoVecinosSatisfechos.descripcion,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"descripcion",t)},expression:"mntoVecinosSatisfechos.descripcion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"promotor",rules:e.Rules,outlined:""},model:{value:e.mntoVecinosSatisfechos.responsable,callback:function(t){e.$set(e.mntoVecinosSatisfechos,"responsable",t)},expression:"mntoVecinosSatisfechos.responsable"}})],1),i("v-card-actions",[i("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[i("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1),i("br"),i("v-divider"),i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[i("v-card-title",[i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.buscarSeguimiento,callback:function(t){e.buscarSeguimiento=t},expression:"buscarSeguimiento"}})],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,search:e.buscarSeguimiento,loading:e.loading,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsActividad",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar Seguimiento"},on:{click:function(t){return e.editSeguimiento(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{attrs:{small:"",title:"Eliminar Seguimiento"},on:{click:function(t){return e.deleteSeguimiento(a)}}},[e._v(" mdi-delete ")]),i("v-dialog",{attrs:{"max-width":"1000px","retain-focus":!1},model:{value:e.dialogEditSeguimiento,callback:function(t){e.dialogEditSeguimiento=t},expression:"dialogEditSeguimiento"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v("Editar Seguimiento")])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.editarSeguimiento.fecha,callback:function(t){e.$set(e.editarSeguimiento,"fecha",t)},expression:"editarSeguimiento.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f"},model:{value:e.editarSeguimiento.actividad_id,callback:function(t){e.$set(e.editarSeguimiento,"actividad_id",t)},expression:"editarSeguimiento.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción"},model:{value:e.editarSeguimiento.descripcion,callback:function(t){e.$set(e.editarSeguimiento,"descripcion",t)},expression:"editarSeguimiento.descripcion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"promotor",required:"",outlined:""},model:{value:e.editarSeguimiento.responsable,callback:function(t){e.$set(e.editarSeguimiento,"responsable",t)},expression:"editarSeguimiento.responsable"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeEditSeguimiento()}}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.putSeguimientoSatisfecho()}}},[e._v(" Guardar ")])],1)],1)],1)]}}])})]],2)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar vecino"},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.addSeguimiento(a)}}},[e._v(" mdi-book-check ")]),i("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}}])})],1)]],2)},Qt=[],Xt={mounted:function(){this.getPersonas(),this.getLiderazgo(),this.getZonas(),this.getCatalogoActividades()},data:function(){return{search:"",loading:!1,buscarSeguimiento:"",valid:!0,validEdit:!0,validSeguimiento:!0,dialog:!1,dialogSeguimiento:!1,dialogEditSeguimiento:!1,dialogNewItem:!1,dialogEdit:!1,step:1,Rules:[function(e){return!!e||"Campo requerido"}],emailRules:[function(e){return/.+@.+/.test(e)||"E-mail debe ser válido"}],headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"Código",value:"dpi"},{text:"Fecha de nacimiento",value:"fecha"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"tipo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"date"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actionsActividad",sortable:!1}],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],mntoVecinosSatisfechos:{persona_id:"",fecha:"",actividad:"",descripcion:"",responsable:""},editarSeguimiento:{id:"",fecha:"",actividad_id:"",descripcion:"",responsable:""},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{id:"",pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"2"},newItem:{pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"2",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Vecino":"Editar Vecino"}},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getPersonas:function(){var e=this;this.loading=!0,4===JSON.parse(localStorage.getItem("rol"))?w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMantenimientoSatisfechos").then((function(t){e.personas=t.data.personas,e.loading=!1})).catch((function(e){console.log(e.response.data)})):1===JSON.parse(localStorage.getItem("distrito"))||2===JSON.parse(localStorage.getItem("distrito"))||3===JSON.parse(localStorage.getItem("distrito"))?w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/mntozonadistritosatisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))+"/"+JSON.parse(localStorage.getItem("distrito"))).then((function(t){e.personas=t.data.persona,e.loading=!1})).catch((function(e){console.log(e.response.data)})):w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMantenimientoSatisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.personas=t.data.personas,e.loading=!1})).catch((function(e){console.log(e.response.data)}))},getZonas:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonas").then((function(t){e.zonas=t.data.zonas})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.newItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniasEdit:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.editedItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getLiderazgo:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/liderazgo").then((function(t){e.liderazgo=t.data.liderazgo})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0,this.getColoniasEdit()},editSeguimiento:function(e){this.editarSeguimiento=Object.assign({},e),this.dialogEditSeguimiento=!0},addSeguimiento:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.mntoVecinosSatisfechos.persona_id=this.seguimientoVecinosSatisfechos.id,this.mntoVecinosSatisfechos.usuario_creador=JSON.parse(localStorage.getItem("username")),this.buscarSeguimientoVecino(),this.getPromotor(),this.dialogSeguimiento=!0},deleteItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El vecino será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+e.editedItem.id).then((function(){e.getPersonas()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Vecino eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeEditSeguimiento:function(){this.dialogEditSeguimiento=!1},closeNewItem:function(){var e=this;this.dialogNewItem=!1,this.$nextTick((function(){e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},editarPersona:function(){var e=this;this.$refs.formEdit.validate(),this.validEdit&&(this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Vecino",text:"Información actualizada con éxito.",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.close())}))).catch((function(e){console.log(e.response.data)})))},guardarPersona:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/register",this.newItem).then(this.$swal({title:"Registrar Vecino",text:"Vecino registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotorcoordinador/"+this.seguimientoVecinosSatisfechos.zona_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getCatalogoActividades:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},buscarSeguimientoVecino:function(){var e=this;this.loading=!0,w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/mntovecinosatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data,e.loading=!1})).catch((function(e){console.log(e.response.data)}))},guardarSeguimiento:function(){var e=this;this.$refs.formSeguimiento.validate(),this.validSeguimiento&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientosatisfecho/create",this.mntoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo())}))).catch((function(e){console.log(e.response.data)}))},limpiarNuevo:function(){this.newItem={pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"2",usuario_creador:JSON.parse(localStorage.getItem("username"))},this.mntoVecinosSatisfechos={persona_id:"",fecha:"",actividad:"",descripcion:""}},putMantenimiento:function(){var e=this;this.editedItem.seguimiento={seguimiento:"4"},this.$swal({title:"¿Trasladar a Mantenimiento Muy Satisfechos?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then((function(t){t.isConfirmed?w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/mantenimiento/"+e.seguimientoVecinosSatisfechos.id,e.editedItem.seguimiento).then((function(){e.getPersonas(),e.$swal("Guardado","","success"),e.dialogSeguimiento=!1})).catch((function(e){console.log(e.response.data)})):t.isDenied&&e.$swal("Cambios no guardados")}))},putSeguimientoSatisfecho:function(){var e=this;w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientosatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}))},deleteSeguimiento:function(e){var t=this;this.editarSeguimiento=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientosatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)})),t.$swal("Eliminado","Seguimiento eliminado con éxito.","success"))}))}}},ei=Xt,ti=Object(m["a"])(ei,Yt,Qt,!1,null,null,null),ii=ti.exports;v()(ti,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:P["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:B["a"],VForm:ge["a"],VIcon:V["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VTextarea:It["a"],VToolbar:st["a"],VToolbarItems:q["a"],VToolbarTitle:q["b"]});var ai={mounted:function(){this.getPersonas(),this.getLiderazgo(),this.getZonas(),this.getCatalogoActividades()},data:function(){return{search:"",loading:!1,buscarSeguimiento:"",valid:!0,validEdit:!0,validSeguimiento:!0,dialog:!1,dialogSeguimiento:!1,dialogEditSeguimiento:!1,dialogNewItem:!1,dialogEdit:!1,step:1,Rules:[function(e){return!!e||"Campo requerido"}],emailRules:[function(e){return/.+@.+/.test(e)||"E-mail debe ser válido"}],headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"Código",value:"dpi"},{text:"Fecha de nacimiento",value:"fecha"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"tipo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"date"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actionsActividad",sortable:!1}],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],seguimientoVecinosSatisfechos:{persona_id:"",fecha:"",actividad_id:"",descripcion:"",responsable:""},editarSeguimiento:{id:"",fecha:"",actividad_id:"",descripcion:"",responsable:""},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{id:"",pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"1"},newItem:{pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"1",usuario_creador:JSON.parse(localStorage.getItem("username"))},alerta:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Vecino":"Editar Vecino"}},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getPersonas:function(){var e=this;this.loading=!0,4===JSON.parse(localStorage.getItem("rol"))?w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/lista").then((function(t){e.personas=t.data.personas,e.loading=!1})).catch((function(e){console.log(e.response.data)})):1===JSON.parse(localStorage.getItem("distrito"))||2===JSON.parse(localStorage.getItem("distrito"))||3===JSON.parse(localStorage.getItem("distrito"))?w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaporzonadistrito/"+JSON.parse(localStorage.getItem("alcaldia"))+"/"+JSON.parse(localStorage.getItem("distrito"))).then((function(t){e.personas=t.data.persona,e.loading=!1})).catch((function(e){console.log(e.response.data)})):w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaporzona/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.personas=t.data.persona,e.loading=!1})).catch((function(e){console.log(e.response.data)}))},getZonas:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonas").then((function(t){e.zonas=t.data.zonas})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.newItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniasEdit:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.editedItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getLiderazgo:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/liderazgo").then((function(t){e.liderazgo=t.data.liderazgo})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0,this.getColoniasEdit()},editSeguimiento:function(e){this.editarSeguimiento=Object.assign({},e),this.dialogEditSeguimiento=!0},addSeguimiento:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.seguimientoVecinosSatisfechos.persona_id=this.seguimientoVecinosSatisfechos.id,this.seguimientoVecinosSatisfechos.usuario_creador=JSON.parse(localStorage.getItem("username")),this.buscarSeguimientoVecino(),this.getPromotor(),this.dialogSeguimiento=!0},deleteItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El vecino será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+e.editedItem.id).then((function(){e.getPersonas()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Vecino eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeEditSeguimiento:function(){this.dialogEditSeguimiento=!1},closeNewItem:function(){var e=this;this.dialogNewItem=!1,this.$nextTick((function(){e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},editarPersona:function(){var e=this;this.$refs.formEdit.validate(),this.validEdit&&(this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Vecino",text:"Información actualizada con éxito.",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.close())}))).catch((function(e){console.log(e.response.data)})))},guardarPersona:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/register",this.newItem).then(this.$swal({title:"Registrar Vecino",text:"Vecino registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotorcoordinador/"+this.seguimientoVecinosSatisfechos.zona_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getCatalogoActividades:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},buscarSeguimientoVecino:function(){var e=this;this.loading=!0,w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/vecinosatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data,e.loading=!1})).catch((function(e){console.log(e.response.data)}))},guardarSeguimiento:function(){var e=this;this.$refs.formSeguimiento.validate(),this.validSeguimiento&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/create",this.seguimientoVecinosSatisfechos).then((function(t){e.alerta=t.data,"true"==e.alerta?e.$swal({title:"Seguimiento registrado con éxito",text:"El vecino ha sido trasladado a Mantenimiento",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo())})):e.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo())}))})).catch((function(e){console.log(e.response.data)}))},limpiarNuevo:function(){this.newItem={pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"1",usuario_creador:JSON.parse(localStorage.getItem("username"))},this.seguimientoVecinosSatisfechos={persona_id:"",fecha:"",actividad:"",descripcion:""}},putMantenimiento:function(){var e=this;this.editedItem.seguimiento={seguimiento:"4"},this.$swal({title:"¿Trasladar a Mantenimiento?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then((function(t){t.isConfirmed?w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/mantenimiento/"+e.seguimientoVecinosSatisfechos.id,e.editedItem.seguimiento).then((function(){e.getPersonas(),e.$refs.mantenimiento.getPersonas(),e.$swal("Guardado","","success"),e.dialogSeguimiento=!1})).catch((function(e){console.log(e.response.data)})):t.isDenied&&e.$swal("Cambios no guardados")}))},putSeguimientoSatisfecho:function(){var e=this;console.log(this.editarSeguimiento),w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}))},deleteSeguimiento:function(e){var t=this;this.editarSeguimiento=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)})),t.$swal("Eliminado","Seguimiento eliminado con éxito.","success"))}))}},components:{MantenimientoSatisfechos:ii}},oi=ai,si=Object(m["a"])(oi,Kt,Wt,!1,null,null,null),ni=si.exports;v()(si,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:P["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:B["a"],VForm:ge["a"],VIcon:V["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VTextarea:It["a"],VToolbar:st["a"],VToolbarItems:q["a"],VToolbarTitle:q["b"],VWindow:qt["a"],VWindowItem:Zt["a"]});var li=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Seguimientos Vecinos")])])],1),i("v-row",[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search,loading:e.loading,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Vecinos")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"formEdit",on:{submit:function(t){return t.preventDefault(),e.editarPersona.apply(null,arguments)}},model:{value:e.validEdit,callback:function(t){e.validEdit=t},expression:"validEdit"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.editedItem.nacimiento,callback:function(t){e.$set(e.editedItem,"nacimiento",t)},expression:"editedItem.nacimiento"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dirección"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.editedItem.numero_casa,callback:function(t){e.$set(e.editedItem,"numero_casa",t)},expression:"editedItem.numero_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.editedItem.telefono_casa,callback:function(t){e.$set(e.editedItem,"telefono_casa",t)},expression:"editedItem.telefono_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Celular",type:"number"},model:{value:e.editedItem.celular,callback:function(t){e.$set(e.editedItem,"celular",t)},expression:"editedItem.celular"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo ")])]}}]),model:{value:e.dialogNewItem,callback:function(t){e.dialogNewItem=t},expression:"dialogNewItem"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPersona.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Nombre",rules:e.Rules},model:{value:e.newItem.pNombre,callback:function(t){e.$set(e.newItem,"pNombre",t)},expression:"newItem.pNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.newItem.sNombre,callback:function(t){e.$set(e.newItem,"sNombre",t)},expression:"newItem.sNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.newItem.tNombre,callback:function(t){e.$set(e.newItem,"tNombre",t)},expression:"newItem.tNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Apellido",rules:e.Rules},model:{value:e.newItem.pApellido,callback:function(t){e.$set(e.newItem,"pApellido",t)},expression:"newItem.pApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.newItem.sApellido,callback:function(t){e.$set(e.newItem,"sApellido",t)},expression:"newItem.sApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.newItem.tApellido,callback:function(t){e.$set(e.newItem,"tApellido",t)},expression:"newItem.tApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.newItem.nacimiento,callback:function(t){e.$set(e.newItem,"nacimiento",t)},expression:"newItem.nacimiento"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dirección",rules:e.Rules},model:{value:e.newItem.direccion,callback:function(t){e.$set(e.newItem,"direccion",t)},expression:"newItem.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.newItem.numero_casa,callback:function(t){e.$set(e.newItem,"numero_casa",t)},expression:"newItem.numero_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){return e.getColonias()}},model:{value:e.newItem.zona_id,callback:function(t){e.$set(e.newItem,"zona_id",t)},expression:"newItem.zona_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.colonia_id,callback:function(t){e.$set(e.newItem,"colonia_id",t)},expression:"newItem.colonia_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.newItem.telefono_casa,callback:function(t){e.$set(e.newItem,"telefono_casa",t)},expression:"newItem.telefono_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Celular",type:"number",rules:e.Rules},model:{value:e.newItem.celular,callback:function(t){e.$set(e.newItem,"celular",t)},expression:"newItem.celular"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.newItem.correo,callback:function(t){e.$set(e.newItem,"correo",t)},expression:"newItem.correo"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.genero,callback:function(t){e.$set(e.newItem,"genero",t)},expression:"newItem.genero"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"id",label:"Tipo de vecino",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.liderazgo,callback:function(t){e.$set(e.newItem,"liderazgo",t)},expression:"newItem.liderazgo"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.itemSeguimiento,"item-text":"tipo","item-value":"valor",label:"Vecino de tipo",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.seguimiento,callback:function(t){e.$set(e.newItem,"seguimiento",t)},expression:"newItem.seguimiento"}})],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeNewItem}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[i("v-card",[i("v-card-title",[i("v-toolbar",{attrs:{dark:"",color:"#10069f"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialogSeguimiento=!1}}},[i("v-icon",[e._v("mdi-close")])],1),i("v-toolbar-title",[i("span",{staticClass:"text-h5"},[e._v("Ingresar Seguimiento")])]),i("v-spacer")],1)],1),i("v-card-text",[i("v-container",[i("v-list-item-content",[i("v-list-item-subtitle")],1),i("v-form",{ref:"formSeguimiento",on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento.apply(null,arguments)}},model:{value:e.validSeguimiento,callback:function(t){e.validSeguimiento=t},expression:"validSeguimiento"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha",type:"date",rules:e.Rules},model:{value:e.ingresarSeguimiento.fecha,callback:function(t){e.$set(e.ingresarSeguimiento,"fecha",t)},expression:"ingresarSeguimiento.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.ingresarSeguimiento.actividad_id,callback:function(t){e.$set(e.ingresarSeguimiento,"actividad_id",t)},expression:"ingresarSeguimiento.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción",rules:e.Rules},model:{value:e.ingresarSeguimiento.descripcion,callback:function(t){e.$set(e.ingresarSeguimiento,"descripcion",t)},expression:"ingresarSeguimiento.descripcion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,outlined:"","item-text":"promotor","item-value":"promotor",rules:e.Rules},model:{value:e.ingresarSeguimiento.responsable,callback:function(t){e.$set(e.ingresarSeguimiento,"responsable",t)},expression:"ingresarSeguimiento.responsable"}})],1),i("v-card-actions",[i("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[i("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1),i("br"),i("v-divider"),i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[i("v-card-title",[i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.buscarSeguimiento,callback:function(t){e.buscarSeguimiento=t},expression:"buscarSeguimiento"}})],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,search:e.buscarSeguimiento,loading:e.loading,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsActividad",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar Seguimiento"},on:{click:function(t){return e.editSeguimiento(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{attrs:{small:"",title:"Eliminar Seguimiento"},on:{click:function(t){return e.deleteSeguimiento(a)}}},[e._v(" mdi-delete ")]),i("v-dialog",{attrs:{"max-width":"1000px","retain-focus":!1},model:{value:e.dialogEditSeguimiento,callback:function(t){e.dialogEditSeguimiento=t},expression:"dialogEditSeguimiento"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v("Editar Seguimiento")])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.editarSeguimiento.fecha,callback:function(t){e.$set(e.editarSeguimiento,"fecha",t)},expression:"editarSeguimiento.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f"},model:{value:e.editarSeguimiento.actividad_id,callback:function(t){e.$set(e.editarSeguimiento,"actividad_id",t)},expression:"editarSeguimiento.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción"},model:{value:e.editarSeguimiento.descripcion,callback:function(t){e.$set(e.editarSeguimiento,"descripcion",t)},expression:"editarSeguimiento.descripcion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,outlined:"","item-text":"promotor","item-value":"promotor",required:""},model:{value:e.editarSeguimiento.responsable,callback:function(t){e.$set(e.editarSeguimiento,"responsable",t)},expression:"editarSeguimiento.responsable"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeEditSeguimiento}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.putSeguimientoSatisfecho}},[e._v(" Guardar ")])],1)],1)],1)]}}])})]],2)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar vecino"},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.addSeguimiento(a)}}},[e._v(" mdi-book-check ")])]}}])})],1)]],2)},ci=[],ri={mounted:function(){this.getPersonas(),this.getLiderazgo(),this.getZonas(),this.getCatalogoActividades()},data:function(){return{search:"",loading:!1,buscarSeguimiento:"",valid:!0,validEdit:!0,validSeguimiento:!0,dialog:!1,dialogSeguimiento:!1,dialogEditSeguimiento:!1,dialogNewItem:!1,dialogEdit:!1,step:1,Rules:[function(e){return!!e||"Campo requerido"}],emailRules:[function(e){return/.+@.+/.test(e)||"E-mail debe ser válido"}],headers:[{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"Código",value:"dpi"},{text:"Fecha de nacimiento",value:"fecha"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"date"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actionsActividad",sortable:!1}],itemSeguimiento:[{tipo:"Seguimiento Satisfecho",valor:1},{tipo:"Seguimiento Muy Satisfecho",valor:3},{tipo:"Mantenimiento Satisfecho",valor:2},{tipo:"Mantenimiento Muy Satisfecho",valor:4},{tipo:"Insatisfecho",valor:5}],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],alerta:[],ingresarSeguimiento:{persona_id:"",fecha:"",actividad:"",descripcion:"",responsable:""},editarSeguimiento:{id:"",fecha:"",actividad:"",descripcion:"",responsable:""},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{id:"",pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"1"},newItem:{pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Vecino":"Editar Vecino"}},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getPersonas:function(){var e=this;this.loading=!0,4===JSON.parse(localStorage.getItem("rol"))?w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/completo").then((function(t){e.personas=t.data.personas,e.loading=!1})).catch((function(e){console.log(e.response.data)})):1===JSON.parse(localStorage.getItem("distrito"))||2===JSON.parse(localStorage.getItem("distrito"))||3===JSON.parse(localStorage.getItem("distrito"))?w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/promotores/"+JSON.parse(localStorage.getItem("alcaldia"))+"/"+JSON.parse(localStorage.getItem("distrito"))).then((function(t){e.personas=t.data.persona,e.loading=!1})).catch((function(e){console.log(e.response.data)})):w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/vecinos/zona/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.personas=t.data.persona,e.loading=!1})).catch((function(e){console.log(e.response.data)}))},getZonas:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonas").then((function(t){e.zonas=t.data.zonas})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.newItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniasEdit:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.editedItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getLiderazgo:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/liderazgo").then((function(t){e.liderazgo=t.data.liderazgo})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0,this.getColoniasEdit()},editSeguimiento:function(e){this.editarSeguimiento=Object.assign({},e),this.dialogEditSeguimiento=!0},addSeguimiento:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.ingresarSeguimiento.persona_id=this.seguimientoVecinosSatisfechos.id,this.ingresarSeguimiento.usuario_creador=JSON.parse(localStorage.getItem("username")),this.buscarSeguimientoVecino(),this.getPromotor(),this.dialogSeguimiento=!0},deleteItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El vecino será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+e.editedItem.id).then((function(){e.getPersonas()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Vecino eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeEditSeguimiento:function(){this.dialogEditSeguimiento=!1},closeNewItem:function(){var e=this;this.dialogNewItem=!1,this.$nextTick((function(){e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},editarPersona:function(){var e=this;this.$refs.formEdit.validate(),this.validEdit&&(this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Vecino",text:"Información actualizada con éxito.",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.close())}))).catch((function(e){console.log(e.response.data)})))},guardarPersona:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/register",this.newItem).then(this.$swal({title:"Registrar Vecino",text:"Vecino registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotorcoordinador/"+this.seguimientoVecinosSatisfechos.zona_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getCatalogoActividades:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},buscarSeguimientoVecino:function(){var e=this;switch(this.loading=!0,this.seguimientoVecinosSatisfechos.seguimiento){case 1:w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/vecinosatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data,e.loading=!1})).catch((function(e){console.log(e.response.data)}));break;case 2:w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/mntovecinosatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data,e.loading=!1})).catch((function(e){console.log(e.response.data)}));break;case 3:w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/vecinomuysatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data,e.loading=!1})).catch((function(e){console.log(e.response.data)}));break;case 4:w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/mntovecinomuysatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data,e.loading=!1})).catch((function(e){console.log(e.response.data)}));break;default:break}},guardarSeguimiento:function(){var e=this;this.$refs.formSeguimiento.validate(),this.validSeguimiento&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientos/create",this.ingresarSeguimiento).then((function(t){e.alerta=t.data,"true"==e.alerta?e.$swal({title:"Seguimiento registrado con éxito",text:"El vecino ha sido trasladado a Mantenimiento",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarSeguimiento())})):e.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarSeguimiento())}))})).catch((function(e){console.log(e.response.data)}))},limpiarNuevo:function(){this.newItem={pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"",usuario_creador:JSON.parse(localStorage.getItem("username"))}},limpiarSeguimiento:function(){this.ingresarSeguimiento={persona_id:"",fecha:"",actividad:"",descripcion:""}},putMantenimiento:function(){var e=this;this.editedItem.seguimiento={seguimiento:"2"},this.$swal({title:"¿Trasladar a Mantenimiento?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then((function(t){t.isConfirmed?w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/mantenimiento/"+e.seguimientoVecinosSatisfechos.id,e.editedItem.seguimiento).then((function(){e.getPersonas(),e.$refs.mantenimiento.getPersonas(),e.$swal("Guardado","","success"),e.dialogSeguimiento=!1})).catch((function(e){console.log(e.response.data)})):t.isDenied&&e.$swal("Cambios no guardados")}))},putSeguimientoSatisfecho:function(){var e=this;switch(this.seguimientoVecinosSatisfechos.seguimiento){case 1:w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}));break;case 2:w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientosatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}));break;case 3:w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientomuysatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}));break;case 4:w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientomuysatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}));break;default:break}},deleteSeguimiento:function(e){var t=this;this.editarSeguimiento=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){if(e.isConfirmed){switch(t.seguimientoVecinosSatisfechos.seguimiento){case 1:console.log(t.seguimientoVecinosSatisfechos.seguimiento),w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)}));break;case 2:console.log(t.seguimientoVecinosSatisfechos.seguimiento),w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientosatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)}));break;case 3:console.log(t.seguimientoVecinosSatisfechos.seguimiento),w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientomuysatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)}));break;case 4:console.log(t.seguimientoVecinosSatisfechos.seguimiento),w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientomuysatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)}));break;default:break}t.$swal("Eliminado","Seguimiento eliminado con éxito.","success")}}))}}},di=ri,ui=Object(m["a"])(di,li,ci,!1,null,null,null),mi=ui.exports;v()(ui,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:P["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:B["a"],VForm:ge["a"],VIcon:V["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VTextarea:It["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var pi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 font-weight-bold text-left"},[e._v("Ingreso de Seguimiento Vecino ")])])],1),i("v-row",[i("v-col",{staticClass:"mb-4"},[i("v-text-field",{attrs:{label:"Ingrese DPI del vecino o número de celular"},model:{value:e.persona.dpi,callback:function(t){e.$set(e.persona,"dpi",t)},expression:"persona.dpi"}}),i("v-card-actions",[i("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:function(t){return e.buscarVecino()}}},[e._v("Buscar")])],1)],1),i("v-col",{staticClass:"mb-4"},[i("v-col",[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Información del Vecino ")],1),i("v-spacer"),i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"auto",outlined:"",elevation:"9"}},[i("v-list-item",{attrs:{"three-line":""}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-h5 mb-1"},[e._v(" Vecino: "+e._s(e.vecino.nombre)+" "+e._s(e.vecino.apellido)+" ")]),i("v-list-item-subtitle",[i("strong",[e._v("DPI:")]),e._v(" "+e._s(e.vecino.dpi))]),i("v-list-item-subtitle",[i("strong",[e._v("Dirección:")]),e._v(e._s(e.vecino.direccion))]),i("v-list-item-subtitle",[i("strong",[e._v("Teléfono:")]),e._v(" "+e._s(e.vecino.celular))]),i("v-list-item-subtitle",[i("strong",[e._v("Liderazgo:")]),e._v(" "+e._s(e.vecino.liderazgo))])],1)],1)],1)],1)],1)],1),i("v-spacer"),i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-notebook-edit")]),e._v(" Seguimiento ")],1),i("br"),i("v-form",{ref:"formSeguimiento",on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento.apply(null,arguments)}},model:{value:e.validSeguimiento,callback:function(t){e.validSeguimiento=t},expression:"validSeguimiento"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha",type:"date",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.fecha,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"fecha",t)},expression:"seguimientoVecinosSatisfechos.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.actividad_id,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"actividad_id",t)},expression:"seguimientoVecinosSatisfechos.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",outlined:"",items:e.promotor,"item-text":"promotor","item-value":"promotor",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.responsable,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"responsable",t)},expression:"seguimientoVecinosSatisfechos.responsable"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.descripcion,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"descripcion",t)},expression:"seguimientoVecinosSatisfechos.descripcion"}})],1),i("v-card-actions",[i("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[i("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1)],1)},vi=[],gi={name:"crearPeticion",mounted:function(){this.getCatalogoActividades()},data:function(){return{validSeguimiento:!0,Rules:[function(e){return!!e||"Campo requerido"}],seguimientoVecinosSatisfechos:{persona_id:"",fecha:"",actividad_id:"",descripcion:"",responsable:""},actividades:[],persona:[],vecino:{nombre:"",apellido:"",direccion:"",dpi:null,celular:null,id:null,liderazgo:"",zona_id:null,seguimiento:null},promotor:[]}},methods:{guardarSeguimiento:function(){var e=this;switch(this.$refs.formSeguimiento.validate(),this.vecino.seguimiento){case 1:this.validSeguimiento&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/create",this.seguimientoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&e.limpiar()}))).catch((function(e){console.log(e.response.data)}));break;case 2:this.validSeguimiento&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientosatisfecho/create",this.seguimientoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&e.limpiar()}))).catch((function(e){console.log(e.response.data)}));break;case 3:this.validSeguimiento&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientomuysatisfecho/create",this.seguimientoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&e.limpiar()}))).catch((function(e){console.log(e.response.data)}));break;case 4:this.validSeguimiento&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientomuysatisfecho/create",this.seguimientoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&e.limpiar()}))).catch((function(e){console.log(e.response.data)}));break;default:break}},getCatalogoActividades:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},buscarVecino:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/dpi/"+this.persona.dpi).then((function(t){e.vecino=t.data.persona,e.seguimientoVecinosSatisfechos.persona_id=e.vecino.id,e.getPromotor()})).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotor/"+this.vecino.zona_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},limpiar:function(){this.seguimientoVecinosSatisfechos={persona_id:"",fecha:"",actividad_id:"",descripcion:"",responsable:""},this.vecino={nombre:"",apellido:"",direccion:"",dpi:null,celular:null,id:null,liderazgo:"",zona_id:null,seguimiento:null},this.persona.dpi=""}}},fi=gi,hi=Object(m["a"])(fi,pi,vi,!1,null,null,null),bi=hi.exports;v()(hi,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCol:ve["a"],VContainer:P["a"],VForm:ge["a"],VIcon:V["a"],VListItem:f["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VTextarea:It["a"]});var xi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Seguimiento Vecinos Insatisfechos")])])],1),i("v-row",[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Vecinos")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"formEdit",on:{submit:function(t){return t.preventDefault(),e.editarPersona.apply(null,arguments)}},model:{value:e.validEdit,callback:function(t){e.validEdit=t},expression:"validEdit"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Nombre"},model:{value:e.editedItem.pNombre,callback:function(t){e.$set(e.editedItem,"pNombre",t)},expression:"editedItem.pNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.editedItem.sNombre,callback:function(t){e.$set(e.editedItem,"sNombre",t)},expression:"editedItem.sNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.editedItem.tNombre,callback:function(t){e.$set(e.editedItem,"tNombre",t)},expression:"editedItem.tNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Apellido"},model:{value:e.editedItem.pApellido,callback:function(t){e.$set(e.editedItem,"pApellido",t)},expression:"editedItem.pApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.editedItem.sApellido,callback:function(t){e.$set(e.editedItem,"sApellido",t)},expression:"editedItem.sApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.editedItem.tApellido,callback:function(t){e.$set(e.editedItem,"tApellido",t)},expression:"editedItem.tApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.editedItem.dpi,callback:function(t){e.$set(e.editedItem,"dpi",t)},expression:"editedItem.dpi"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.editedItem.nacimiento,callback:function(t){e.$set(e.editedItem,"nacimiento",t)},expression:"editedItem.nacimiento"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dirección"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.editedItem.numero_casa,callback:function(t){e.$set(e.editedItem,"numero_casa",t)},expression:"editedItem.numero_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f"},on:{change:function(t){return e.getColoniasEdit()}},model:{value:e.editedItem.zona_id,callback:function(t){e.$set(e.editedItem,"zona_id",t)},expression:"editedItem.zona_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f"},model:{value:e.editedItem.colonia_id,callback:function(t){e.$set(e.editedItem,"colonia_id",t)},expression:"editedItem.colonia_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.editedItem.telefono_casa,callback:function(t){e.$set(e.editedItem,"telefono_casa",t)},expression:"editedItem.telefono_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Celular",type:"number"},model:{value:e.editedItem.celular,callback:function(t){e.$set(e.editedItem,"celular",t)},expression:"editedItem.celular"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.editedItem.correo,callback:function(t){e.$set(e.editedItem,"correo",t)},expression:"editedItem.correo"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f"},model:{value:e.editedItem.genero,callback:function(t){e.$set(e.editedItem,"genero",t)},expression:"editedItem.genero"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"id",label:"Tipo de vecino",outlined:"",color:"#10069f"},model:{value:e.editedItem.liderazgo,callback:function(t){e.$set(e.editedItem,"liderazgo",t)},expression:"editedItem.liderazgo"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo ")])]}}]),model:{value:e.dialogNewItem,callback:function(t){e.dialogNewItem=t},expression:"dialogNewItem"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.guardarPersona.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Nombre",rules:e.Rules},model:{value:e.newItem.pNombre,callback:function(t){e.$set(e.newItem,"pNombre",t)},expression:"newItem.pNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Nombre"},model:{value:e.newItem.sNombre,callback:function(t){e.$set(e.newItem,"sNombre",t)},expression:"newItem.sNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Tercer Nombre"},model:{value:e.newItem.tNombre,callback:function(t){e.$set(e.newItem,"tNombre",t)},expression:"newItem.tNombre"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Primer Apellido",rules:e.Rules},model:{value:e.newItem.pApellido,callback:function(t){e.$set(e.newItem,"pApellido",t)},expression:"newItem.pApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Segundo Apellido"},model:{value:e.newItem.sApellido,callback:function(t){e.$set(e.newItem,"sApellido",t)},expression:"newItem.sApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Apellido de Casada"},model:{value:e.newItem.tApellido,callback:function(t){e.$set(e.newItem,"tApellido",t)},expression:"newItem.tApellido"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Número de DPI",type:"number"},model:{value:e.newItem.dpi,callback:function(t){e.$set(e.newItem,"dpi",t)},expression:"newItem.dpi"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha de nacimiento",type:"date"},model:{value:e.newItem.nacimiento,callback:function(t){e.$set(e.newItem,"nacimiento",t)},expression:"newItem.nacimiento"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Dirección",rules:e.Rules},model:{value:e.newItem.direccion,callback:function(t){e.$set(e.newItem,"direccion",t)},expression:"newItem.direccion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"No. Casa"},model:{value:e.newItem.numero_casa,callback:function(t){e.$set(e.newItem,"numero_casa",t)},expression:"newItem.numero_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.zonas,"item-text":"zona","item-value":"id",label:"Zona",outlined:"",color:"#10069f",rules:e.Rules},on:{change:function(t){return e.getColonias()}},model:{value:e.newItem.zona_id,callback:function(t){e.$set(e.newItem,"zona_id",t)},expression:"newItem.zona_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Colonia",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.colonia_id,callback:function(t){e.$set(e.newItem,"colonia_id",t)},expression:"newItem.colonia_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Teléfono Residencial",type:"number"},model:{value:e.newItem.telefono_casa,callback:function(t){e.$set(e.newItem,"telefono_casa",t)},expression:"newItem.telefono_casa"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Celular",type:"number",rules:e.Rules},model:{value:e.newItem.celular,callback:function(t){e.$set(e.newItem,"celular",t)},expression:"newItem.celular"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Correo Electrónico",type:"email"},model:{value:e.newItem.correo,callback:function(t){e.$set(e.newItem,"correo",t)},expression:"newItem.correo"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:["M","F"],label:"Género",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.genero,callback:function(t){e.$set(e.newItem,"genero",t)},expression:"newItem.genero"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.liderazgo,"item-text":"liderazgo","item-value":"id",label:"Tipo de vecino",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.newItem.liderazgo,callback:function(t){e.$set(e.newItem,"liderazgo",t)},expression:"newItem.liderazgo"}})],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeNewItem}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:"",type:"submit"}},[e._v(" Guardar ")])],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[i("v-card",[i("v-card-title",[i("v-toolbar",{attrs:{dark:"",color:"#10069f"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialogSeguimiento=!1}}},[i("v-icon",[e._v("mdi-close")])],1),i("v-toolbar-title",[i("span",{staticClass:"text-h5"},[e._v("Ingresar Seguimiento")])]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{color:"success"},on:{click:e.putMantenimiento}},[e._v(" Trasladar a Mantenimiento ")])],1)],1)],1),i("v-card-text",[i("v-container",[i("v-list-item-content",[i("v-list-item-subtitle")],1),i("v-form",{ref:"formSeguimiento",on:{submit:function(t){return t.preventDefault(),e.guardarSeguimiento.apply(null,arguments)}},model:{value:e.validSeguimiento,callback:function(t){e.validSeguimiento=t},expression:"validSeguimiento"}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha",type:"date",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.fecha,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"fecha",t)},expression:"seguimientoVecinosSatisfechos.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.actividad_id,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"actividad_id",t)},expression:"seguimientoVecinosSatisfechos.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.descripcion,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"descripcion",t)},expression:"seguimientoVecinosSatisfechos.descripcion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,outlined:"","item-text":"promotor","item-value":"promotor",rules:e.Rules},model:{value:e.seguimientoVecinosSatisfechos.responsable,callback:function(t){e.$set(e.seguimientoVecinosSatisfechos,"responsable",t)},expression:"seguimientoVecinosSatisfechos.responsable"}})],1),i("v-card-actions",[i("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"indigo darken-4",type:"submit",title:"Guardar"}},[i("v-icon",{attrs:{dark:""}},[e._v(" mdi-content-save-all-outline ")])],1)],1)],1)],1),i("br"),i("v-divider"),i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[i("v-card-title",[i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,search:e.search,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsActividad",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar Seguimiento"},on:{click:function(t){return e.editSeguimiento(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{attrs:{small:"",title:"Eliminar Seguimiento"},on:{click:function(t){return e.deleteSeguimiento(a)}}},[e._v(" mdi-delete ")]),i("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogEditSeguimiento,callback:function(t){e.dialogEditSeguimiento=t},expression:"dialogEditSeguimiento"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v("Editar Seguimiento")])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.editarSeguimiento.fecha,callback:function(t){e.$set(e.editarSeguimiento,"fecha",t)},expression:"editarSeguimiento.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.actividades,"item-text":"actividad","item-value":"id",label:"Actividad",outlined:"",color:"#10069f"},model:{value:e.editarSeguimiento.actividad_id,callback:function(t){e.$set(e.editarSeguimiento,"actividad_id",t)},expression:"editarSeguimiento.actividad_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-textarea",{attrs:{label:"Descripción"},model:{value:e.editarSeguimiento.descripcion,callback:function(t){e.$set(e.editarSeguimiento,"descripcion",t)},expression:"editarSeguimiento.descripcion"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,outlined:"","item-text":"promotor","item-value":"promotor",required:""},model:{value:e.editarSeguimiento.responsable,callback:function(t){e.$set(e.editarSeguimiento,"responsable",t)},expression:"editarSeguimiento.responsable"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.closeEditSeguimiento()}}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.putSeguimientoSatisfecho()}}},[e._v(" Guardar ")])],1)],1)],1)]}}])})]],2)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Editar vecino"},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.addSeguimiento(a)}}},[e._v(" mdi-book-check ")]),i("v-icon",{attrs:{small:"",title:"eliminar vecino"},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}}])})],1)]],2)},Ii=[],Si={mounted:function(){this.getPersonas(),this.getLiderazgo(),this.getZonas()},data:function(){return{search:"",valid:!0,validEdit:!0,validSeguimiento:!0,dialog:!1,dialogSeguimiento:!1,dialogEditSeguimiento:!1,dialogNewItem:!1,dialogEdit:!1,step:1,Rules:[function(e){return!!e||"Campo requerido"}],emailRules:[function(e){return/.+@.+/.test(e)||"E-mail debe ser válido"}],headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"Código",value:"dpi"},{text:"Fecha de nacimiento",value:"fecha"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"tipo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actionsActividad",sortable:!1}],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],seguimientoVecinosSatisfechos:{persona_id:"",fecha:"",actividad:"",descripcion:"",responsable:""},editarSeguimiento:{id:"",fecha:"",actividad:"",descripcion:"",responsable:""},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{id:"",pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"5"},newItem:{pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"5",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Vecino":"Editar Vecino"}},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:{getPersonasMantenimiento:function(){},getPersonas:function(){var e=this;4===JSON.parse(localStorage.getItem("rol"))?w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/insatisfechos").then((function(t){e.personas=t.data.personas})).catch((function(e){console.log(e.response.data)})):w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/insatisfechosporzona/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.personas=t.data.persona})).catch((function(e){console.log(e.response.data)}))},getZonas:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/zonas").then((function(t){e.zonas=t.data.zonas})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.newItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getColoniasEdit:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.editedItem.zona_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getLiderazgo:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/liderazgo").then((function(t){e.liderazgo=t.data.liderazgo})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0,this.getColoniasEdit()},editSeguimiento:function(e){this.editarSeguimiento=Object.assign({},e),this.dialogEditSeguimiento=!0},addSeguimiento:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.seguimientoVecinosSatisfechos.persona_id=this.seguimientoVecinosSatisfechos.id,this.seguimientoVecinosSatisfechos.usuario_creador=JSON.parse(localStorage.getItem("username")),this.buscarSeguimientoVecino(),this.getCatalogoActividades(),this.getPromotor(),this.dialogSeguimiento=!0},deleteItem:function(e){this.editedIndex=this.personas.indexOf(e),this.editedItem=Object.assign({},e),this.deleteItemConfirm()},deleteItemConfirm:function(){var e=this;this.$swal({title:"¿Está seguro?",text:"El vecino será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+e.editedItem.id).then((function(){e.getPersonas()})).catch((function(e){console.log(e.response.data)})),e.$swal("Eliminado","Vecino eliminado con éxito.","success"))}))},close:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},closeEditSeguimiento:function(){this.dialogEditSeguimiento=!1},closeNewItem:function(){var e=this;this.dialogNewItem=!1,this.$nextTick((function(){e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.newItem),e.editedIndex=-1}))},editarPersona:function(){var e=this;this.$refs.formEdit.validate(),this.validEdit&&(this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),this.editedItem.usuario_actualiza=JSON.parse(localStorage.getItem("username")),w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Vecino",text:"Información actualizada con éxito.",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.close())}))).catch((function(e){console.log(e.response.data)})))},guardarPersona:function(){var e=this;this.$refs.form.validate(),this.valid&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/register",this.newItem).then(this.$swal({title:"Registrar Vecino",text:"Vecino registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},getPromotor:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotorcoordinador/"+this.seguimientoVecinosSatisfechos.zona_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getCatalogoActividades:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/actividades").then((function(t){e.actividades=t.data.actividades})).catch((function(e){console.log(e.response.data)}))},buscarSeguimientoVecino:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/vecinosatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))},guardarSeguimiento:function(){var e=this;this.$refs.formSeguimiento.validate(),this.validSeguimiento&&w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/create",this.seguimientoVecinosSatisfechos).then(this.$swal({title:"Registrar Seguimiento",text:"Registrado con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getPersonas(),e.limpiarNuevo(),e.closeNewItem())}))).catch((function(e){console.log(e.response.data)}))},limpiarNuevo:function(){this.newItem={pNombre:"",sNombre:"",tNombre:"",pApellido:"",sApellido:"",tApellido:"",dpi:null,nacimiento:null,direccion:"",numero_casa:"",zona_id:"",colonia_id:"",telefono_casa:null,celular:"",correo:null,genero:"",liderazgo:"",seguimiento:"5",usuario_creador:JSON.parse(localStorage.getItem("username"))},this.seguimientoVecinosSatisfechos={persona_id:"",fecha:"",actividad:"",descripcion:""}},putMantenimiento:function(){var e=this;this.editedItem.seguimiento={seguimiento:"2"},this.$swal({title:"¿Trasladar a Mantenimiento?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"No"}).then((function(t){t.isConfirmed?w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/mantenimiento/"+e.seguimientoVecinosSatisfechos.id,e.editedItem.seguimiento).then((function(){e.getPersonas(),e.$refs.mantenimiento.getPersonas(),e.$swal("Guardado","","success"),e.dialogSeguimiento=!1})).catch((function(e){console.log(e.response.data)})):t.isDenied&&e.$swal("Cambios no guardados")}))},putSeguimientoSatisfecho:function(){var e=this;w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/actualizar/"+this.editarSeguimiento.id,this.editarSeguimiento).then(this.$swal({title:"Editar Seguimiento",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.buscarSeguimientoVecino(),e.closeEditSeguimiento())}))).catch((function(e){console.log(e.response.data)}))},deleteSeguimiento:function(e){var t=this;this.editarSeguimiento=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será eliminado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.delete("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimientosatisfecho/eliminar/"+t.editarSeguimiento.id).then((function(){t.buscarSeguimientoVecino(),t.closeEditSeguimiento()})).catch((function(e){console.log(e.response.data)})),t.$swal("Eliminado","Seguimiento eliminado con éxito.","success"))}))}}},_i=Si,wi=Object(m["a"])(_i,xi,Ii,!1,null,null,null),ki=wi.exports;v()(wi,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:P["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:B["a"],VForm:ge["a"],VIcon:V["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VTextarea:It["a"],VToolbar:st["a"],VToolbarItems:q["a"],VToolbarTitle:q["b"]});var Ci=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Estado Vecinos Satisfechos")]),i("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){e.getMetas(),e.getColonias(),e.getPromotor()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.metas,search:e.search,"fixed-header":""},scopedSlots:e._u([{key:"item.actual",fn:function(t){var a=t.item;return[i("v-chip",{attrs:{color:"#97d700",dark:""}},[e._v(" "+e._s(a.actual)+" ")])]}},{key:"item.por_alcanzar",fn:function(t){var a=t.item;return[i("v-chip",{attrs:{color:"#F92D2D",dark:""}},[e._v(" "+e._s(a.por_alcanzar)+" ")])]}},{key:"item.meta",fn:function(t){var a=t.item;return[i("v-chip",{attrs:{color:"#10069f",dark:""}},[e._v(" "+e._s(a.meta)+" ")])]}},{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Lista de Estados")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filtrar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo Estado ")])]}}],null,!1,116257661),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.newItem.fecha,callback:function(t){e.$set(e.newItem,"fecha",t)},expression:"newItem.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Lugar",required:""},model:{value:e.colonias.lugar,callback:function(t){e.$set(e.colonias,"lugar",t)},expression:"colonias.lugar"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Meta",type:"number",required:""},model:{value:e.newItem.meta,callback:function(t){e.$set(e.newItem,"meta",t)},expression:"newItem.meta"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"id",required:""},model:{value:e.newItem.responsable,callback:function(t){e.$set(e.newItem,"responsable",t)},expression:"newItem.responsable"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.guardarMeta()}}},[e._v(" Guardar ")])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Meta",type:"number",required:""},model:{value:e.editedItem.meta,callback:function(t){e.$set(e.editedItem,"meta",t)},expression:"editedItem.meta"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"id",required:""},model:{value:e.editedItem.responsable,callback:function(t){e.$set(e.editedItem,"responsable",t)},expression:"editedItem.responsable"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeEdit}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.editarMeta()}}},[e._v(" Guardar ")])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),i("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")])]}}],null,!1,2492757126)}):e._e()],1)],1),i("v-row")]],2)},Vi=[],Ni=(i("a434"),{mounted:function(){this.getAlcaldias()},data:function(){return{search:"",dialog:!1,dialogEdit:!1,dialogDelete:!1,dialogNewItem:!1,step:1,headers:[{text:"Fecha registro",align:"start",sortable:!1,value:"fecha"},{text:"Lugar",value:"colonia"},{text:"Estado",value:"meta"},{text:"Actual",value:"actual"},{text:"Por alcanzar",value:"por_alcanzar"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actions",sortable:!1}],alcaldias:[],metas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{meta:"",responsable:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},newItem:{alcaldia_id:"",fecha:"",lugar:"",meta:"",responsable:"",por_alcanzar:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},defaultItem:{fecha:"",lugar:"",meta:"",responsable:"",por_alcanzar:"",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Estado":"Editar Estado"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{editItem:function(e){this.editedIndex=this.metas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0},deleteItem:function(e){this.editedIndex=this.metas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.metas.splice(this.editedIndex,1),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeEdit:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},getPromotor:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotorcoordinador/"+this.alcaldias.alcaldia_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getAlcaldias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.alcaldias.alcaldia_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getMetas:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/metas/mntosatisfechos/"+this.alcaldias.alcaldia_id).then((function(t){e.metas=t.data.metas})).catch((function(e){console.log(e.response.data)}))},guardarMeta:function(){var e=this;this.newItem.colonia_id=this.colonias.lugar,this.newItem.por_alcanzar=this.newItem.meta,this.newItem.alcaldia_id=this.alcaldias.alcaldia_id,w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/metas/mntosatisfechos/crear",this.newItem).then((function(t){t.data.res?(e.$swal("Ya existe una estado en el lugar seleccionado"),e.limpiar()):e.$swal({title:"Nuevo Estado",text:"Registrada con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.close(),e.getMetas(),e.limpiar())}))})).catch((function(e){console.log(e.response.data)}))},editarMeta:function(){var e=this;w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/metas/mntosatisfechos/actualizar/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Estado",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getMetas(),e.closeEdit())}))).catch((function(e){console.log(e.response.data)}))},limpiar:function(){this.newItem={alcaldia_id:"",fecha:"",lugar:"",meta:"",responsable:"",usuario_creador:JSON.parse(localStorage.getItem("username"))}}}}),$i=Ni,yi=i("cc20"),Ai=Object(m["a"])($i,Ci,Vi,!1,null,null,null),Ei=Ai.exports;v()(Ai,{VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VChip:yi["a"],VCol:ve["a"],VContainer:P["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:B["a"],VIcon:V["a"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var zi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Estados Vecinos Muy Satisfechos")]),i("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){e.getMetas(),e.getColonias(),e.getPromotor()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.metas,search:e.search,"fixed-header":""},scopedSlots:e._u([{key:"item.actual",fn:function(t){var a=t.item;return[i("v-chip",{attrs:{color:"#97d700",dark:""}},[e._v(" "+e._s(a.actual)+" ")])]}},{key:"item.por_alcanzar",fn:function(t){var a=t.item;return[i("v-chip",{attrs:{color:"#F92D2D",dark:""}},[e._v(" "+e._s(a.por_alcanzar)+" ")])]}},{key:"item.meta",fn:function(t){var a=t.item;return[i("v-chip",{attrs:{color:"#10069f",dark:""}},[e._v(" "+e._s(a.meta)+" ")])]}},{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Lista de Estados")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filtrar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),a),[e._v(" Nuevo Estado ")])]}}],null,!1,116257661),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Fecha Registro",type:"date",required:""},model:{value:e.newItem.fecha,callback:function(t){e.$set(e.newItem,"fecha",t)},expression:"newItem.fecha"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{items:e.colonias,"item-text":"colonia","item-value":"id",label:"Lugar",required:""},model:{value:e.colonias.lugar,callback:function(t){e.$set(e.colonias,"lugar",t)},expression:"colonias.lugar"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Meta",type:"number",required:""},model:{value:e.newItem.meta,callback:function(t){e.$set(e.newItem,"meta",t)},expression:"newItem.meta"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"id",required:""},model:{value:e.newItem.responsable,callback:function(t){e.$set(e.newItem,"responsable",t)},expression:"newItem.responsable"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.guardarMeta()}}},[e._v(" Guardar ")])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogEdit,callback:function(t){e.dialogEdit=t},expression:"dialogEdit"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Meta",type:"number",required:""},model:{value:e.editedItem.meta,callback:function(t){e.$set(e.editedItem,"meta",t)},expression:"editedItem.meta"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-select",{attrs:{label:"Responsable",items:e.promotor,"item-text":"promotor","item-value":"id",required:""},model:{value:e.editedItem.responsable,callback:function(t){e.$set(e.editedItem,"responsable",t)},expression:"editedItem.responsable"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeEdit}},[e._v(" Cancelar ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.editarMeta()}}},[e._v(" Guardar ")])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),i("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")])]}}],null,!1,2492757126)}):e._e()],1)],1),i("v-row")]],2)},Di=[],Ti={mounted:function(){this.getAlcaldias()},data:function(){return{search:"",dialog:!1,dialogEdit:!1,dialogDelete:!1,dialogNewItem:!1,step:1,headers:[{text:"Fecha registro",align:"start",sortable:!1,value:"fecha"},{text:"Lugar",value:"colonia"},{text:"Estado",value:"meta"},{text:"Actual",value:"actual"},{text:"Por alcanzar",value:"por_alcanzar"},{text:"Responsable",value:"responsable"},{text:"Acciones",value:"actions",sortable:!1}],alcaldias:[],metas:[],promotor:[],colonias:[],editedIndex:-1,editedItem:{meta:"",responsable:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},newItem:{alcaldia_id:"",fecha:"",lugar:"",meta:"",responsable:"",por_alcanzar:"",usuario_creador:JSON.parse(localStorage.getItem("username"))},defaultItem:{fecha:"",lugar:"",meta:"",responsable:"",por_alcanzar:"",usuario_creador:JSON.parse(localStorage.getItem("username"))}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Estado":"Editar Estado"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{editItem:function(e){this.editedIndex=this.metas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogEdit=!0},deleteItem:function(e){this.editedIndex=this.metas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.metas.splice(this.editedIndex,1),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeEdit:function(){var e=this;this.dialogEdit=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},getPromotor:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/user/promotorcoordinador/"+this.alcaldias.alcaldia_id).then((function(t){e.promotor=t.data.user})).catch((function(e){console.log(e.response.data)}))},getAlcaldias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/coloniasporzona/"+this.alcaldias.alcaldia_id).then((function(t){e.colonias=t.data.colonias})).catch((function(e){console.log(e.response.data)}))},getMetas:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/metas/mntomuysatisfechos/"+this.alcaldias.alcaldia_id).then((function(t){e.metas=t.data.metas})).catch((function(e){console.log(e.response.data)}))},guardarMeta:function(){var e=this;this.newItem.colonia_id=this.colonias.lugar,this.newItem.por_alcanzar=this.newItem.meta,this.newItem.alcaldia_id=this.alcaldias.alcaldia_id,w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/metas/mntomuysatisfechos/crear",this.newItem).then((function(t){t.data.res?(e.$swal("Ya existe una estado en el lugar seleccionado"),e.limpiar()):e.$swal({title:"Nuevo Estado",text:"Registrada con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.close(),e.getMetas(),e.limpiar())}))})).catch((function(e){console.log(e.response.data)}))},editarMeta:function(){var e=this;w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/metas/mntomuysatisfechos/actualizar/"+this.editedItem.id,this.editedItem).then(this.$swal({title:"Editar Estado",text:"Cambios guardados con éxito",icon:"success"}).then((function(t){t.isConfirmed&&(e.getMetas(),e.closeEdit())}))).catch((function(e){console.log(e.response.data)}))},limpiar:function(){this.newItem={alcaldia_id:"",fecha:"",lugar:"",meta:"",responsable:"",usuario_creador:JSON.parse(localStorage.getItem("username"))}}}},Oi=Ti,Ri=Object(m["a"])(Oi,zi,Di,!1,null,null,null),Pi=Ri.exports;v()(Ri,{VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VChip:yi["a"],VCol:ve["a"],VContainer:P["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:B["a"],VIcon:V["a"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var Bi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Auditoría: Mantenimiento Peticiones Vecinos Satisfechos")])])],1),i("v-row",[i("v-col",{staticClass:"mb-4"},[i("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){return e.getPersonas()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Vecinos")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[i("v-card",[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsSeguimiento",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"No realizada"},on:{click:function(t){return e.auditarSeguimiento(a)}}},[e._v(" mdi-thumb-down-outline ")])]}}],null,!1,486025483)})],i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cerrar ")])],1)],2)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-book-check ")])]}}],null,!1,2946520720)}):e._e()],1)],1),i("v-row",[i("v-col",["1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?i("v-btn",{attrs:{elevation:"",color:"light-green accent-4"},on:{click:function(t){return e.obtener_datos()}}},[e._v("Ver reporte")]):e._e()],1)],1)],i("Dialog",{scopedSlots:e._u([{key:"content",fn:function(){return[i("DialogContent",{attrs:{pdf_url:e.pdf_url}})]},proxy:!0}])})],2)},Mi=[],ji=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-dialog",{attrs:{width:"850"},on:{"click:outside":function(t){return e.setShow(!1)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._t("content")],2)],1)},Ji=[],Fi={data:function(){return{}},methods:Object(n["a"])({},Object(l["c"])({setShow:"dialog/setShow"})),computed:Object(l["d"])({dialog:function(e){return e.dialog.show}})},Li=Fi,Gi=Object(m["a"])(Li,ji,Ji,!1,null,null,null),qi=Gi.exports;v()(Gi,{VDialog:at["a"]});var Zi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-card",[i("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" Reporte Auditoría ")]),i("v-card-text",[i("embed",{attrs:{src:e.pdf_url,width:"800",height:"375",type:"application/pdf"}})]),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.setShow(!1)}}},[e._v(" Cerrar ")])],1)],1)],1)},Ui=[],Hi={props:{pdf_url:String},methods:Object(n["a"])(Object(n["a"])({},Object(l["c"])({setShow:"dialog/setShow"})),{},{obtener_datos:function(){console.log("obtener datos")}}),created:function(){this.obtener_datos()}},Ki=Hi,Wi=Object(m["a"])(Ki,Zi,Ui,!1,null,null,null),Yi=Wi.exports;v()(Wi,{VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCardText:pe["b"],VCardTitle:pe["c"],VDivider:B["a"],VSpacer:L["a"]});var Qi={mounted:function(){this.getAlcaldias()},data:function(){return{search:"",dialog:!1,dialogSeguimiento:!1,headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"DPI",value:"dpi"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"liderazgo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Acciones",value:"actionsSeguimiento",sortable:!1}],alcaldias:[],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],seguimientoVecinosSatisfechos:[],realizado:{realizado:"0"},actRealizado:{realizado:"0",auditor:JSON.parse(localStorage.getItem("user_id"))},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],colonias:[],editedIndex:-1}},computed:{},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:Object(n["a"])(Object(n["a"])({getAlcaldias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getPersonas:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMntoSatisfechosAuditoria/"+this.alcaldias.alcaldia_id).then((function(t){e.personas=t.data.personas})).catch((function(e){console.log(e.response.data)}))}},Object(l["c"])({setShow:"dialog/setShow"})),{},{obtener_datos:function(){var e=this;console.log(this.alcaldias.alcaldia_id),w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/reporte/mntosatisfechos/"+this.alcaldias.alcaldia_id).then((function(t){console.log(t.data),e.pdf_url=t.data.url_pdf,e.setShow(!0)})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.buscarSeguimientoVecino(),this.dialogSeguimiento=!0},close:function(){this.dialogSeguimiento=!1},buscarSeguimientoVecino:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/mntovecinosatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))},auditarSeguimiento:function(e){var t=this;this.realizado=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será determinado como no realizado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientosatisfecho/actualizar/"+t.realizado.id,t.actRealizado).then((function(){t.buscarSeguimientoVecino()})).catch((function(e){console.log(e.response.data)})),t.$swal("Actualizado","Seguimiento determinado como no realizado.","success"))}))}}),components:{Dialog:qi,DialogContent:Yi}},Xi=Qi,ea=Object(m["a"])(Xi,Bi,Mi,!1,null,null,null),ta=ea.exports;v()(ea,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCol:ve["a"],VContainer:P["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:B["a"],VIcon:V["a"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var ia=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Auditoría: Mantenimiento Peticiones Vecinos Muy Satisfechos")])])],1),i("v-row",[i("v-col",{staticClass:"mb-4"},[i("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){return e.getPersonas()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.personas,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Vecinos")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogSeguimiento,callback:function(t){e.dialogSeguimiento=t},expression:"dialogSeguimiento"}},[i("v-card",[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-account")]),e._v(" Historial de seguimiento del vecino. ")],1),[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersActividad,items:e.seguimiento,"items-per-page":5},scopedSlots:e._u([{key:"item.actionsSeguimiento",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"No realizada"},on:{click:function(t){return e.auditarSeguimiento(a)}}},[e._v(" mdi-thumb-down-outline ")])]}}],null,!1,486025483)})],i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cerrar ")])],1)],2)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Ver seguimiento"},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-book-check ")])]}}],null,!1,2946520720)}):e._e()],1)],1),i("v-row",[i("v-col",["1"==e.alcaldias.alcaldia_id||"2"==e.alcaldias.alcaldia_id||"3"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?i("v-btn",{attrs:{elevation:"",color:"light-green accent-4"},on:{click:function(t){return e.obtener_datos()}}},[e._v("Ver reporte")]):e._e()],1)],1)],i("Dialog",{scopedSlots:e._u([{key:"content",fn:function(){return[i("DialogContent",{attrs:{pdf_url:e.pdf_url}})]},proxy:!0}])})],2)},aa=[],oa={mounted:function(){this.getAlcaldias()},data:function(){return{search:"",dialog:!1,dialogSeguimiento:!1,headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Primer Nombre",value:"pNombre"},{text:"Segundo Nombre",value:"sNombre"},{text:"Tercer Nombre",value:"tNombre"},{text:"Primer Apellido",value:"pApellido"},{text:"Segundo Apellido",value:"sApellido"},{text:"Apellido Casada",value:"tApellido"},{text:"DPI",value:"dpi"},{text:"Dirección",value:"direccion"},{text:"No. Casa",value:"numero_casa"},{text:"Zona",value:"zona"},{text:"Colonia",value:"colonia"},{text:"Teléfono Domiciliar",value:"telefono_casa"},{text:"Celular",value:"celular"},{text:"Correo",value:"correo"},{text:"Género",value:"genero"},{text:"Liderazgo",value:"liderazgo"},{text:"Acciones",value:"actions",sortable:!1}],headersActividad:[{text:"Fecha",align:"start",sortable:!1,value:"fecha"},{text:"Actividad",value:"actividad"},{text:"Descripción",value:"descripcion"},{text:"Acciones",value:"actionsSeguimiento",sortable:!1}],alcaldias:[],vecino:[],persona:[],seguimiento:[],nSeguimiento:[],seguimientoVecinosSatisfechos:[],realizado:{realizado:"0"},actRealizado:{realizado:"0",auditor:JSON.parse(localStorage.getItem("user_id"))},actividades:[],peticiones:[],zonas:[],liderazgo:[],personas:[],colonias:[],editedIndex:-1}},computed:{},watch:{dialog:function(e){e||this.close(),e||this.closeNew()},dialogNewItem:function(e){e||this.closeNewItem()},dialogDelete:function(e){e||this.closeDelete()}},methods:Object(n["a"])(Object(n["a"])({getAlcaldias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getPersonas:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/persona/listaMntoMuySatisfechosAuditoria/"+this.alcaldias.alcaldia_id).then((function(t){e.personas=t.data.personas})).catch((function(e){console.log(e.response.data)}))}},Object(l["c"])({setShow:"dialog/setShow"})),{},{obtener_datos:function(){var e=this;console.log(this.alcaldias.alcaldia_id),w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/reporte/mntomuysatisfechos/"+this.alcaldias.alcaldia_id).then((function(t){console.log(t.data),e.pdf_url=t.data.url_pdf,e.setShow(!0)})).catch((function(e){console.log(e.response.data)}))},editItem:function(e){this.seguimientoVecinosSatisfechos=Object.assign({},e),this.buscarSeguimientoVecino(),this.dialogSeguimiento=!0},close:function(){this.dialogSeguimiento=!1},buscarSeguimientoVecino:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/seguimiento/mntovecinomuysatisfecho/"+this.seguimientoVecinosSatisfechos.id).then((function(t){e.seguimiento=t.data})).catch((function(e){console.log(e.response.data)}))},auditarSeguimiento:function(e){var t=this;this.realizado=Object.assign({},e),this.$swal({title:"¿Está seguro?",text:"El seguimiento será determinado como no realizado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(e){e.isConfirmed&&(w.a.put("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/gestion/mntoseguimientomuysatisfecho/actualizar/"+t.realizado.id,t.actRealizado).then((function(){t.buscarSeguimientoVecino()})).catch((function(e){console.log(e.response.data)})),t.$swal("Actualizado","Seguimiento determinado como no realizado.","success"))}))}}),components:{Dialog:qi,DialogContent:Yi}},sa=oa,na=Object(m["a"])(sa,ia,aa,!1,null,null,null),la=na.exports;v()(na,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCardActions:pe["a"],VCol:ve["a"],VContainer:P["a"],VDataTable:it["a"],VDialog:at["a"],VDivider:B["a"],VIcon:V["a"],VRow:fe["a"],VSelect:ot["a"],VSpacer:L["a"],VTextField:he["a"],VToolbar:st["a"],VToolbarTitle:q["b"]});var ca=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Auditoría: Mantenimiento Peticiones Vecinos Satisfechos")])])],1),i("v-row",[i("v-card",[i("v-card-title",{staticClass:"text-h5 grey lighten-2 justify-center"},[e._v(" Reporte Auditoría ")]),i("v-card-text",{staticClass:"justify-center"},[i("embed",{attrs:{src:e.pdf_url,width:"1000",height:"575",type:"application/pdf"}})]),i("v-divider")],1)],1)]],2)},ra=[],da={mounted:function(){this.obtener_datos()},data:function(){return{pdf_url:"",step:1,editedIndex:-1}},methods:{obtener_datos:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/reporte/mntosatisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.pdf_url=t.data.url_pdf})).catch((function(e){console.log(e.response.data)}))}}},ua=da,ma=Object(m["a"])(ua,ca,ra,!1,null,null,null),pa=ma.exports;v()(ma,{VCard:R["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:P["a"],VDivider:B["a"],VRow:fe["a"]});var va=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("h1",{staticClass:"display-1 text-left font-weight-bold mb-3"},[e._v("Auditoría: Mantenimiento Peticiones Vecinos Muy Satisfechos")])])],1),i("v-row",[i("v-card",[i("v-card-title",{staticClass:"text-h5 grey lighten-2 justify-center"},[e._v(" Reporte Auditoría ")]),i("v-card-text",{staticClass:"justify-center"},[i("embed",{attrs:{src:e.pdf_url,width:"1000",height:"575",type:"application/pdf"}})]),i("v-divider")],1)],1)]],2)},ga=[],fa={mounted:function(){this.obtener_datos()},data:function(){return{pdf_url:"",step:1,editedIndex:-1}},methods:{obtener_datos:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/reporte/mntomuysatisfechos/"+JSON.parse(localStorage.getItem("alcaldia"))).then((function(t){e.pdf_url=t.data.url_pdf})).catch((function(e){console.log(e.response.data)}))}}},ha=fa,ba=Object(m["a"])(ha,va,ga,!1,null,null,null),xa=ba.exports;v()(ba,{VCard:R["a"],VCardText:pe["b"],VCardTitle:pe["c"],VCol:ve["a"],VContainer:P["a"],VDivider:B["a"],VRow:fe["a"]});var Ia=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-view-dashboard")]),e._v(" Dashboard Mantenimiento Vecinos Satisfechos ")],1),i("br"),i("v-row",{attrs:{align:"center",justify:"space-around"}},[i("v-btn",{on:{click:function(t){return e.getMetasSatisfechosAlcaldias()}}},[e._v(" Todas las Alcaldias ")]),"1"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?i("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){e.getMetasByDistrito(),e.getDistritos()}}},[e._v(" Estado Distritos ")]):e._e(),i("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getMetaRegion()}}},[e._v(" Estado Región 1 ")]),"3"==e.alcaldias.alcaldia_id?i("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getMetasGlobalesBySector()}}},[e._v(" Estado Sectores ")]):e._e()],1)],1),i("v-col",[i("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetas()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?i("v-select",{attrs:{items:e.distrito,"item-text":"distrito","item-value":"distrito_id",label:"Seleccione Distrito",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasColoniasByDistritos()}},model:{value:e.distrito.distrito_id,callback:function(t){e.$set(e.distrito,"distrito_id",t)},expression:"distrito.distrito_id"}}):e._e(),"3"==e.alcaldias.alcaldia_id?i("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasBySector()}},model:{value:e.sector.sector,callback:function(t){e.$set(e.sector,"sector",t)},expression:"sector.sector"}}):e._e(),i("v-divider")],1)],1),i("v-row",e._l(e.arreglo,(function(e,t){return i("v-col",{key:t,attrs:{cols:"3"}},[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",elevation:"13",outlined:""}},[i("v-list-item",{attrs:{"three-line":""}},[i("v-list-item-content",[i("div",{staticClass:"text-overline mb-4"},[i("highcharts",{attrs:{options:e.chart}})],1)])],1)],1)],1)})),1)],1)},Sa=[],_a=i("ea7f"),wa=i.n(_a),ka=i("33c6"),Ca=i.n(ka);Ca()(wa.a);var Va={components:{highcharts:ne["Chart"]},methods:{getMetaRegion:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntosatisfechosregion").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasSatisfechosAlcaldias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntosatisfechos").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasColoniasByDistritos:function(){var e=this;console.log(this.distrito.distrito_id),w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntosatisfechos/"+this.alcaldias.alcaldia_id+"/"+this.distrito.distrito_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getDistritos:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.alcaldias.alcaldia_id).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getAlcaldias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntoalcaldia/"+this.alcaldias.alcaldia_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getSector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.alcaldias.alcaldia_id).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},getMetasByDistrito:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntodistrito/"+this.alcaldias.alcaldia_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasBySector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntoporsector/"+this.sector.sector).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasGlobalesBySector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntometaporsector/"+this.alcaldias.alcaldia_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetas:function(){switch(this.alcaldias.alcaldia_id){case 1:this.getMetasByDistrito(),this.getDistritos();break;case 2:this.getColonias();break;case 3:this.getSector(),this.getMetasGlobalesBySector();break;case 4:this.getMetasByDistrito(),this.getDistritos();break}}},data:function(){return{arreglo:[],alcaldias:[],distrito:[],sector:[]}},mounted:function(){this.getMetaRegion(),this.getAlcaldias()}},Na=Va,$a=Object(m["a"])(Na,Ia,Sa,!1,null,null,null),ya=$a.exports;v()($a,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCol:ve["a"],VContainer:P["a"],VDivider:B["a"],VIcon:V["a"],VListItem:f["a"],VListItemContent:h["a"],VRow:fe["a"],VSelect:ot["a"]});var Aa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-view-dashboard")]),e._v(" Dashboard Mantenimiento Vecinos Muy Satisfechos ")],1),i("br"),i("v-row",{attrs:{align:"center",justify:"space-around"}},[i("v-btn",{on:{click:function(t){return e.getMetasSatisfechosAlcaldias()}}},[e._v(" Todas las Alcaldias ")]),"1"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?i("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){e.getMetasByDistrito(),e.getDistritos()}}},[e._v(" Estado Distritos ")]):e._e(),i("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getMetaRegion()}}},[e._v(" Estado Región 1 ")]),"3"==e.alcaldias.alcaldia_id?i("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getMetasGlobalesBySector()}}},[e._v(" Estado Sectores ")]):e._e()],1)],1),i("v-col",[i("v-select",{attrs:{items:e.alcaldias,"item-text":"alcaldia","item-value":"id",label:"Seleccione alcaldia",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetas()}},model:{value:e.alcaldias.alcaldia_id,callback:function(t){e.$set(e.alcaldias,"alcaldia_id",t)},expression:"alcaldias.alcaldia_id"}}),"1"==e.alcaldias.alcaldia_id||"4"==e.alcaldias.alcaldia_id?i("v-select",{attrs:{items:e.distrito,"item-text":"distrito","item-value":"distrito_id",label:"Seleccione Distrito",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasColoniasByDistritos()}},model:{value:e.distrito.distrito_id,callback:function(t){e.$set(e.distrito,"distrito_id",t)},expression:"distrito.distrito_id"}}):e._e(),"3"==e.alcaldias.alcaldia_id?i("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasBySector()}},model:{value:e.sector.sector,callback:function(t){e.$set(e.sector,"sector",t)},expression:"sector.sector"}}):e._e(),i("v-divider")],1)],1),i("v-row",e._l(e.arreglo,(function(e,t){return i("v-col",{key:t,attrs:{cols:"3"}},[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",elevation:"13",outlined:""}},[i("v-list-item",{attrs:{"three-line":""}},[i("v-list-item-content",[i("div",{staticClass:"text-overline mb-4"},[i("highcharts",{attrs:{options:e.chart}})],1)])],1)],1)],1)})),1)],1)},Ea=[];Ca()(wa.a);var za={components:{highcharts:ne["Chart"]},methods:{getMetaRegion:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuymetaregion").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasSatisfechosAlcaldias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuysatisfechos").then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasColoniasByDistritos:function(){var e=this;console.log(this.distrito.distrito_id),w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuysatisfechos/"+this.alcaldias.alcaldia_id+"/"+this.distrito.distrito_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getDistritos:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.alcaldias.alcaldia_id).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getAlcaldias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/alcaldias").then((function(t){e.alcaldias=t.data.alcaldias})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuyalcaldia/"+this.alcaldias.alcaldia_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getSector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.alcaldias.alcaldia_id).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},getMetasByDistrito:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuydistrito/"+this.alcaldias.alcaldia_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasBySector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuyporsector/"+this.sector.sector).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasGlobalesBySector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuymetaporsector/"+this.alcaldias.alcaldia_id).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetas:function(){switch(this.alcaldias.alcaldia_id){case 1:this.getMetasByDistrito(),this.getDistritos();break;case 2:this.getColonias();break;case 3:this.getSector(),this.getMetasGlobalesBySector();break;case 4:this.getMetasByDistrito(),this.getDistritos();break}}},data:function(){return{arreglo:[],alcaldias:[],distrito:[],sector:[]}},mounted:function(){this.getMetaRegion(),this.getAlcaldias()}},Da=za,Ta=Object(m["a"])(Da,Aa,Ea,!1,null,null,null),Oa=Ta.exports;v()(Ta,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCol:ve["a"],VContainer:P["a"],VDivider:B["a"],VIcon:V["a"],VListItem:f["a"],VListItemContent:h["a"],VRow:fe["a"],VSelect:ot["a"]});var Ra=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-view-dashboard")]),e._v(" Dashboard Mantenimiento Vecinos Satisfechos ")],1),i("br"),i("v-row",{attrs:{align:"center",justify:"space-around"}},[i("v-btn",{on:{click:function(t){return e.getMetasSatisfechosAlcaldias()}}},[e._v(" Alcaldia ")]),"1"==e.userData.alcaldia||"4"==e.userData.alcaldia?i("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getMetasColoniasByDistritos()}}},[e._v(" Estado Colonias ")]):e._e(),"2"==e.userData.alcaldia?i("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getColonias()}}},[e._v(" Estado Colonias ")]):e._e(),"3"==e.userData.alcaldia?i("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getMetasGlobalesBySector()}}},[e._v(" Estado Sectores ")]):e._e()],1)],1),i("v-col",["3"==e.userData.alcaldia?i("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasBySector()}},model:{value:e.sector.sector,callback:function(t){e.$set(e.sector,"sector",t)},expression:"sector.sector"}}):e._e(),i("v-divider")],1)],1),i("v-row",e._l(e.arreglo,(function(e,t){return i("v-col",{key:t,attrs:{cols:"3"}},[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",elevation:"13",outlined:""}},[i("v-list-item",{attrs:{"three-line":""}},[i("v-list-item-content",[i("div",{staticClass:"text-overline mb-4"},[i("highcharts",{attrs:{options:e.chart}})],1)])],1)],1)],1)})),1)],1)},Pa=[];Ca()(wa.a);var Ba={components:{highcharts:ne["Chart"]},methods:{getMetasSatisfechosAlcaldias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntosatisfechos/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasColoniasByDistritos:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntosatisfechos/"+this.userData.alcaldia+"/"+this.userData.distrito).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetaByDistritoAlcaldia:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntodistritoAlcaldia/"+this.userData.alcaldia+"/"+this.userData.distrito).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getDistritos:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.userData.alcaldia).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntoalcaldia/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getSector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.userData.alcaldia).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},getMetasByDistrito:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntodistrito/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasBySector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntoporsector/"+this.sector.sector).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasGlobalesBySector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntometaporsector/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetas:function(){switch(this.userData.alcaldia){case 1:this.getMetaByDistritoAlcaldia(),this.getDistritos();break;case 2:this.getMetasSatisfechosAlcaldias();break;case 3:this.getSector(),this.getMetasSatisfechosAlcaldias();break;case 4:this.getMetaByDistritoAlcaldia(),this.getDistritos();break}}},data:function(){return{arreglo:[],distrito:[],sector:[]}},mounted:function(){this.getMetas()},computed:{userData:function(){var e={alcaldia:JSON.parse(localStorage.getItem("alcaldia")),distrito:JSON.parse(localStorage.getItem("distrito"))};return e}}},Ma=Ba,ja=Object(m["a"])(Ma,Ra,Pa,!1,null,null,null),Ja=ja.exports;v()(ja,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCol:ve["a"],VContainer:P["a"],VDivider:B["a"],VIcon:V["a"],VListItem:f["a"],VListItemContent:h["a"],VRow:fe["a"],VSelect:ot["a"]});var Fa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-row",[i("v-col",{staticClass:"mb-4"},[i("v-banner",{staticClass:"indigo darken-4 white--text",attrs:{elevation:"9",outlined:"",rounded:""}},[i("v-icon",{staticClass:"white"},[e._v("mdi-view-dashboard")]),e._v(" Dashboard Mantenimiento Vecinos Muy Satisfechos ")],1),i("br"),i("v-row",{attrs:{align:"center",justify:"space-around"}},["2"==e.userData.alcaldia||"3"==e.userData.alcaldia?i("v-btn",{on:{click:function(t){return e.getMetasSatisfechosAlcaldias()}}},[e._v(" Alcaldia ")]):e._e(),"1"==e.userData.alcaldia||"4"==e.userData.alcaldia?i("v-btn",{on:{click:function(t){return e.getMetaByDistritoAlcaldia()}}},[e._v(" Alcaldia ")]):e._e(),"1"==e.userData.alcaldia||"4"==e.userData.alcaldia?i("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getMetasColoniasByDistritos()}}},[e._v(" Estado Colonias ")]):e._e(),"2"==e.userData.alcaldia||"3"==e.userData.alcaldia?i("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getColonias()}}},[e._v(" Estado Colonias ")]):e._e(),"3"==e.userData.alcaldia?i("v-btn",{attrs:{align:"center",justify:"space-around"},on:{click:function(t){return e.getMetasGlobalesBySector()}}},[e._v(" Estado Sectores ")]):e._e()],1)],1),i("v-col",["3"==e.userData.alcaldia?i("v-select",{attrs:{items:e.sector,"item-text":"sector","item-value":"id",label:"Sector",outlined:"",color:"#10069f"},on:{change:function(t){return e.getMetasBySector()}},model:{value:e.sector.sector,callback:function(t){e.$set(e.sector,"sector",t)},expression:"sector.sector"}}):e._e(),i("v-divider")],1)],1),i("v-row",e._l(e.arreglo,(function(e,t){return i("v-col",{key:t,attrs:{cols:"3"}},[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",elevation:"13",outlined:""}},[i("v-list-item",{attrs:{"three-line":""}},[i("v-list-item-content",[i("div",{staticClass:"text-overline mb-4"},[i("highcharts",{attrs:{options:e.chart}})],1)])],1)],1)],1)})),1)],1)},La=[];Ca()(wa.a);var Ga={components:{highcharts:ne["Chart"]},methods:{getMetasSatisfechosAlcaldias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuysatisfechos/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasColoniasByDistritos:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuysatisfechos/"+this.userData.alcaldia+"/"+this.userData.distrito).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetaByDistritoAlcaldia:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuydistritoAlcaldia/"+this.userData.alcaldia+"/"+this.userData.distrito).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getDistritos:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/distritos/"+this.userData.alcaldia).then((function(t){e.distrito=t.data.distritos})).catch((function(e){console.log(e.response.data)}))},getColonias:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuyalcaldia/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getSector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/catalogo/sectores/"+this.userData.alcaldia).then((function(t){e.sector=t.data.sectores})).catch((function(e){console.log(e.response.data)}))},getMetasByDistrito:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuydistrito/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasBySector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuyporsector/"+this.sector.sector).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetasGlobalesBySector:function(){var e=this;w.a.get("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/dashboard/mntomuymetaporsector/"+this.userData.alcaldia).then((function(t){e.arreglo=t.data})).catch((function(e){console.log(e.response.data)}))},getMetas:function(){switch(this.userData.alcaldia){case 1:this.getMetaByDistritoAlcaldia(),this.getDistritos();break;case 2:this.getMetasSatisfechosAlcaldias();break;case 3:this.getSector(),this.getMetasSatisfechosAlcaldias();break;case 4:this.getMetaByDistritoAlcaldia(),this.getDistritos();break}}},data:function(){return{arreglo:[],alcaldias:[],distrito:[],sector:[]}},mounted:function(){this.getMetas()},computed:{userData:function(){var e={alcaldia:JSON.parse(localStorage.getItem("alcaldia")),distrito:JSON.parse(localStorage.getItem("distrito"))};return e}}},qa=Ga,Za=Object(m["a"])(qa,Fa,La,!1,null,null,null),Ua=Za.exports;v()(Za,{VBanner:Ke["a"],VBtn:me["a"],VCard:R["a"],VCol:ve["a"],VContainer:P["a"],VDivider:B["a"],VIcon:V["a"],VListItem:f["a"],VListItemContent:h["a"],VRow:fe["a"],VSelect:ot["a"]}),a["default"].component("inicio",Ye),a["default"].component("usuarios",lt),a["default"].component("perfil",gt),a["default"].component("muysatisfechos",Ht),a["default"].component("satisfechos",ni),a["default"].component("creaVecino",mi),a["default"].component("crearSeguimiento",bi),a["default"].component("crearInsatisfecho",ki),a["default"].component("metasSatisfechos",Ei),a["default"].component("metasMuySatisfechos",Ei),a["default"].component("crearPeticion",_t),a["default"].component("peticionVecino",$t),a["default"].component("seguimiento",Tt),a["default"].component("dashboard",ya),a["default"].component("dashboardMuySatisfechos",Oa),a["default"].component("dashboardSatisfechosByAlcaldia",Ja),a["default"].component("dashboardMuySatisfechosByAlcaldia",Ua),a["default"].component("auditoriaSatisfechos",ta),a["default"].component("auditoriaMuySatisfechos",la),a["default"].component("audiSatisfechos",pa),a["default"].component("audiMuySatisfechos",xa),a["default"].use(ae["a"]),a["default"].use(se.a),a["default"].use(le.a);var Ha=[{path:"/",name:"login",component:xe,meta:{hideNavbar:!0}},{path:"/inicio",component:Ye},{path:"/usuarios",component:lt},{path:"/perfil",component:gt},{path:"/nuevoVecino",component:mi},{path:"/insatisfecho",component:ki},{path:"/ingresarSeguimiento",component:bi},{path:"/muysatisfechos",component:Ht},{path:"/satisfechos",component:ni},{path:"/peticion",component:_t},{path:"/peticion-vecino",component:$t},{path:"/seguimiento",component:Tt},{path:"/metasSatisfechos",component:Ei},{path:"/metasMuySatisfechos",component:Pi},{path:"/auditoriaSatisfechos",component:ta},{path:"/auditoriaMuySatisfechos",component:la},{path:"/audiSatisfechos",component:pa},{path:"/audiMuySatisfechos",component:xa},{path:"/dashboard",component:ya},{path:"/dashboardMuySatisfechos",component:Oa},{path:"/indicadoresSatisfechos",component:Ja},{path:"/indicadoresMuySatisfechos",component:Ua}],Ka=new ae["a"]({routes:Ha});Ka.beforeEach((function(e,t,i){ee.dispatch("fetchAccessToken");var a={url:e.path,rol:JSON.parse(localStorage.getItem("rol"))};return w.a.post("http://udicat.muniguate.com/apis/api-portalpeticiones/public/v1/rutas",a).then((function(e){if(e.data.length<=0)return i("/inicio")})).catch((function(e){console.log(e.response.data)})),"login"!=e.name&&null==ee.state.accessToken?i("/"):"login"==e.name&&null!=ee.state.accessToken?i("/inicio"):void i()}));var Wa=t["default"]=Ka;a["default"].config.productionTip=!1,new a["default"]({router:Ka,store:ee,vuetify:ie,render:function(e){return e(U)}}).$mount("#app")},"75bf":function(e,t,i){},"8f1f":function(e,t,i){e.exports=i.p+"img/logo1.6fb3c337.png"},cd0c:function(e,t,i){},fda1:function(e,t,i){"use strict";i("75bf")}});
//# sourceMappingURL=app.05cc8c43.js.map